{"id":"tilt_ui-0xg","title":"Design and implement BrewSignal Recipe Format v1.0","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-09T18:41:26.319589488+11:00","updated_at":"2025-12-09T18:41:26.319589488+11:00"}
{"id":"tilt_ui-1w4","title":"Integrate ML Pipeline with Main Application","description":"The ML pipeline is complete and tested (PR #61) but not yet integrated with the main application. This issue tracks connecting the ML components to the live reading pipeline.\n\n**Current State:**\n✅ Complete:\n- ML pipeline implementation in backend/ml/\n- 48/48 tests passing\n- Per-device state isolation\n- Kalman filtering, anomaly detection, curve fitting, MPC\n\n❌ Not Connected:\n- Not called from backend/main.py reading handler\n- Not exposed via API endpoints\n- Not displayed in frontend UI\n- State lost on service restart\n\n**Proposed Integration:**\n\nPhase 1: Basic Integration\n1. Add MLPipelineManager to backend/main.py\n2. Process readings through ML pipeline in handle_tilt_reading()\n3. Broadcast ML results via WebSocket\n4. Display filtered values on dashboard\n\nPhase 2: State Persistence\n5. Hydrate ML state from database on startup (last 48 hours)\n6. Ensures predictions work immediately after restart\n7. Option: Store ML results in new ml_results table\n\nPhase 3: UI Integration\n8. Show Kalman-filtered values on dashboard\n9. Display FG predictions and completion estimates\n10. Anomaly alerts (stuck fermentation, temperature spikes)\n11. MPC temperature trajectory visualization\n\n**Acceptance Criteria:**\n- ML pipeline processes all live Tilt readings\n- Filtered values broadcast via WebSocket\n- ML state survives service restarts\n- Dashboard shows filtered SG/temp\n- Predictions visible on batch detail page\n- Anomaly alerts displayed to user\n- No performance degradation (\u003c10ms overhead)\n\n**GitHub Issue:** #62","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-09T19:54:47.785215585+11:00","updated_at":"2025-12-09T19:54:47.785215585+11:00"}
{"id":"tilt_ui-crx","title":"Enhance recipe CRUD frontend with better UX","description":"Current recipe CRUD frontend is minimal and functional but could be improved with:\n- Better form validation and error messages\n- Ingredient list display and editing (fermentables, hops, yeasts)\n- Richer recipe detail view with all BeerJSON fields\n- Batch size conversion tools (L/gal)\n- Temperature unit conversion display (C/F)\n- Recipe cloning/duplication\n- Recipe search and filtering\n- Style guide integration\n- Print/export functionality\n\nCurrent implementation covers basic recipe metadata (name, author, style, OG, FG, ABV, IBU, color, batch size, notes) but BeerJSON import includes much more detail that isn't exposed in the UI yet.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-09T19:50:26.932820447+11:00","updated_at":"2025-12-09T19:50:26.932820447+11:00"}
{"id":"tilt_ui-pzu","title":"Build frontend UI for recipe management","description":"Create comprehensive frontend UI for the recipe CRUD system implemented in PR #87 (now merged).\n\n**Backend Capabilities (Already Built):**\n✅ Multi-format recipe import (BeerXML, BeerJSON, Brewfather JSON)\n✅ Full CRUD API endpoints (GET, POST, PUT, DELETE)\n✅ BeerJSON 2.06 schema support\n✅ Recipe serializer for BeerJSON output\n✅ Database migrations complete\n\n**PR Reference:** https://github.com/machug/brewsignal/pull/87\n\n---\n\n## Frontend Work Required\n\n### 1. Recipe List Page (`/recipes`)\n- [ ] Table/card view of all recipes\n- [ ] Filter/search by name, style\n- [ ] Sort by name, date created\n- [ ] Quick actions: View, Edit, Delete\n- [ ] Import button (multi-format)\n\n### 2. Recipe Detail Page (`/recipes/[id]`)\n- [ ] Display all BeerJSON fields:\n  - Name, style, brewer, batch size\n  - OG, FG, ABV, IBU, color (SRM)\n  - Boil time, efficiency\n  - Carbonation volumes\n- [ ] Show ingredients (fermentables, hops, cultures/yeasts, misc)\n- [ ] Display mash/fermentation/packaging steps\n- [ ] Edit/Delete actions\n- [ ] \"Create Batch from Recipe\" button\n\n### 3. Recipe Import UI\n- [ ] Multi-format file picker (.xml for BeerXML, .json for BeerJSON/Brewfather)\n- [ ] Format detection help text\n- [ ] Import progress/error feedback\n- [ ] Handle array error responses from backend\n\n### 4. Recipe Create/Edit Forms\n- [ ] Basic info: name, style, brewer, batch size\n- [ ] Gravity/alcohol: OG, FG, ABV\n- [ ] Color/bitterness: SRM, IBU\n- [ ] Brewing params: boil time, efficiency, carbonation\n- [ ] Ingredients sections (fermentables, hops, cultures, misc)\n- [ ] Mash/fermentation/packaging steps\n- [ ] Format extensions field (JSON)\n- [ ] Field validation (updateRecipe uses whitelist)\n\n### 5. Integration Points\n- [ ] Update batch create flow to select from recipes\n- [ ] Link recipe detail to associated batches\n- [ ] Handle temperature unit conversion (C/F)\n- [ ] Use existing TailwindCSS styling conventions\n\n---\n\n## Technical Notes\n\n**API Endpoints Available:**\n- GET /api/recipes - List all recipes\n- GET /api/recipes/{id} - Get recipe details\n- POST /api/recipes - Create recipe\n- PUT /api/recipes/{id} - Update recipe (uses field whitelist)\n- DELETE /api/recipes/{id} - Delete recipe\n- POST /api/recipes/import - Import from file (BeerXML/BeerJSON/Brewfather)\n- GET /api/recipes/{id}/beerjson - Export as BeerJSON\n\n**Frontend API Functions (Already Created):**\n```typescript\n// From frontend/src/lib/api.ts\ncreateRecipe(data: RecipeCreate): Promise\u003cRecipeResponse\u003e\nupdateRecipe(id: number, data: RecipeUpdate): Promise\u003cRecipeResponse\u003e\nimportRecipe(file: File): Promise\u003cRecipeResponse\u003e\n```\n\n**BeerJSON Field Names:**\n- Use `og`, `fg`, `abv` (NOT og_target, fg_target)\n- Use `color_srm`, `batch_size_liters`\n- Cultures table (was yeasts)\n\n**Security:**\n- updateRecipe uses field whitelist (can't update arbitrary fields)\n- Handle both string and array error formats\n\n---\n\n## Acceptance Criteria\n- [ ] Can view list of all recipes\n- [ ] Can import recipe from BeerXML, BeerJSON, or Brewfather JSON\n- [ ] Can view recipe details with all fields\n- [ ] Can create new recipe manually\n- [ ] Can edit existing recipe (respects backend field whitelist)\n- [ ] Can delete recipe\n- [ ] Can create batch from recipe (integration point)\n- [ ] Temperature units respect user preferences (C/F)\n- [ ] Error handling for import failures\n- [ ] Responsive design (mobile-friendly)\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-09T10:52:36.617912412+11:00","updated_at":"2025-12-09T11:35:47.274967461+11:00","closed_at":"2025-12-09T11:35:47.274970341+11:00"}
