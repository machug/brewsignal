# BrewSignal Configuration
# Copy this to .env and adjust values for your deployment

# =============================================================================
# DEPLOYMENT MODE
# =============================================================================
# local  = Single-user RPi deployment (SQLite, optional auth)
# cloud  = Multi-tenant SaaS (PostgreSQL, required auth)
DEPLOYMENT_MODE=local

# =============================================================================
# DATABASE
# =============================================================================
# For local mode: leave empty to use default SQLite (data/fermentation.db)
# For cloud mode: Use Supabase connection string (required)
# Get from: Supabase Dashboard > Project Settings > Database > Connection string (URI)
# Use the "Session" pooler mode with port 5432 for best compatibility
# DATABASE_URL=postgresql+asyncpg://postgres.xxxxx:password@aws-0-region.pooler.supabase.com:5432/postgres

# =============================================================================
# AUTHENTICATION
# =============================================================================
# Get these from: Supabase Dashboard > Project Settings > API
# In local mode: optional but recommended for data claiming and multi-tenant features
# In cloud mode: required
#
# When configured, users can login with their BrewSignal account to:
# - Claim existing data as their own
# - Access data across devices logged into the same account
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =============================================================================
# MULTI-TENANCY
# =============================================================================
# Automatically enabled in cloud mode
# MULTI_TENANT=false

# =============================================================================
# EXTERNAL APIS
# =============================================================================
# Brewfather integration (optional)
# BREWFATHER_USER_ID=
# BREWFATHER_API_KEY=
BREWFATHER_API_ENDPOINT=https://api.brewfather.app/v2/

# Anthropic API for AI features (optional)
# ANTHROPIC_API_KEY=

# =============================================================================
# SCANNER SETTINGS
# =============================================================================
# Set to true for development without BLE hardware
SCANNER_MOCK=false

# Relay mode: receive readings from remote TiltPi instead of local BLE
# SCANNER_RELAY_HOST=192.168.1.100

# =============================================================================
# SERVER SETTINGS
# =============================================================================
HOST=0.0.0.0
PORT=8080
