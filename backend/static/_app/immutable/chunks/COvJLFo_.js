const a="/api",h=[{label:"1H",hours:1},{label:"6H",hours:6},{label:"24H",hours:24},{label:"7D",hours:168},{label:"30D",hours:720}];async function f(e,t=24,s){let r=`${a}/devices/${e}/readings?hours=${t}&limit=5000`;s!==void 0&&(r+=`&batch_id=${s}`);const o=await fetch(r);if(!o.ok)throw new Error(`Failed to fetch readings: ${o.statusText}`);return o.json()}async function d(e=24){const t=await fetch(`${a}/ambient/history?hours=${e}`);if(!t.ok)throw new Error("Failed to fetch ambient history");return t.json()}async function u(e=24){const t=await fetch(`${a}/chamber/history?hours=${e}`);if(!t.ok)throw new Error("Failed to fetch chamber history");return t.json()}async function l(e){const t=await fetch(`${a}/batches/${e}/predictions`);if(!t.ok)throw new Error(`Failed to fetch batch predictions: ${t.statusText}`);return t.json()}async function p(e){const t=await fetch(`${a}/batches/${e}/reload-predictions`,{method:"POST"});if(!t.ok){const s=await t.json().catch(()=>({detail:t.statusText}));throw new Error(s.detail||"Failed to reload predictions")}return t.json()}async function w(){const e=await fetch(`${a}/control/heater-entities`);if(!e.ok)throw new Error(`Failed to fetch heater entities: ${e.statusText}`);return e.json()}async function y(){const e=await fetch(`${a}/control/cooler-entities`);if(!e.ok)throw new Error(`Failed to fetch cooler entities: ${e.statusText}`);return e.json()}async function $(e){const t=await fetch(`${a}/control/batch/${e}/status`);if(!t.ok)throw new Error(`Failed to fetch batch control status: ${t.statusText}`);return t.json()}async function T(e,t,s=60,r="heater"){return(await fetch(`${a}/control/override`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:t,duration_minutes:s,batch_id:e,device_type:r})})).json()}async function i(e,t,s=50,r=0,o=!1){const n=new URLSearchParams;o&&n.append("deleted_only","true"),n.append("limit",String(s)),n.append("offset",String(r));const c=await fetch(`${a}/batches?${n}`);if(!c.ok)throw new Error(`Failed to fetch batches: ${c.statusText}`);return c.json()}async function j(e=50,t=0){const s=new URLSearchParams;s.append("limit",String(e)),s.append("offset",String(t));const r=await fetch(`${a}/batches/active?${s}`);if(!r.ok)throw new Error(`Failed to fetch active batches: ${r.statusText}`);return r.json()}async function b(e=50,t=0){const s=new URLSearchParams;s.append("limit",String(e)),s.append("offset",String(t));const r=await fetch(`${a}/batches/completed?${s}`);if(!r.ok)throw new Error(`Failed to fetch completed batches: ${r.statusText}`);return r.json()}async function m(e=50,t=0){return i(void 0,void 0,e,t,!0)}async function E(e){const t=await fetch(`${a}/batches/${e}`);if(!t.ok)throw new Error(`Failed to fetch batch: ${t.statusText}`);return t.json()}async function S(e){const t=await fetch(`${a}/batches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create batch: ${t.statusText}`);return t.json()}async function x(e,t){const s=await fetch(`${a}/batches/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`Failed to update batch: ${s.statusText}`);return s.json()}async function F(e,t=!1){const s=`${a}/batches/${e}/delete`,r=t?`${s}?hard_delete=true`:s,o=await fetch(r,{method:"POST"});if(!o.ok)throw new Error(`Failed to delete batch: ${o.statusText}`)}async function k(e){const t=await fetch(`${a}/batches/${e}/restore`,{method:"POST"});if(!t.ok)throw new Error(`Failed to restore batch: ${t.statusText}`);return t.json()}async function g(e){const t=await fetch(`${a}/batches/${e}/progress`);if(!t.ok)throw new Error(`Failed to fetch batch progress: ${t.statusText}`);return t.json()}async function P(e=50,t=0){const s=await fetch(`${a}/recipes?limit=${e}&offset=${t}`);if(!s.ok){const r=await s.json().catch(()=>({detail:s.statusText}));throw new Error(r.detail||"Failed to fetch recipes")}return s.json()}async function O(e){const t=await fetch(`${a}/recipes/${e}`);if(!t.ok){const s=await t.json().catch(()=>({detail:t.statusText}));throw new Error(s.detail||"Failed to fetch recipe")}return t.json()}async function v(e){const t=await fetch(`${a}/recipes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const s=await t.json().catch(()=>({detail:t.statusText})),r=Array.isArray(s.detail)?s.detail.join("; "):s.detail;throw new Error(r||"Failed to create recipe")}return t.json()}async function B(e,t){const s=await fetch(`${a}/recipes/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){const r=await s.json().catch(()=>({detail:s.statusText})),o=Array.isArray(r.detail)?r.detail.join("; "):r.detail;throw new Error(o||"Failed to update recipe")}return s.json()}async function C(e){const t=new FormData;t.append("file",e);const s=await fetch(`${a}/recipes/import`,{method:"POST",body:t});if(!s.ok){const r=await s.json().catch(()=>({detail:s.statusText})),o=Array.isArray(r.detail)?r.detail.join("; "):r.detail;throw new Error(o||"Failed to import recipe")}return s.json()}async function _(e){const t=await fetch(`${a}/recipes/${e}`,{method:"DELETE"});if(!t.ok){const s=await t.json().catch(()=>({detail:t.statusText}));throw new Error(s.detail||"Failed to delete recipe")}}async function R(){const e=await fetch(`${a}/maintenance/orphaned-data`);if(!e.ok)throw new Error(`Failed to fetch orphaned data: ${e.statusText}`);return e.json()}async function A(e){const t=await fetch(`${a}/maintenance/cleanup-readings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deleted_batch_ids:e,dry_run:!0})});if(!t.ok){const s=await t.json().catch(()=>({detail:t.statusText}));throw new Error(s.detail||"Failed to preview cleanup")}return t.json()}async function D(e){const t=await fetch(`${a}/maintenance/cleanup-readings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deleted_batch_ids:e,dry_run:!1})});if(!t.ok){const s=await t.json().catch(()=>({detail:t.statusText}));throw new Error(s.detail||"Failed to execute cleanup")}return t.json()}async function N(e,t=24){const s=await fetch(`${a}/batches/${e}/control-events?hours=${t}`);if(!s.ok)throw new Error(`Failed to fetch control events: ${s.statusText}`);return s.json()}async function H(e){const t=new URLSearchParams,s=await fetch(`${a}/yeast-strains?${t}`);if(!s.ok)throw new Error(`Failed to fetch yeast strains: ${s.statusText}`);return s.json()}async function J(){const e=await fetch(`${a}/yeast-strains/producers`);if(!e.ok)throw new Error(`Failed to fetch yeast producers: ${e.statusText}`);return e.json()}async function L(e){const t=await fetch(`${a}/yeast-strains`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create yeast strain: ${t.statusText}`);return t.json()}async function U(e){const t=await fetch(`${a}/yeast-strains/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete yeast strain: ${t.statusText}`)}async function Y(){const e=await fetch(`${a}/yeast-strains/refresh`,{method:"POST"});if(!e.ok)throw new Error(`Failed to refresh yeast strains: ${e.statusText}`);return e.json()}export{u as A,N as B,x as C,i as D,l as E,p as F,$ as G,T as H,h as T,v as a,H as b,S as c,J as d,D as e,R as f,L as g,U as h,C as i,O as j,m as k,b as l,j as m,g as n,k as o,A as p,F as q,Y as r,P as s,w as t,B as u,y as v,_ as w,E as x,f as y,d as z};
