const o="/api",h=[{label:"1H",hours:1},{label:"6H",hours:6},{label:"24H",hours:24},{label:"7D",hours:168},{label:"30D",hours:720},{label:"All",hours:0}];async function d(e,t,n){const a=new URLSearchParams;a.append("limit","5000"),t!==void 0&&t>0&&a.append("hours",String(t)),n!==void 0&&a.append("batch_id",String(n));const s=await fetch(`${o}/devices/${e}/readings?${a}`);if(!s.ok)throw new Error(`Failed to fetch readings: ${s.statusText}`);return s.json()}async function p(e=24){const t=await fetch(`${o}/ambient/history?hours=${e}`);if(!t.ok)throw new Error("Failed to fetch ambient history");return t.json()}async function f(e=24){const t=await fetch(`${o}/chamber/history?hours=${e}`);if(!t.ok)throw new Error("Failed to fetch chamber history");return t.json()}async function u(e){const t=await fetch(`${o}/batches/${e}/predictions`);if(!t.ok)throw new Error(`Failed to fetch batch predictions: ${t.statusText}`);return t.json()}async function y(e){const t=await fetch(`${o}/batches/${e}/reload-predictions`,{method:"POST"});if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText}));throw new Error(n.detail||"Failed to reload predictions")}return t.json()}async function w(){const e=await fetch(`${o}/control/heater-entities`);if(!e.ok)throw new Error(`Failed to fetch heater entities: ${e.statusText}`);return e.json()}async function l(){const e=await fetch(`${o}/control/cooler-entities`);if(!e.ok)throw new Error(`Failed to fetch cooler entities: ${e.statusText}`);return e.json()}async function $(e){const t=await fetch(`${o}/control/batch/${e}/status`);if(!t.ok)throw new Error(`Failed to fetch batch control status: ${t.statusText}`);return t.json()}async function m(e,t,n=60,a="heater"){return(await fetch(`${o}/control/override`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:t,duration_minutes:n,batch_id:e,device_type:a})})).json()}async function c(e,t,n=50,a=0,s=!1){const r=new URLSearchParams;s&&r.append("deleted_only","true"),r.append("limit",String(n)),r.append("offset",String(a));const i=await fetch(`${o}/batches?${r}`);if(!i.ok)throw new Error(`Failed to fetch batches: ${i.statusText}`);return i.json()}async function T(e=50,t=0){const n=new URLSearchParams;n.append("limit",String(e)),n.append("offset",String(t));const a=await fetch(`${o}/batches/active?${n}`);if(!a.ok)throw new Error(`Failed to fetch active batches: ${a.statusText}`);return a.json()}async function j(e=50,t=0){const n=new URLSearchParams;n.append("limit",String(e)),n.append("offset",String(t));const a=await fetch(`${o}/batches/completed?${n}`);if(!a.ok)throw new Error(`Failed to fetch completed batches: ${a.statusText}`);return a.json()}async function E(e=50,t=0){return c(void 0,void 0,e,t,!0)}async function S(e){const t=await fetch(`${o}/batches/${e}`);if(!t.ok)throw new Error(`Failed to fetch batch: ${t.statusText}`);return t.json()}async function x(e){const t=await fetch(`${o}/batches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create batch: ${t.statusText}`);return t.json()}async function b(e,t){const n=await fetch(`${o}/batches/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Failed to update batch: ${n.statusText}`);return n.json()}async function v(e,t=!1){const n=`${o}/batches/${e}/delete`,a=t?`${n}?hard_delete=true`:n,s=await fetch(a,{method:"POST"});if(!s.ok)throw new Error(`Failed to delete batch: ${s.statusText}`)}async function F(e){const t=await fetch(`${o}/batches/${e}/restore`,{method:"POST"});if(!t.ok)throw new Error(`Failed to restore batch: ${t.statusText}`);return t.json()}async function k(e){const t=await fetch(`${o}/batches/${e}/progress`);if(!t.ok)throw new Error(`Failed to fetch batch progress: ${t.statusText}`);return t.json()}async function g(e=50,t=0){const n=await fetch(`${o}/recipes?limit=${e}&offset=${t}`);if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(a.detail||"Failed to fetch recipes")}return n.json()}async function P(e){const t=await fetch(`${o}/recipes/${e}`);if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText}));throw new Error(n.detail||"Failed to fetch recipe")}return t.json()}async function O(e){const t=await fetch(`${o}/recipes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText})),a=Array.isArray(n.detail)?n.detail.join("; "):n.detail;throw new Error(a||"Failed to create recipe")}return t.json()}async function C(e,t){const n=await fetch(`${o}/recipes/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText})),s=Array.isArray(a.detail)?a.detail.join("; "):a.detail;throw new Error(s||"Failed to update recipe")}return n.json()}async function _(e){const t=new FormData;t.append("file",e);const n=await fetch(`${o}/recipes/import`,{method:"POST",body:t});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText})),s=Array.isArray(a.detail)?a.detail.join("; "):a.detail;throw new Error(s||"Failed to import recipe")}return n.json()}async function R(e){const t=await fetch(`${o}/recipes/${e}`,{method:"DELETE"});if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText}));throw new Error(n.detail||"Failed to delete recipe")}}async function N(){const e=await fetch(`${o}/maintenance/orphaned-data`);if(!e.ok)throw new Error(`Failed to fetch orphaned data: ${e.statusText}`);return e.json()}async function B(e){const t=await fetch(`${o}/maintenance/cleanup-readings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deleted_batch_ids:e,dry_run:!0})});if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText}));throw new Error(n.detail||"Failed to preview cleanup")}return t.json()}async function H(e){const t=await fetch(`${o}/maintenance/cleanup-readings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deleted_batch_ids:e,dry_run:!1})});if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText}));throw new Error(n.detail||"Failed to execute cleanup")}return t.json()}async function J(e,t=24){const n=await fetch(`${o}/batches/${e}/control-events?hours=${t}`);if(!n.ok)throw new Error(`Failed to fetch control events: ${n.statusText}`);return n.json()}async function q(e){const t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.producer&&t.append("producer",e.producer),e?.form&&t.append("form",e.form),e?.search&&t.append("search",e.search),e?.is_custom!==void 0&&t.append("is_custom",String(e.is_custom)),e?.limit&&t.append("limit",String(e.limit)),e?.offset&&t.append("offset",String(e.offset));const n=await fetch(`${o}/yeast-strains?${t}`);if(!n.ok)throw new Error(`Failed to fetch yeast strains: ${n.statusText}`);return n.json()}async function L(){const e=await fetch(`${o}/yeast-strains/producers`);if(!e.ok)throw new Error(`Failed to fetch yeast producers: ${e.statusText}`);return e.json()}async function U(e){const t=await fetch(`${o}/yeast-strains`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create yeast strain: ${t.statusText}`);return t.json()}async function A(e){const t=await fetch(`${o}/yeast-strains/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete yeast strain: ${t.statusText}`)}async function Y(){const e=await fetch(`${o}/yeast-strains/refresh`,{method:"POST"});if(!e.ok)throw new Error(`Failed to refresh yeast strains: ${e.statusText}`);return e.json()}async function D(e){const t=new URLSearchParams;e?.origin&&t.append("origin",e.origin),e?.purpose&&t.append("purpose",e.purpose),e?.search&&t.append("search",e.search),e?.is_custom!==void 0&&t.append("is_custom",String(e.is_custom)),t.append("limit",String(e.limit)),e?.offset&&t.append("offset",String(e.offset));const n=await fetch(`${o}/hop-varieties?${t}`);if(!n.ok)throw new Error(`Failed to fetch hop varieties: ${n.statusText}`);return n.json()}async function I(e){const t=new URLSearchParams,n=await fetch(`${o}/inventory/equipment?${t}`);if(!n.ok)throw new Error(`Failed to fetch equipment: ${n.statusText}`);return n.json()}async function G(e){const t=await fetch(`${o}/inventory/equipment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText}));throw new Error(n.detail||"Failed to create equipment")}return t.json()}async function M(e,t){const n=await fetch(`${o}/inventory/equipment/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(a.detail||"Failed to update equipment")}return n.json()}async function V(e){const t=await fetch(`${o}/inventory/equipment/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete equipment: ${t.statusText}`)}async function W(e){const t=new URLSearchParams,n=await fetch(`${o}/inventory/hops?${t}`);if(!n.ok)throw new Error(`Failed to fetch hop inventory: ${n.statusText}`);return n.json()}async function z(){const e=await fetch(`${o}/inventory/hops/summary`);if(!e.ok)throw new Error(`Failed to fetch hop summary: ${e.statusText}`);return e.json()}async function K(e){const t=await fetch(`${o}/inventory/hops`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText}));throw new Error(n.detail||"Failed to create hop inventory")}return t.json()}async function Q(e,t){const n=await fetch(`${o}/inventory/hops/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(a.detail||"Failed to update hop inventory")}return n.json()}async function X(e,t){const n=await fetch(`${o}/inventory/hops/${e}/adjust`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({delta_grams:t})});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(a.detail||"Failed to adjust hop amount")}return n.json()}async function Z(e){const t=await fetch(`${o}/inventory/hops/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete hop: ${t.statusText}`)}async function tt(e){const t=new URLSearchParams;e?.query&&t.append("query",e.query),e?.form&&t.append("form",e.form),e?.include_expired!==void 0&&t.append("include_expired",String(e.include_expired)),e?.limit&&t.append("limit",String(e.limit)),e?.offset&&t.append("offset",String(e.offset));const n=await fetch(`${o}/inventory/yeast?${t}`);if(!n.ok)throw new Error(`Failed to fetch yeast inventory: ${n.statusText}`);return n.json()}async function et(e=30){const t=await fetch(`${o}/inventory/yeast/expiring-soon?days=${e}`);if(!t.ok)throw new Error(`Failed to fetch expiring yeast: ${t.statusText}`);return t.json()}async function nt(){const e=await fetch(`${o}/inventory/yeast/summary`);if(!e.ok)throw new Error(`Failed to fetch yeast summary: ${e.statusText}`);return e.json()}async function ot(e){const t=await fetch(`${o}/inventory/yeast`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({detail:t.statusText}));throw new Error(n.detail||"Failed to create yeast inventory")}return t.json()}async function at(e,t){const n=await fetch(`${o}/inventory/yeast/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(a.detail||"Failed to update yeast inventory")}return n.json()}async function st(e,t=1){const n=await fetch(`${o}/inventory/yeast/${e}/use`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:t})});if(!n.ok){const a=await n.json().catch(()=>({detail:n.statusText}));throw new Error(a.detail||"Failed to use yeast")}return n.json()}async function rt(e){const t=await fetch(`${o}/inventory/yeast/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete yeast: ${t.statusText}`)}export{L as A,U as B,A as C,P as D,C as E,E as F,j as G,T as H,k as I,F as J,v as K,g as L,J as M,b as N,c as O,S as P,d as Q,p as R,f as S,h as T,w as U,l as V,R as W,u as X,y as Y,$ as Z,m as _,W as a,z as b,tt as c,nt as d,et as e,I as f,q as g,D as h,G as i,Q as j,K as k,X as l,at as m,ot as n,V as o,Z as p,rt as q,st as r,x as s,_ as t,M as u,O as v,N as w,B as x,H as y,Y as z};
