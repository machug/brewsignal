function l(t,e){return 1+t.reduce((o,r)=>{const c=(r.potential_sg-1)*1e3,i=r.amount_kg*c*8.345*(e.efficiency_percent/100)/e.batch_size_liters;return o+i},0)/1e3}function f(t,e){return 1+(t-1)*1e3*(1-e/100)/1e3}function u(t,e,n="simple"){return n==="simple"?(t-e)*131.25:76.08*(t-e)/(1.775-t)*(e/.794)}function _(t,e,n){if(t.use==="dry_hop"||t.boil_time_minutes<=0)return 0;const a=1.65*Math.pow(125e-6,e-1),o=(1-Math.exp(-.04*t.boil_time_minutes))/4.15;let r=a*o;t.form==="pellet"&&(r*=1.1),t.use==="first_wort"&&(r*=1.1),t.use==="whirlpool"&&(r*=.2);const c=t.alpha_acid_percent/100*t.amount_grams*r*1e3/n;return Math.max(0,c)}function m(t,e,n){return t.reduce((a,o)=>a+_(o,e,n),0)}function M(t,e){const n=(e-1)*1e3;return n>0?t/n:0}function b(t,e){const n=e*.264172,a=t.reduce((r,c)=>{const i=c.amount_kg*2.20462;return r+i*c.color_srm/n},0),o=1.4922*Math.pow(a,.6859);return Math.min(40,Math.max(0,o))}function p(t){const e=Math.max(1,Math.min(40,t)),n={1:"#FFE699",2:"#FFD878",3:"#FFCA5A",4:"#FFBF42",5:"#FBB123",6:"#F8A600",7:"#F39C00",8:"#EA8F00",9:"#E58500",10:"#DE7C00",11:"#D77200",12:"#CF6900",13:"#CB6200",14:"#C35900",15:"#BB5100",16:"#B54C00",17:"#B04500",18:"#A63E00",19:"#A13700",20:"#9B3200",25:"#7C2900",30:"#5E1E00",35:"#401500",40:"#261000"},a=Object.keys(n).map(Number).sort((r,c)=>r-c);let o=a[0];for(const r of a)if(r<=e)o=r;else break;return n[o]||"#261000"}function h(t){return t<2?"Pale Straw":t<3?"Straw":t<4?"Pale Gold":t<6?"Deep Gold":t<9?"Amber":t<12?"Copper":t<15?"Light Brown":t<18?"Brown":t<20?"Dark Brown":t<24?"Very Dark":t<30?"Black":"Opaque Black"}function B(t,e,n=330){const o=u(t,e)*.79*7*(n/100),r=(e-1)*1e3*.4*(n/100);return Math.round(o+r)}function F(t,e,n,a){const o=l(t,a),r=f(o,n.attenuation_percent),c=u(o,r),i=m(e,o,a.batch_size_liters),s=b(t,a.batch_size_liters);return{og:Math.round(o*1e3)/1e3,fg:Math.round(r*1e3)/1e3,abv:Math.round(c*10)/10,ibu:Math.round(i),srm:Math.round(s*10)/10,color_hex:p(s),calories_per_330ml:B(o,r,330)}}export{h as a,l as b,M as c,b as d,m as e,_ as f,F as g,p as s};
