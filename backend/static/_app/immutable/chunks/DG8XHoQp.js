import{d as wo,c as Gs,a as pt,f as Pt,s as Ke,e as Mr}from"./CJmjvTrd.js";import{a as _o,f as ls,i as w,l as Il,h as bo,d as j,j as q,g as ee,s as $e,t as Vl,c as he,n as ln,p as zn,o as Cr,aJ as Dr,au as Cs}from"./Bt34JHv5.js";import{e as Ci,i as Di}from"./BdS3W2cr.js";import{i as dl}from"./DMJnaEfo.js";import{r as Lr,s as nn}from"./DPFjJc-R.js";import{s as zl}from"./F_XGNgUc.js";import{s as Sn}from"./DyZ30OTe.js";import{i as Rr,s as Pr}from"./DE7lyrTW.js";import{b as So}from"./CTUqcI2l.js";import{p as ns}from"./sjQSfnnq.js";import{T as Fr,P as Or,Q as Nr,R as Gr,S as zr}from"./DmqfiNBR.js";import{c as ss,d as Hn,b as xo,g as Ir}from"./i5gcUk_J.js";import{b as Vr}from"./CfFIp_fJ.js";const Hr=!0,ht="u-",Br="uplot",Wr=ht+"hz",Yr=ht+"vt",Ur=ht+"title",qr=ht+"wrap",Kr=ht+"under",jr=ht+"over",Jr=ht+"axis",sn=ht+"off",Zr=ht+"select",Qr=ht+"cursor-x",$r=ht+"cursor-y",Xr=ht+"cursor-pt",ea=ht+"legend",ta=ht+"live",la=ht+"inline",na=ht+"series",sa=ht+"marker",Li=ht+"label",ia=ht+"value",Bn="width",Wn="height",In="top",Ri="bottom",xn="left",Ds="right",js="#000",Pi=js+"0",Ls="mousemove",Fi="mousedown",Rs="mouseup",Oi="mouseenter",Ni="mouseleave",Gi="dblclick",oa="resize",ra="scroll",zi="change",os="dppxchange",Js="--",Cn=typeof window<"u",zs=Cn?document:null,kn=Cn?window:null,aa=Cn?navigator:null;let Ce,Xn;function Is(){let e=devicePixelRatio;Ce!=e&&(Ce=e,Xn&&Hs(zi,Xn,Is),Xn=matchMedia(`(min-resolution: ${Ce-.001}dppx) and (max-resolution: ${Ce+.001}dppx)`),on(zi,Xn,Is),kn.dispatchEvent(new CustomEvent(os)))}function nl(e,l){if(l!=null){let i=e.classList;!i.contains(l)&&i.add(l)}}function Vs(e,l){let i=e.classList;i.contains(l)&&i.remove(l)}function We(e,l,i){e.style[l]=i+"px"}function _l(e,l,i,n){let o=zs.createElement(e);return l!=null&&nl(o,l),i?.insertBefore(o,n),o}function fl(e,l){return _l("div",e,l)}const Ii=new WeakMap;function Ll(e,l,i,n,o){let c="translate("+l+"px,"+i+"px)",u=Ii.get(e);c!=u&&(e.style.transform=c,Ii.set(e,c),l<0||i<0||l>n||i>o?nl(e,sn):Vs(e,sn))}const Vi=new WeakMap;function Hi(e,l,i){let n=l+i,o=Vi.get(e);n!=o&&(Vi.set(e,n),e.style.background=l,e.style.borderColor=i)}const Bi=new WeakMap;function Wi(e,l,i,n){let o=l+""+i,c=Bi.get(e);o!=c&&(Bi.set(e,o),e.style.height=i+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-i/2+"px":0)}const Zs={passive:!0},ua={...Zs,capture:!0};function on(e,l,i,n){l.addEventListener(e,i,n?ua:Zs)}function Hs(e,l,i,n){l.removeEventListener(e,i,Zs)}Cn&&Is();function bl(e,l,i,n){let o;i=i||0,n=n||l.length-1;let c=n<=2147483647;for(;n-i>1;)o=c?i+n>>1:sl((i+n)/2),l[o]<e?i=o:n=o;return e-l[i]<=l[n]-e?i:n}function yo(e){return(i,n,o)=>{let c=-1,u=-1;for(let p=n;p<=o;p++)if(e(i[p])){c=p;break}for(let p=o;p>=n;p--)if(e(i[p])){u=p;break}return[c,u]}}const ko=e=>e!=null,To=e=>e!=null&&e>0,us=yo(ko),ca=yo(To);function fa(e,l,i,n=0,o=!1){let c=o?ca:us,u=o?To:ko;[l,i]=c(e,l,i);let p=e[l],d=e[l];if(l>-1)if(n==1)p=e[l],d=e[i];else if(n==-1)p=e[i],d=e[l];else for(let m=l;m<=i;m++){let x=e[m];u(x)&&(x<p?p=x:x>d&&(d=x))}return[p??Oe,d??-Oe]}function cs(e,l,i,n){let o=qi(e),c=qi(l);e==l&&(o==-1?(e*=i,l/=i):(e/=i,l*=i));let u=i==10?Hl:Eo,p=o==1?sl:pl,d=c==1?pl:sl,m=p(u(dt(e))),x=d(u(dt(l))),g=Tn(i,m),v=Tn(i,x);return i==10&&(m<0&&(g=Ne(g,-m)),x<0&&(v=Ne(v,-x))),n||i==2?(e=g*o,l=v*c):(e=Do(e,g),l=fs(l,v)),[e,l]}function Qs(e,l,i,n){let o=cs(e,l,i,n);return e==0&&(o[0]=0),l==0&&(o[1]=0),o}const $s=.1,Yi={mode:3,pad:$s},Un={pad:0,soft:null,mode:0},pa={min:Un,max:Un};function rs(e,l,i,n){return ps(i)?Ui(e,l,i):(Un.pad=i,Un.soft=n?0:null,Un.mode=n?3:0,Ui(e,l,pa))}function Te(e,l){return e??l}function da(e,l,i){for(l=Te(l,0),i=Te(i,e.length-1);l<=i;){if(e[l]!=null)return!0;l++}return!1}function Ui(e,l,i){let n=i.min,o=i.max,c=Te(n.pad,0),u=Te(o.pad,0),p=Te(n.hard,-Oe),d=Te(o.hard,Oe),m=Te(n.soft,Oe),x=Te(o.soft,-Oe),g=Te(n.mode,0),v=Te(o.mode,0),H=l-e,T=Hl(H),G=Wt(dt(e),dt(l)),J=Hl(G),$=dt(J-T);(H<1e-24||$>10)&&(H=0,(e==0||l==0)&&(H=1e-24,g==2&&m!=Oe&&(c=0),v==2&&x!=-Oe&&(u=0)));let S=H||G||1e3,W=Hl(S),C=Tn(10,sl(W)),ne=S*(H==0?e==0?.1:1:c),N=Ne(Do(e-ne,C/10),24),ae=e>=m&&(g==1||g==3&&N<=m||g==2&&N>=m)?m:Oe,se=Wt(p,N<ae&&e>=ae?ae:Sl(ae,N)),pe=S*(H==0?l==0?.1:1:u),ie=Ne(fs(l+pe,C/10),24),b=l<=x&&(v==1||v==3&&ie>=x||v==2&&ie<=x)?x:-Oe,U=Sl(d,ie>b&&l<=b?b:Wt(b,ie));return se==U&&se==0&&(U=100),[se,U]}const ha=new Intl.NumberFormat(Cn?aa.language:"en-US"),Xs=e=>ha.format(e),il=Math,is=il.PI,dt=il.abs,sl=il.floor,ft=il.round,pl=il.ceil,Sl=il.min,Wt=il.max,Tn=il.pow,qi=il.sign,Hl=il.log10,Eo=il.log2,ma=(e,l=1)=>il.sinh(e)*l,Ps=(e,l=1)=>il.asinh(e/l),Oe=1/0;function Ki(e){return(Hl((e^e>>31)-(e>>31))|0)+1}function Bs(e,l,i){return Sl(Wt(e,l),i)}function Ao(e){return typeof e=="function"}function _e(e){return Ao(e)?e:()=>e}const ga=()=>{},Mo=e=>e,Co=(e,l)=>l,va=e=>null,ji=e=>!0,Ji=(e,l)=>e==l,wa=/\.\d*?(?=9{6,}|0{6,})/gm,rn=e=>{if(Ro(e)||Zl.has(e))return e;const l=`${e}`,i=l.match(wa);if(i==null)return e;let n=i[0].length-1;if(l.indexOf("e-")!=-1){let[o,c]=l.split("e");return+`${rn(o)}e${c}`}return Ne(e,n)};function en(e,l){return rn(Ne(rn(e/l))*l)}function fs(e,l){return rn(pl(rn(e/l))*l)}function Do(e,l){return rn(sl(rn(e/l))*l)}function Ne(e,l=0){if(Ro(e))return e;let i=10**l,n=e*i*(1+Number.EPSILON);return ft(n)/i}const Zl=new Map;function Lo(e){return((""+e).split(".")[1]||"").length}function Kn(e,l,i,n){let o=[],c=n.map(Lo);for(let u=l;u<i;u++){let p=dt(u),d=Ne(Tn(e,u),p);for(let m=0;m<n.length;m++){let x=e==10?+`${n[m]}e${u}`:n[m]*d,g=(u>=0?0:p)+(u>=c[m]?0:c[m]),v=e==10?x:Ne(x,g);o.push(v),Zl.set(v,g)}}return o}const qn={},ei=[],En=[null,null],Jl=Array.isArray,Ro=Number.isInteger,_a=e=>e===void 0;function Zi(e){return typeof e=="string"}function ps(e){let l=!1;if(e!=null){let i=e.constructor;l=i==null||i==Object}return l}function ba(e){return e!=null&&typeof e=="object"}const Sa=Object.getPrototypeOf(Uint8Array),Po="__proto__";function An(e,l=ps){let i;if(Jl(e)){let n=e.find(o=>o!=null);if(Jl(n)||l(n)){i=Array(e.length);for(let o=0;o<e.length;o++)i[o]=An(e[o],l)}else i=e.slice()}else if(e instanceof Sa)i=e.slice();else if(l(e)){i={};for(let n in e)n!=Po&&(i[n]=An(e[n],l))}else i=e;return i}function it(e){let l=arguments;for(let i=1;i<l.length;i++){let n=l[i];for(let o in n)o!=Po&&(ps(e[o])?it(e[o],An(n[o])):e[o]=An(n[o]))}return e}const xa=0,ya=1,ka=2;function Ta(e,l,i){for(let n=0,o,c=-1;n<l.length;n++){let u=l[n];if(u>c){for(o=u-1;o>=0&&e[o]==null;)e[o--]=null;for(o=u+1;o<i&&e[o]==null;)e[c=o++]=null}}}function Ea(e,l){if(Ca(e)){let u=e[0].slice();for(let p=1;p<e.length;p++)u.push(...e[p].slice(1));return Da(u[0])||(u=Ma(u)),u}let i=new Set;for(let u=0;u<e.length;u++){let d=e[u][0],m=d.length;for(let x=0;x<m;x++)i.add(d[x])}let n=[Array.from(i).sort((u,p)=>u-p)],o=n[0].length,c=new Map;for(let u=0;u<o;u++)c.set(n[0][u],u);for(let u=0;u<e.length;u++){let p=e[u],d=p[0];for(let m=1;m<p.length;m++){let x=p[m],g=Array(o).fill(void 0),v=l?l[u][m]:ya,H=[];for(let T=0;T<x.length;T++){let G=x[T],J=c.get(d[T]);G===null?v!=xa&&(g[J]=G,v==ka&&H.push(J)):g[J]=G}Ta(g,H,o),n.push(g)}}return n}const Aa=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Ma(e){let l=e[0],i=l.length,n=Array(i);for(let c=0;c<n.length;c++)n[c]=c;n.sort((c,u)=>l[c]-l[u]);let o=[];for(let c=0;c<e.length;c++){let u=e[c],p=Array(i);for(let d=0;d<i;d++)p[d]=u[n[d]];o.push(p)}return o}function Ca(e){let l=e[0][0],i=l.length;for(let n=1;n<e.length;n++){let o=e[n][0];if(o.length!=i)return!1;if(o!=l){for(let c=0;c<i;c++)if(o[c]!=l[c])return!1}}return!0}function Da(e,l=100){const i=e.length;if(i<=1)return!0;let n=0,o=i-1;for(;n<=o&&e[n]==null;)n++;for(;o>=n&&e[o]==null;)o--;if(o<=n)return!0;const c=Wt(1,sl((o-n+1)/l));for(let u=e[n],p=n+c;p<=o;p+=c){const d=e[p];if(d!=null){if(d<=u)return!1;u=d}}return!0}const Fo=["January","February","March","April","May","June","July","August","September","October","November","December"],Oo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function No(e){return e.slice(0,3)}const La=Oo.map(No),Ra=Fo.map(No),Pa={MMMM:Fo,MMM:Ra,WWWW:Oo,WWW:La};function Vn(e){return(e<10?"0":"")+e}function Fa(e){return(e<10?"00":e<100?"0":"")+e}const Oa={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Vn(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Vn(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Vn(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return l==0?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Vn(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Vn(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Fa(e.getMilliseconds())};function ti(e,l){l=l||Pa;let i=[],n=/\{([a-z]+)\}|[^{]+/gi,o;for(;o=n.exec(e);)i.push(o[0][0]=="{"?Oa[o[1]]:o[0]);return c=>{let u="";for(let p=0;p<i.length;p++)u+=typeof i[p]=="string"?i[p]:i[p](c,l);return u}}const Na=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Ga(e,l){let i;return l=="UTC"||l=="Etc/UTC"?i=new Date(+e+e.getTimezoneOffset()*6e4):l==Na?i=e:(i=new Date(e.toLocaleString("en-US",{timeZone:l})),i.setMilliseconds(e.getMilliseconds())),i}const Go=e=>e%1==0,as=[1,2,2.5,5],za=Kn(10,-32,0,as),zo=Kn(10,0,32,as),Ia=zo.filter(Go),tn=za.concat(zo),li=`
`,Io="{YYYY}",Qi=li+Io,Vo="{M}/{D}",Yn=li+Vo,es=Yn+"/{YY}",Ho="{aa}",Va="{h}:{mm}",yn=Va+Ho,$i=li+yn,Xi=":{ss}",Le=null;function Bo(e){let l=e*1e3,i=l*60,n=i*60,o=n*24,c=o*30,u=o*365,d=(e==1?Kn(10,0,3,as).filter(Go):Kn(10,-3,0,as)).concat([l,l*5,l*10,l*15,l*30,i,i*5,i*10,i*15,i*30,n,n*2,n*3,n*4,n*6,n*8,n*12,o,o*2,o*3,o*4,o*5,o*6,o*7,o*8,o*9,o*10,o*15,c,c*2,c*3,c*4,c*6,u,u*2,u*5,u*10,u*25,u*50,u*100]);const m=[[u,Io,Le,Le,Le,Le,Le,Le,1],[o*28,"{MMM}",Qi,Le,Le,Le,Le,Le,1],[o,Vo,Qi,Le,Le,Le,Le,Le,1],[n,"{h}"+Ho,es,Le,Yn,Le,Le,Le,1],[i,yn,es,Le,Yn,Le,Le,Le,1],[l,Xi,es+" "+yn,Le,Yn+" "+yn,Le,$i,Le,1],[e,Xi+".{fff}",es+" "+yn,Le,Yn+" "+yn,Le,$i,Le,1]];function x(g){return(v,H,T,G,J,$)=>{let S=[],W=J>=u,C=J>=c&&J<u,ne=g(T),N=Ne(ne*e,3),ae=Fs(ne.getFullYear(),W?0:ne.getMonth(),C||W?1:ne.getDate()),se=Ne(ae*e,3);if(C||W){let pe=C?J/c:0,ie=W?J/u:0,b=N==se?N:Ne(Fs(ae.getFullYear()+ie,ae.getMonth()+pe,1)*e,3),U=new Date(ft(b/e)),R=U.getFullYear(),Z=U.getMonth();for(let P=0;b<=G;P++){let te=Fs(R+ie*P,Z+pe*P,1),I=te-g(Ne(te*e,3));b=Ne((+te+I)*e,3),b<=G&&S.push(b)}}else{let pe=J>=o?o:J,ie=sl(T)-sl(N),b=se+ie+fs(N-se,pe);S.push(b);let U=g(b),R=U.getHours()+U.getMinutes()/i+U.getSeconds()/n,Z=J/n,P=v.axes[H]._space,te=$/P;for(;b=Ne(b+J,e==1?0:3),!(b>G);)if(Z>1){let I=sl(Ne(R+Z,6))%24,oe=g(b).getHours()-I;oe>1&&(oe=-1),b-=oe*n,R=(R+Z)%24;let ve=S[S.length-1];Ne((b-ve)/J,3)*te>=.7&&S.push(b)}else S.push(b)}return S}}return[d,m,x]}const[Ha,Ba,Wa]=Bo(1),[Ya,Ua,qa]=Bo(.001);Kn(2,-53,53,[1]);function eo(e,l){return e.map(i=>i.map((n,o)=>o==0||o==8||n==null?n:l(o==1||i[8]==0?n:i[1]+n)))}function to(e,l){return(i,n,o,c,u)=>{let p=l.find(T=>u>=T[0])||l[l.length-1],d,m,x,g,v,H;return n.map(T=>{let G=e(T),J=G.getFullYear(),$=G.getMonth(),S=G.getDate(),W=G.getHours(),C=G.getMinutes(),ne=G.getSeconds(),N=J!=d&&p[2]||$!=m&&p[3]||S!=x&&p[4]||W!=g&&p[5]||C!=v&&p[6]||ne!=H&&p[7]||p[1];return d=J,m=$,x=S,g=W,v=C,H=ne,N(G)})}}function Ka(e,l){let i=ti(l);return(n,o,c,u,p)=>o.map(d=>i(e(d)))}function Fs(e,l,i){return new Date(e,l,i)}function lo(e,l){return l(e)}const ja="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function no(e,l){return(i,n,o,c)=>c==null?Js:l(e(n))}function Ja(e,l){let i=e.series[l];return i.width?i.stroke(e,l):i.points.width?i.points.stroke(e,l):null}function Za(e,l){return e.series[l].fill(e,l)}const Qa={show:!0,live:!0,isolate:!1,mount:ga,markers:{show:!0,width:2,stroke:Ja,fill:Za,dash:"solid"},idx:null,idxs:null,values:[]};function $a(e,l){let i=e.cursor.points,n=fl(),o=i.size(e,l);We(n,Bn,o),We(n,Wn,o);let c=o/-2;We(n,"marginLeft",c),We(n,"marginTop",c);let u=i.width(e,l,o);return u&&We(n,"borderWidth",u),n}function Xa(e,l){let i=e.series[l].points;return i._fill||i._stroke}function eu(e,l){let i=e.series[l].points;return i._stroke||i._fill}function tu(e,l){return e.series[l].points.size}const Os=[0,0];function lu(e,l,i){return Os[0]=l,Os[1]=i,Os}function ts(e,l,i,n=!0){return o=>{o.button==0&&(!n||o.target==l)&&i(o)}}function Ns(e,l,i,n=!0){return o=>{(!n||o.target==l)&&i(o)}}const nu={show:!0,x:!0,y:!0,lock:!1,move:lu,points:{one:!1,show:$a,size:tu,width:0,stroke:eu,fill:Xa},bind:{mousedown:ts,mouseup:ts,click:ts,dblclick:ts,mousemove:Ns,mouseleave:Ns,mouseenter:Ns},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,i,n,o)=>n-o,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Wo={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ni=it({},Wo,{filter:Co}),Yo=it({},ni,{size:10}),Uo=it({},Wo,{show:!1}),si='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',qo="bold "+si,Ko=1.5,so={show:!0,scale:"x",stroke:js,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:qo,side:2,grid:ni,ticks:Yo,border:Uo,font:si,lineGap:Ko,rotate:0},su="Value",iu="Time",io={show:!0,scale:"x",auto:!1,sorted:1,min:Oe,max:-Oe,idxs:[]};function ou(e,l,i,n,o){return l.map(c=>c==null?"":Xs(c))}function ru(e,l,i,n,o,c,u){let p=[],d=Zl.get(o)||0;i=u?i:Ne(fs(i,o),d);for(let m=i;m<=n;m=Ne(m+o,d))p.push(Object.is(m,-0)?0:m);return p}function Ws(e,l,i,n,o,c,u){const p=[],d=e.scales[e.axes[l].scale].log,m=d==10?Hl:Eo,x=sl(m(i));o=Tn(d,x),d==10&&(o=tn[bl(o,tn)]);let g=i,v=o*d;d==10&&(v=tn[bl(v,tn)]);do p.push(g),g=g+o,d==10&&!Zl.has(g)&&(g=Ne(g,Zl.get(o))),g>=v&&(o=g,v=o*d,d==10&&(v=tn[bl(v,tn)]));while(g<=n);return p}function au(e,l,i,n,o,c,u){let d=e.scales[e.axes[l].scale].asinh,m=n>d?Ws(e,l,Wt(d,i),n,o):[d],x=n>=0&&i<=0?[0]:[];return(i<-d?Ws(e,l,Wt(d,-n),-i,o):[d]).reverse().map(v=>-v).concat(x,m)}const jo=/./,uu=/[12357]/,cu=/[125]/,oo=/1/,Ys=(e,l,i,n)=>e.map((o,c)=>l==4&&o==0||c%n==0&&i.test(o.toExponential()[o<0?1:0])?o:null);function fu(e,l,i,n,o){let c=e.axes[i],u=c.scale,p=e.scales[u],d=e.valToPos,m=c._space,x=d(10,u),g=d(9,u)-x>=m?jo:d(7,u)-x>=m?uu:d(5,u)-x>=m?cu:oo;if(g==oo){let v=dt(d(1,u)-x);if(v<m)return Ys(l.slice().reverse(),p.distr,g,pl(m/v)).reverse()}return Ys(l,p.distr,g,1)}function pu(e,l,i,n,o){let c=e.axes[i],u=c.scale,p=c._space,d=e.valToPos,m=dt(d(1,u)-d(2,u));return m<p?Ys(l.slice().reverse(),3,jo,pl(p/m)).reverse():l}function du(e,l,i,n){return n==null?Js:l==null?"":Xs(l)}const ro={show:!0,scale:"y",stroke:js,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:qo,side:3,grid:ni,ticks:Yo,border:Uo,font:si,lineGap:Ko,rotate:0};function hu(e,l){let i=3+(e||1)*2;return Ne(i*l,3)}function mu(e,l){let{scale:i,idxs:n}=e.series[0],o=e._data[0],c=e.valToPos(o[n[0]],i,!0),u=e.valToPos(o[n[1]],i,!0),p=dt(u-c),d=e.series[l],m=p/(d.points.space*Ce);return n[1]-n[0]<=m}const ao={scale:null,auto:!0,sorted:0,min:Oe,max:-Oe},Jo=(e,l,i,n,o)=>o,uo={show:!0,auto:!0,sorted:0,gaps:Jo,alpha:1,facets:[it({},ao,{scale:"x"}),it({},ao,{scale:"y"})]},co={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Jo,alpha:1,points:{show:mu,filter:null},values:null,min:Oe,max:-Oe,idxs:[],path:null,clip:null};function gu(e,l,i,n,o){return i/10}const Zo={time:Hr,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},vu=it({},Zo,{time:!1,ori:1}),fo={};function Qo(e,l){let i=fo[e];return i||(i={key:e,plots:[],sub(n){i.plots.push(n)},unsub(n){i.plots=i.plots.filter(o=>o!=n)},pub(n,o,c,u,p,d,m){for(let x=0;x<i.plots.length;x++)i.plots[x]!=o&&i.plots[x].pub(n,o,c,u,p,d,m)}},e!=null&&(fo[e]=i)),i}const Mn=1,Us=2;function an(e,l,i){const n=e.mode,o=e.series[l],c=n==2?e._data[l]:e._data,u=e.scales,p=e.bbox;let d=c[0],m=n==2?c[1]:c[l],x=n==2?u[o.facets[0].scale]:u[e.series[0].scale],g=n==2?u[o.facets[1].scale]:u[o.scale],v=p.left,H=p.top,T=p.width,G=p.height,J=e.valToPosH,$=e.valToPosV;return x.ori==0?i(o,d,m,x,g,J,$,v,H,T,G,hs,Dn,gs,Xo,tr):i(o,d,m,x,g,$,J,H,v,G,T,ms,Ln,ri,er,lr)}function ii(e,l){let i=0,n=0,o=Te(e.bands,ei);for(let c=0;c<o.length;c++){let u=o[c];u.series[0]==l?i=u.dir:u.series[1]==l&&(u.dir==1?n|=1:n|=2)}return[i,n==1?-1:n==2?1:n==3?2:0]}function wu(e,l,i,n,o){let c=e.mode,u=e.series[l],p=c==2?u.facets[1].scale:u.scale,d=e.scales[p];return o==-1?d.min:o==1?d.max:d.distr==3?d.dir==1?d.min:d.max:0}function Bl(e,l,i,n,o,c){return an(e,l,(u,p,d,m,x,g,v,H,T,G,J)=>{let $=u.pxRound;const S=m.dir*(m.ori==0?1:-1),W=m.ori==0?Dn:Ln;let C,ne;S==1?(C=i,ne=n):(C=n,ne=i);let N=$(g(p[C],m,G,H)),ae=$(v(d[C],x,J,T)),se=$(g(p[ne],m,G,H)),pe=$(v(c==1?x.max:x.min,x,J,T)),ie=new Path2D(o);return W(ie,se,pe),W(ie,N,pe),W(ie,N,ae),ie})}function ds(e,l,i,n,o,c){let u=null;if(e.length>0){u=new Path2D;const p=l==0?gs:ri;let d=i;for(let g=0;g<e.length;g++){let v=e[g];if(v[1]>v[0]){let H=v[0]-d;H>0&&p(u,d,n,H,n+c),d=v[1]}}let m=i+o-d,x=10;m>0&&p(u,d,n-x/2,m,n+c+x)}return u}function _u(e,l,i){let n=e[e.length-1];n&&n[0]==l?n[1]=i:e.push([l,i])}function oi(e,l,i,n,o,c,u){let p=[],d=e.length;for(let m=o==1?i:n;m>=i&&m<=n;m+=o)if(l[m]===null){let g=m,v=m;if(o==1)for(;++m<=n&&l[m]===null;)v=m;else for(;--m>=i&&l[m]===null;)v=m;let H=c(e[g]),T=v==g?H:c(e[v]),G=g-o;H=u<=0&&G>=0&&G<d?c(e[G]):H;let $=v+o;T=u>=0&&$>=0&&$<d?c(e[$]):T,T>=H&&p.push([H,T])}return p}function po(e){return e==0?Mo:e==1?ft:l=>en(l,e)}function $o(e){let l=e==0?hs:ms,i=e==0?(o,c,u,p,d,m)=>{o.arcTo(c,u,p,d,m)}:(o,c,u,p,d,m)=>{o.arcTo(u,c,d,p,m)},n=e==0?(o,c,u,p,d)=>{o.rect(c,u,p,d)}:(o,c,u,p,d)=>{o.rect(u,c,d,p)};return(o,c,u,p,d,m=0,x=0)=>{m==0&&x==0?n(o,c,u,p,d):(m=Sl(m,p/2,d/2),x=Sl(x,p/2,d/2),l(o,c+m,u),i(o,c+p,u,c+p,u+d,m),i(o,c+p,u+d,c,u+d,x),i(o,c,u+d,c,u,x),i(o,c,u,c+p,u,m),o.closePath())}}const hs=(e,l,i)=>{e.moveTo(l,i)},ms=(e,l,i)=>{e.moveTo(i,l)},Dn=(e,l,i)=>{e.lineTo(l,i)},Ln=(e,l,i)=>{e.lineTo(i,l)},gs=$o(0),ri=$o(1),Xo=(e,l,i,n,o,c)=>{e.arc(l,i,n,o,c)},er=(e,l,i,n,o,c)=>{e.arc(i,l,n,o,c)},tr=(e,l,i,n,o,c,u)=>{e.bezierCurveTo(l,i,n,o,c,u)},lr=(e,l,i,n,o,c,u)=>{e.bezierCurveTo(i,l,o,n,u,c)};function nr(e){return(l,i,n,o,c)=>an(l,i,(u,p,d,m,x,g,v,H,T,G,J)=>{let{pxRound:$,points:S}=u,W,C;m.ori==0?(W=hs,C=Xo):(W=ms,C=er);const ne=Ne(S.width*Ce,3);let N=(S.size-S.width)/2*Ce,ae=Ne(N*2,3),se=new Path2D,pe=new Path2D,{left:ie,top:b,width:U,height:R}=l.bbox;gs(pe,ie-ae,b-ae,U+ae*2,R+ae*2);const Z=P=>{if(d[P]!=null){let te=$(g(p[P],m,G,H)),I=$(v(d[P],x,J,T));W(se,te+N,I),C(se,te,I,N,0,is*2)}};if(c)c.forEach(Z);else for(let P=n;P<=o;P++)Z(P);return{stroke:ne>0?se:null,fill:se,clip:pe,flags:Mn|Us}})}function sr(e){return(l,i,n,o,c,u)=>{n!=o&&(c!=n&&u!=n&&e(l,i,n),c!=o&&u!=o&&e(l,i,o),e(l,i,u))}}const bu=sr(Dn),Su=sr(Ln);function ir(e){const l=Te(e?.alignGaps,0);return(i,n,o,c)=>an(i,n,(u,p,d,m,x,g,v,H,T,G,J)=>{[o,c]=us(d,o,c);let $=u.pxRound,S=R=>$(g(R,m,G,H)),W=R=>$(v(R,x,J,T)),C,ne;m.ori==0?(C=Dn,ne=bu):(C=Ln,ne=Su);const N=m.dir*(m.ori==0?1:-1),ae={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Mn},se=ae.stroke;let pe=!1;if(c-o>=G*4){let R=Y=>i.posToVal(Y,m.key,!0),Z=null,P=null,te,I,Ye,xe=S(p[N==1?o:c]),oe=S(p[o]),ve=S(p[c]),ue=R(N==1?oe+1:ve-1);for(let Y=N==1?o:c;Y>=o&&Y<=c;Y+=N){let Re=p[Y],de=(N==1?Re<ue:Re>ue)?xe:S(Re),ce=d[Y];de==xe?ce!=null?(I=ce,Z==null?(C(se,de,W(I)),te=Z=P=I):I<Z?Z=I:I>P&&(P=I)):ce===null&&(pe=!0):(Z!=null&&ne(se,xe,W(Z),W(P),W(te),W(I)),ce!=null?(I=ce,C(se,de,W(I)),Z=P=te=I):(Z=P=null,ce===null&&(pe=!0)),xe=de,ue=R(xe+N))}Z!=null&&Z!=P&&Ye!=xe&&ne(se,xe,W(Z),W(P),W(te),W(I))}else for(let R=N==1?o:c;R>=o&&R<=c;R+=N){let Z=d[R];Z===null?pe=!0:Z!=null&&C(se,S(p[R]),W(Z))}let[b,U]=ii(i,n);if(u.fill!=null||b!=0){let R=ae.fill=new Path2D(se),Z=u.fillTo(i,n,u.min,u.max,b),P=W(Z),te=S(p[o]),I=S(p[c]);N==-1&&([I,te]=[te,I]),C(R,I,P),C(R,te,P)}if(!u.spanGaps){let R=[];pe&&R.push(...oi(p,d,o,c,N,S,l)),ae.gaps=R=u.gaps(i,n,o,c,R),ae.clip=ds(R,m.ori,H,T,G,J)}return U!=0&&(ae.band=U==2?[Bl(i,n,o,c,se,-1),Bl(i,n,o,c,se,1)]:Bl(i,n,o,c,se,U)),ae})}function xu(e){const l=Te(e.align,1),i=Te(e.ascDesc,!1),n=Te(e.alignGaps,0),o=Te(e.extend,!1);return(c,u,p,d)=>an(c,u,(m,x,g,v,H,T,G,J,$,S,W)=>{[p,d]=us(g,p,d);let C=m.pxRound,{left:ne,width:N}=c.bbox,ae=oe=>C(T(oe,v,S,J)),se=oe=>C(G(oe,H,W,$)),pe=v.ori==0?Dn:Ln;const ie={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Mn},b=ie.stroke,U=v.dir*(v.ori==0?1:-1);let R=se(g[U==1?p:d]),Z=ae(x[U==1?p:d]),P=Z,te=Z;o&&l==-1&&(te=ne,pe(b,te,R)),pe(b,Z,R);for(let oe=U==1?p:d;oe>=p&&oe<=d;oe+=U){let ve=g[oe];if(ve==null)continue;let ue=ae(x[oe]),Y=se(ve);l==1?pe(b,ue,R):pe(b,P,Y),pe(b,ue,Y),R=Y,P=ue}let I=P;o&&l==1&&(I=ne+N,pe(b,I,R));let[Ye,xe]=ii(c,u);if(m.fill!=null||Ye!=0){let oe=ie.fill=new Path2D(b),ve=m.fillTo(c,u,m.min,m.max,Ye),ue=se(ve);pe(oe,I,ue),pe(oe,te,ue)}if(!m.spanGaps){let oe=[];oe.push(...oi(x,g,p,d,U,ae,n));let ve=m.width*Ce/2,ue=i||l==1?ve:-ve,Y=i||l==-1?-ve:ve;oe.forEach(Re=>{Re[0]+=ue,Re[1]+=Y}),ie.gaps=oe=m.gaps(c,u,p,d,oe),ie.clip=ds(oe,v.ori,J,$,S,W)}return xe!=0&&(ie.band=xe==2?[Bl(c,u,p,d,b,-1),Bl(c,u,p,d,b,1)]:Bl(c,u,p,d,b,xe)),ie})}function ho(e,l,i,n,o,c,u=Oe){if(e.length>1){let p=null;for(let d=0,m=1/0;d<e.length;d++)if(l[d]!==void 0){if(p!=null){let x=dt(e[d]-e[p]);x<m&&(m=x,u=dt(i(e[d],n,o,c)-i(e[p],n,o,c)))}p=d}}return u}function yu(e){e=e||qn;const l=Te(e.size,[.6,Oe,1]),i=e.align||0,n=e.gap||0;let o=e.radius;o=o==null?[0,0]:typeof o=="number"?[o,0]:o;const c=_e(o),u=1-l[0],p=Te(l[1],Oe),d=Te(l[2],1),m=Te(e.disp,qn),x=Te(e.each,H=>{}),{fill:g,stroke:v}=m;return(H,T,G,J)=>an(H,T,($,S,W,C,ne,N,ae,se,pe,ie,b)=>{let U=$.pxRound,R=i,Z=n*Ce,P=p*Ce,te=d*Ce,I,Ye;C.ori==0?[I,Ye]=c(H,T):[Ye,I]=c(H,T);const xe=C.dir*(C.ori==0?1:-1);let oe=C.ori==0?gs:ri,ve=C.ori==0?x:(O,we,ze,hl,ml,Ft,Qt)=>{x(O,we,ze,ml,hl,Qt,Ft)},ue=Te(H.bands,ei).find(O=>O.series[0]==T),Y=ue!=null?ue.dir:0,Re=$.fillTo(H,T,$.min,$.max,Y),Pe=U(ae(Re,ne,b,pe)),de,ce,Ge,je=ie,Se=U($.width*Ce),mt=!1,xt=null,tt=null,ot=null,Mt=null;g!=null&&(Se==0||v!=null)&&(mt=!0,xt=g.values(H,T,G,J),tt=new Map,new Set(xt).forEach(O=>{O!=null&&tt.set(O,new Path2D)}),Se>0&&(ot=v.values(H,T,G,J),Mt=new Map,new Set(ot).forEach(O=>{O!=null&&Mt.set(O,new Path2D)})));let{x0:me,size:lt}=m;if(me!=null&&lt!=null){R=1,S=me.values(H,T,G,J),me.unit==2&&(S=S.map(ze=>H.posToVal(se+ze*ie,C.key,!0)));let O=lt.values(H,T,G,J);lt.unit==2?ce=O[0]*ie:ce=N(O[0],C,ie,se)-N(0,C,ie,se),je=ho(S,W,N,C,ie,se,je),Ge=je-ce+Z}else je=ho(S,W,N,C,ie,se,je),Ge=je*u+Z,ce=je-Ge;Ge<1&&(Ge=0),Se>=ce/2&&(Se=0),Ge<5&&(U=Mo);let ol=Ge>0,gt=je-Ge-(ol?Se:0);ce=U(Bs(gt,te,P)),de=(R==0?ce/2:R==xe?0:ce)-R*xe*((R==0?Z/2:0)+(ol?Se/2:0));const Ue={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Zt=mt?null:new Path2D;let Yt=null;if(ue!=null)Yt=H.data[ue.series[1]];else{let{y0:O,y1:we}=m;O!=null&&we!=null&&(W=we.values(H,T,G,J),Yt=O.values(H,T,G,J))}let Ct=I*ce,re=Ye*ce;for(let O=xe==1?G:J;O>=G&&O<=J;O+=xe){let we=W[O];if(we==null)continue;if(Yt!=null){let nt=Yt[O]??0;if(we-nt==0)continue;Pe=ae(nt,ne,b,pe)}let ze=C.distr!=2||m!=null?S[O]:O,hl=N(ze,C,ie,se),ml=ae(Te(we,Re),ne,b,pe),Ft=U(hl-de),Qt=U(Wt(ml,Pe)),rt=U(Sl(ml,Pe)),yt=Qt-rt;if(we!=null){let nt=we<0?re:Ct,at=we<0?Ct:re;mt?(Se>0&&ot[O]!=null&&oe(Mt.get(ot[O]),Ft,rt+sl(Se/2),ce,Wt(0,yt-Se),nt,at),xt[O]!=null&&oe(tt.get(xt[O]),Ft,rt+sl(Se/2),ce,Wt(0,yt-Se),nt,at)):oe(Zt,Ft,rt+sl(Se/2),ce,Wt(0,yt-Se),nt,at),ve(H,T,O,Ft-Se/2,rt,ce+Se,yt)}}return Se>0?Ue.stroke=mt?Mt:Zt:mt||(Ue._fill=$.width==0?$._fill:$._stroke??$._fill,Ue.width=0),Ue.fill=mt?tt:Zt,Ue})}function ku(e,l){const i=Te(l?.alignGaps,0);return(n,o,c,u)=>an(n,o,(p,d,m,x,g,v,H,T,G,J,$)=>{[c,u]=us(m,c,u);let S=p.pxRound,W=I=>S(v(I,x,J,T)),C=I=>S(H(I,g,$,G)),ne,N,ae;x.ori==0?(ne=hs,ae=Dn,N=tr):(ne=ms,ae=Ln,N=lr);const se=x.dir*(x.ori==0?1:-1);let pe=W(d[se==1?c:u]),ie=pe,b=[],U=[];for(let I=se==1?c:u;I>=c&&I<=u;I+=se)if(m[I]!=null){let xe=d[I],oe=W(xe);b.push(ie=oe),U.push(C(m[I]))}const R={stroke:e(b,U,ne,ae,N,S),fill:null,clip:null,band:null,gaps:null,flags:Mn},Z=R.stroke;let[P,te]=ii(n,o);if(p.fill!=null||P!=0){let I=R.fill=new Path2D(Z),Ye=p.fillTo(n,o,p.min,p.max,P),xe=C(Ye);ae(I,ie,xe),ae(I,pe,xe)}if(!p.spanGaps){let I=[];I.push(...oi(d,m,c,u,se,W,i)),R.gaps=I=p.gaps(n,o,c,u,I),R.clip=ds(I,x.ori,T,G,J,$)}return te!=0&&(R.band=te==2?[Bl(n,o,c,u,Z,-1),Bl(n,o,c,u,Z,1)]:Bl(n,o,c,u,Z,te)),R})}function Tu(e){return ku(Eu,e)}function Eu(e,l,i,n,o,c){const u=e.length;if(u<2)return null;const p=new Path2D;if(i(p,e[0],l[0]),u==2)n(p,e[1],l[1]);else{let d=Array(u),m=Array(u-1),x=Array(u-1),g=Array(u-1);for(let v=0;v<u-1;v++)x[v]=l[v+1]-l[v],g[v]=e[v+1]-e[v],m[v]=x[v]/g[v];d[0]=m[0];for(let v=1;v<u-1;v++)m[v]===0||m[v-1]===0||m[v-1]>0!=m[v]>0?d[v]=0:(d[v]=3*(g[v-1]+g[v])/((2*g[v]+g[v-1])/m[v-1]+(g[v]+2*g[v-1])/m[v]),isFinite(d[v])||(d[v]=0));d[u-1]=m[u-2];for(let v=0;v<u-1;v++)o(p,e[v]+g[v]/3,l[v]+d[v]*g[v]/3,e[v+1]-g[v]/3,l[v+1]-d[v+1]*g[v]/3,e[v+1],l[v+1])}return p}const qs=new Set;function mo(){for(let e of qs)e.syncRect(!0)}Cn&&(on(oa,kn,mo),on(ra,kn,mo,!0),on(os,kn,()=>{et.pxRatio=Ce}));const Au=ir(),Mu=nr();function go(e,l,i,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((c,u)=>Ks(c,u,l,i))}function Cu(e,l){return e.map((i,n)=>n==0?{}:it({},l,i))}function Ks(e,l,i,n){return it({},l==0?i:n,e)}function or(e,l,i){return l==null?En:[l,i]}const Du=or;function Lu(e,l,i){return l==null?En:rs(l,i,$s,!0)}function rr(e,l,i,n){return l==null?En:cs(l,i,e.scales[n].log,!1)}const Ru=rr;function ar(e,l,i,n){return l==null?En:Qs(l,i,e.scales[n].log,!1)}const Pu=ar;function Fu(e,l,i,n,o){let c=Wt(Ki(e),Ki(l)),u=l-e,p=bl(o/n*u,i);do{let d=i[p],m=n*d/u;if(m>=o&&c+(d<5?Zl.get(d):0)<=17)return[d,m]}while(++p<i.length);return[0,0]}function vo(e){let l,i;return e=e.replace(/(\d+)px/,(n,o)=>(l=ft((i=+o)*Ce))+"px"),[e,l,i]}function Ou(e){e.show&&[e.font,e.labelFont].forEach(l=>{let i=Ne(l[2]*Ce,1);l[0]=l[0].replace(/[0-9.]+px/,i+"px"),l[1]=i})}function et(e,l,i){const n={mode:Te(e.mode,1)},o=n.mode;function c(t,s,r,a){let f=s.valToPct(t);return a+r*(s.dir==-1?1-f:f)}function u(t,s,r,a){let f=s.valToPct(t);return a+r*(s.dir==-1?f:1-f)}function p(t,s,r,a){return s.ori==0?c(t,s,r,a):u(t,s,r,a)}n.valToPosH=c,n.valToPosV=u;let d=!1;n.status=0;const m=n.root=fl(Br);if(e.id!=null&&(m.id=e.id),nl(m,e.class),e.title){let t=fl(Ur,m);t.textContent=e.title}const x=_l("canvas"),g=n.ctx=x.getContext("2d"),v=fl(qr,m);on("click",v,t=>{t.target===T&&(Ve!=gn||qe!=vn)&&At.click(n,t)},!0);const H=n.under=fl(Kr,v);v.appendChild(x);const T=n.over=fl(jr,v);e=An(e);const G=+Te(e.pxAlign,1),J=po(G);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(n,e)||e)});const $=e.ms||.001,S=n.series=o==1?go(e.series||[],io,co,!1):Cu(e.series||[null],uo),W=n.axes=go(e.axes||[],so,ro,!0),C=n.scales={},ne=n.bands=e.bands||[];ne.forEach(t=>{t.fill=_e(t.fill||null),t.dir=Te(t.dir,-1)});const N=o==2?S[1].facets[0].scale:S[0].scale,ae={axes:dr,series:Rn},se=(e.drawOrder||["axes","series"]).map(t=>ae[t]);function pe(t){const s=t.distr==3?r=>Hl(r>0?r:t.clamp(n,r,t.min,t.max,t.key)):t.distr==4?r=>Ps(r,t.asinh):t.distr==100?r=>t.fwd(r):r=>r;return r=>{let a=s(r),{_min:f,_max:h}=t,_=h-f;return(a-f)/_}}function ie(t){let s=C[t];if(s==null){let r=(e.scales||qn)[t]||qn;if(r.from!=null){ie(r.from);let a=it({},C[r.from],r,{key:t});a.valToPct=pe(a),C[t]=a}else{s=C[t]=it({},t==N?Zo:vu,r),s.key=t;let a=s.time,f=s.range,h=Jl(f);if((t!=N||o==2&&!a)&&(h&&(f[0]==null||f[1]==null)&&(f={min:f[0]==null?Yi:{mode:1,hard:f[0],soft:f[0]},max:f[1]==null?Yi:{mode:1,hard:f[1],soft:f[1]}},h=!1),!h&&ps(f))){let _=f;f=(k,M,z)=>M==null?En:rs(M,z,_)}s.range=_e(f||(a?Du:t==N?s.distr==3?Ru:s.distr==4?Pu:or:s.distr==3?rr:s.distr==4?ar:Lu)),s.auto=_e(h?!1:s.auto),s.clamp=_e(s.clamp||gu),s._min=s._max=null,s.valToPct=pe(s)}}}ie("x"),ie("y"),o==1&&S.forEach(t=>{ie(t.scale)}),W.forEach(t=>{ie(t.scale)});for(let t in e.scales)ie(t);const b=C[N],U=b.distr;let R,Z;b.ori==0?(nl(m,Wr),R=c,Z=u):(nl(m,Yr),R=u,Z=c);const P={};for(let t in C){let s=C[t];(s.min!=null||s.max!=null)&&(P[t]={min:s.min,max:s.max},s.min=s.max=null)}const te=e.tzDate||(t=>new Date(ft(t/$))),I=e.fmtDate||ti,Ye=$==1?Wa(te):qa(te),xe=to(te,eo($==1?Ba:Ua,I)),oe=no(te,lo(ja,I)),ve=[],ue=n.legend=it({},Qa,e.legend),Y=n.cursor=it({},nu,{drag:{y:o==2}},e.cursor),Re=ue.show,Pe=Y.show,de=ue.markers;ue.idxs=ve,de.width=_e(de.width),de.dash=_e(de.dash),de.stroke=_e(de.stroke),de.fill=_e(de.fill);let ce,Ge,je,Se=[],mt=[],xt,tt=!1,ot={};if(ue.live){const t=S[1]?S[1].values:null;tt=t!=null,xt=tt?t(n,1,0):{_:0};for(let s in xt)ot[s]=Js}if(Re)if(ce=_l("table",ea,m),je=_l("tbody",null,ce),ue.mount(n,ce),tt){Ge=_l("thead",null,ce,je);let t=_l("tr",null,Ge);_l("th",null,t);for(var Mt in xt)_l("th",Li,t).textContent=Mt}else nl(ce,la),ue.live&&nl(ce,ta);const me={show:!0},lt={show:!1};function ol(t,s){if(s==0&&(tt||!ue.live||o==2))return En;let r=[],a=_l("tr",na,je,je.childNodes[s]);nl(a,t.class),t.show||nl(a,sn);let f=_l("th",null,a);if(de.show){let k=fl(sa,f);if(s>0){let M=de.width(n,s);M&&(k.style.border=M+"px "+de.dash(n,s)+" "+de.stroke(n,s)),k.style.background=de.fill(n,s)}}let h=fl(Li,f);t.label instanceof HTMLElement?h.appendChild(t.label):h.textContent=t.label,s>0&&(de.show||(h.style.color=t.width>0?de.stroke(n,s):de.fill(n,s)),Ue("click",f,k=>{if(Y._lock)return;rl(k);let M=S.indexOf(t);if((k.ctrlKey||k.metaKey)!=ue.isolate){let z=S.some((V,B)=>B>0&&B!=M&&V.show);S.forEach((V,B)=>{B>0&&Al(B,z?B==M?me:lt:me,!0,st.setSeries)})}else Al(M,{show:!t.show},!0,st.setSeries)},!1),Tl&&Ue(Oi,f,k=>{Y._lock||(rl(k),Al(S.indexOf(t),_n,!0,st.setSeries))},!1));for(var _ in xt){let k=_l("td",ia,a);k.textContent="--",r.push(k)}return[a,r]}const gt=new Map;function Ue(t,s,r,a=!0){const f=gt.get(s)||{},h=Y.bind[t](n,s,r,a);h&&(on(t,s,f[t]=h),gt.set(s,f))}function Zt(t,s,r){const a=gt.get(s)||{};for(let f in a)(t==null||f==t)&&(Hs(f,s,a[f]),delete a[f]);t==null&&gt.delete(s)}let Yt=0,Ct=0,re=0,O=0,we=0,ze=0,hl=we,ml=ze,Ft=re,Qt=O,rt=0,yt=0,nt=0,at=0;n.bbox={};let xl=!1,Rl=!1,Ut=!1,vt=!1,Pl=!1,ut=!1;function Fl(t,s,r){(r||t!=n.width||s!=n.height)&&un(t,s),pn(!1),Ut=!0,Rl=!0,dn()}function un(t,s){n.width=Yt=re=t,n.height=Ct=O=s,we=ze=0,kl(),Yl();let r=n.bbox;rt=r.left=en(we*Ce,.5),yt=r.top=en(ze*Ce,.5),nt=r.width=en(re*Ce,.5),at=r.height=en(O*Ce,.5)}const yl=3;function Wl(){let t=!1,s=0;for(;!t;){s++;let r=fr(s),a=pr(s);t=s==yl||r&&a,t||(un(n.width,n.height),Rl=!0)}}function cn({width:t,height:s}){Fl(t,s)}n.setSize=cn;function kl(){let t=!1,s=!1,r=!1,a=!1;W.forEach((f,h)=>{if(f.show&&f._show){let{side:_,_size:k}=f,M=_%2,z=f.label!=null?f.labelSize:0,V=k+z;V>0&&(M?(re-=V,_==3?(we+=V,a=!0):r=!0):(O-=V,_==0?(ze+=V,t=!0):s=!0))}}),kt[0]=t,kt[1]=r,kt[2]=s,kt[3]=a,re-=y[1]+y[3],we+=y[3],O-=y[2]+y[0],ze+=y[0]}function Yl(){let t=we+re,s=ze+O,r=we,a=ze;function f(h,_){switch(h){case 1:return t+=_,t-_;case 2:return s+=_,s-_;case 3:return r-=_,r+_;case 0:return a-=_,a+_}}W.forEach((h,_)=>{if(h.show&&h._show){let k=h.side;h._pos=f(k,h._size),h.label!=null&&(h._lpos=f(k,h.labelSize))}})}if(Y.dataIdx==null){let t=Y.hover,s=t.skip=new Set(t.skip??[]);s.add(void 0);let r=t.prox=_e(t.prox),a=t.bias??=0;Y.dataIdx=(f,h,_,k)=>{if(h==0)return _;let M=_,z=r(f,h,_,k)??Oe,V=z>=0&&z<Oe,B=b.ori==0?re:O,fe=Y.left,Me=l[0],ke=l[h];if(s.has(ke[_])){M=null;let ge=null,le=null,Q;if(a==0||a==-1)for(Q=_;ge==null&&Q-- >0;)s.has(ke[Q])||(ge=Q);if(a==0||a==1)for(Q=_;le==null&&Q++<ke.length;)s.has(ke[Q])||(le=Q);if(ge!=null||le!=null)if(V){let Be=ge==null?-1/0:R(Me[ge],b,B,0),Ze=le==null?1/0:R(Me[le],b,B,0),St=fe-Be,Fe=Ze-fe;St<=Fe?St<=z&&(M=ge):Fe<=z&&(M=le)}else M=le==null?ge:ge==null?le:_-ge<=le-_?ge:le}else V&&dt(fe-R(Me[_],b,B,0))>z&&(M=null);return M}}const rl=t=>{Y.event=t};Y.idxs=ve,Y._lock=!1;let Ie=Y.points;Ie.show=_e(Ie.show),Ie.size=_e(Ie.size),Ie.stroke=_e(Ie.stroke),Ie.width=_e(Ie.width),Ie.fill=_e(Ie.fill);const Ot=n.focus=it({},e.focus||{alpha:.3},Y.focus),Tl=Ot.prox>=0,Je=Tl&&Ie.one;let Ee=[],ct=[],qt=[];function $t(t,s){let r=Ie.show(n,s);if(r instanceof HTMLElement)return nl(r,Xr),nl(r,t.class),Ll(r,-10,-10,re,O),T.insertBefore(r,Ee[s]),r}function Dt(t,s){if(o==1||s>0){let r=o==1&&C[t.scale].time,a=t.value;t.value=r?Zi(a)?no(te,lo(a,I)):a||oe:a||du,t.label=t.label||(r?iu:su)}if(Je||s>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Au||va,t.fillTo=_e(t.fillTo||wu),t.pxAlign=+Te(t.pxAlign,G),t.pxRound=po(t.pxAlign),t.stroke=_e(t.stroke||null),t.fill=_e(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=hu(Wt(1,t.width),1),a=t.points=it({},{size:r,width:Wt(1,r*.2),stroke:t.stroke,space:r*2,paths:Mu,_stroke:null,_fill:null},t.points);a.show=_e(a.show),a.filter=_e(a.filter),a.fill=_e(a.fill),a.stroke=_e(a.stroke),a.paths=_e(a.paths),a.pxAlign=t.pxAlign}if(Re){let r=ol(t,s);Se.splice(s,0,r[0]),mt.splice(s,0,r[1]),ue.values.push(null)}if(Pe){ve.splice(s,0,null);let r=null;Je?s==0&&(r=$t(t,s)):s>0&&(r=$t(t,s)),Ee.splice(s,0,r),ct.splice(s,0,0),qt.splice(s,0,0)}bt("addSeries",s)}function Kt(t,s){s=s??S.length,t=o==1?Ks(t,s,io,co):Ks(t,s,{},uo),S.splice(s,0,t),Dt(S[s],s)}n.addSeries=Kt;function Nt(t){if(S.splice(t,1),Re){ue.values.splice(t,1),mt.splice(t,1);let s=Se.splice(t,1)[0];Zt(null,s.firstChild),s.remove()}Pe&&(ve.splice(t,1),Ee.splice(t,1)[0].remove(),ct.splice(t,1),qt.splice(t,1)),bt("delSeries",t)}n.delSeries=Nt;const kt=[!1,!1,!1,!1];function Ol(t,s){if(t._show=t.show,t.show){let r=t.side%2,a=C[t.scale];a==null&&(t.scale=r?S[1].scale:N,a=C[t.scale]);let f=a.time;t.size=_e(t.size),t.space=_e(t.space),t.rotate=_e(t.rotate),Jl(t.incrs)&&t.incrs.forEach(_=>{!Zl.has(_)&&Zl.set(_,Lo(_))}),t.incrs=_e(t.incrs||(a.distr==2?Ia:f?$==1?Ha:Ya:tn)),t.splits=_e(t.splits||(f&&a.distr==1?Ye:a.distr==3?Ws:a.distr==4?au:ru)),t.stroke=_e(t.stroke),t.grid.stroke=_e(t.grid.stroke),t.ticks.stroke=_e(t.ticks.stroke),t.border.stroke=_e(t.border.stroke);let h=t.values;t.values=Jl(h)&&!Jl(h[0])?_e(h):f?Jl(h)?to(te,eo(h,I)):Zi(h)?Ka(te,h):h||xe:h||ou,t.filter=_e(t.filter||(a.distr>=3&&a.log==10?fu:a.distr==3&&a.log==2?pu:Co)),t.font=vo(t.font),t.labelFont=vo(t.labelFont),t._size=t.size(n,null,s,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(kt[s]=!0,t._el=fl(Jr,v))}}function Xt(t,s,r,a){let[f,h,_,k]=r,M=s%2,z=0;return M==0&&(k||h)&&(z=s==0&&!f||s==2&&!_?ft(so.size/3):0),M==1&&(f||_)&&(z=s==1&&!h||s==3&&!k?ft(ro.size/2):0),z}const El=n.padding=(e.padding||[Xt,Xt,Xt,Xt]).map(t=>_e(Te(t,Xt))),y=n._padding=El.map((t,s)=>t(n,s,kt,0));let E,L=null,D=null;const X=o==1?S[0].idxs:null;let F=null,A=!1;function K(t,s){if(l=t??[],n.data=n._data=l,o==2){E=0;for(let r=1;r<S.length;r++)E+=l[r][0].length}else{l.length==0&&(n.data=n._data=l=[[]]),F=l[0],E=F.length;let r=l;if(U==2){r=l.slice();let a=r[0]=Array(E);for(let f=0;f<E;f++)a[f]=f}n._data=l=r}if(pn(!0),bt("setData"),U==2&&(Ut=!0),s!==!1){let r=b;r.auto(n,A)?ye():ql(N,r.min,r.max),vt=vt||Y.left>=0,ut=!0,dn()}}n.setData=K;function ye(){A=!0;let t,s;o==1&&(E>0?(L=X[0]=0,D=X[1]=E-1,t=l[0][L],s=l[0][D],U==2?(t=L,s=D):t==s&&(U==3?[t,s]=cs(t,t,b.log,!1):U==4?[t,s]=Qs(t,t,b.log,!1):b.time?s=t+ft(86400/$):[t,s]=rs(t,s,$s,!0))):(L=X[0]=t=null,D=X[1]=s=null)),ql(N,t,s)}let Ae,Xe,Lt,jt,Gt,Rt,zt,al,Tt,be;function De(t,s,r,a,f,h){t??=Pi,r??=ei,a??="butt",f??=Pi,h??="round",t!=Ae&&(g.strokeStyle=Ae=t),f!=Xe&&(g.fillStyle=Xe=f),s!=Lt&&(g.lineWidth=Lt=s),h!=Gt&&(g.lineJoin=Gt=h),a!=Rt&&(g.lineCap=Rt=a),r!=jt&&g.setLineDash(jt=r)}function Et(t,s,r,a){s!=Xe&&(g.fillStyle=Xe=s),t!=zt&&(g.font=zt=t),r!=al&&(g.textAlign=al=r),a!=Tt&&(g.textBaseline=Tt=a)}function Jt(t,s,r,a,f=0){if(a.length>0&&t.auto(n,A)&&(s==null||s.min==null)){let h=Te(L,0),_=Te(D,a.length-1),k=r.min==null?fa(a,h,_,f,t.distr==3):[r.min,r.max];t.min=Sl(t.min,r.min=k[0]),t.max=Wt(t.max,r.max=k[1])}}const gl={min:null,max:null};function Nl(){for(let a in C){let f=C[a];P[a]==null&&(f.min==null||P[N]!=null&&f.auto(n,A))&&(P[a]=gl)}for(let a in C){let f=C[a];P[a]==null&&f.from!=null&&P[f.from]!=null&&(P[a]=gl)}P[N]!=null&&pn(!0);let t={};for(let a in P){let f=P[a];if(f!=null){let h=t[a]=An(C[a],ba);if(f.min!=null)it(h,f);else if(a!=N||o==2)if(E==0&&h.from==null){let _=h.range(n,null,null,a);h.min=_[0],h.max=_[1]}else h.min=Oe,h.max=-Oe}}if(E>0){S.forEach((a,f)=>{if(o==1){let h=a.scale,_=P[h];if(_==null)return;let k=t[h];if(f==0){let M=k.range(n,k.min,k.max,h);k.min=M[0],k.max=M[1],L=bl(k.min,l[0]),D=bl(k.max,l[0]),D-L>1&&(l[0][L]<k.min&&L++,l[0][D]>k.max&&D--),a.min=F[L],a.max=F[D]}else a.show&&a.auto&&Jt(k,_,a,l[f],a.sorted);a.idxs[0]=L,a.idxs[1]=D}else if(f>0&&a.show&&a.auto){let[h,_]=a.facets,k=h.scale,M=_.scale,[z,V]=l[f],B=t[k],fe=t[M];B!=null&&Jt(B,P[k],h,z,h.sorted),fe!=null&&Jt(fe,P[M],_,V,_.sorted),a.min=_.min,a.max=_.max}});for(let a in t){let f=t[a],h=P[a];if(f.from==null&&(h==null||h.min==null)){let _=f.range(n,f.min==Oe?null:f.min,f.max==-Oe?null:f.max,a);f.min=_[0],f.max=_[1]}}}for(let a in t){let f=t[a];if(f.from!=null){let h=t[f.from];if(h.min==null)f.min=f.max=null;else{let _=f.range(n,h.min,h.max,a);f.min=_[0],f.max=_[1]}}}let s={},r=!1;for(let a in t){let f=t[a],h=C[a];if(h.min!=f.min||h.max!=f.max){h.min=f.min,h.max=f.max;let _=h.distr;h._min=_==3?Hl(h.min):_==4?Ps(h.min,h.asinh):_==100?h.fwd(h.min):h.min,h._max=_==3?Hl(h.max):_==4?Ps(h.max,h.asinh):_==100?h.fwd(h.max):h.max,s[a]=r=!0}}if(r){S.forEach((a,f)=>{o==2?f>0&&s.y&&(a._paths=null):s[a.scale]&&(a._paths=null)});for(let a in s)Ut=!0,bt("setScale",a);Pe&&Y.left>=0&&(vt=ut=!0)}for(let a in P)P[a]=null}function fn(t){let s=Bs(L-1,0,E-1),r=Bs(D+1,0,E-1);for(;t[s]==null&&s>0;)s--;for(;t[r]==null&&r<E-1;)r++;return[s,r]}function Rn(){if(E>0){let t=S.some(s=>s._focus)&&be!=Ot.alpha;t&&(g.globalAlpha=be=Ot.alpha),S.forEach((s,r)=>{if(r>0&&s.show&&(It(r,!1),It(r,!0),s._paths==null)){let a=be;be!=s.alpha&&(g.globalAlpha=be=s.alpha);let f=o==2?[0,l[r][0].length-1]:fn(l[r]);s._paths=s.paths(n,r,f[0],f[1]),be!=a&&(g.globalAlpha=be=a)}}),S.forEach((s,r)=>{if(r>0&&s.show){let a=be;be!=s.alpha&&(g.globalAlpha=be=s.alpha),s._paths!=null&&ai(r,!1);{let f=s._paths!=null?s._paths.gaps:null,h=s.points.show(n,r,L,D,f),_=s.points.filter(n,r,h,f);(h||_)&&(s.points._paths=s.points.paths(n,r,L,D,_),ai(r,!0))}be!=a&&(g.globalAlpha=be=a),bt("drawSeries",r)}}),t&&(g.globalAlpha=be=1)}}function It(t,s){let r=s?S[t].points:S[t];r._stroke=r.stroke(n,t),r._fill=r.fill(n,t)}function ai(t,s){let r=s?S[t].points:S[t],{stroke:a,fill:f,clip:h,flags:_,_stroke:k=r._stroke,_fill:M=r._fill,_width:z=r.width}=r._paths;z=Ne(z*Ce,3);let V=null,B=z%2/2;s&&M==null&&(M=z>0?"#fff":k);let fe=r.pxAlign==1&&B>0;if(fe&&g.translate(B,B),!s){let Me=rt-z/2,ke=yt-z/2,ge=nt+z,le=at+z;V=new Path2D,V.rect(Me,ke,ge,le)}s?vs(k,z,r.dash,r.cap,M,a,f,_,h):ur(t,k,z,r.dash,r.cap,M,a,f,_,V,h),fe&&g.translate(-B,-B)}function ur(t,s,r,a,f,h,_,k,M,z,V){let B=!1;M!=0&&ne.forEach((fe,Me)=>{if(fe.series[0]==t){let ke=S[fe.series[1]],ge=l[fe.series[1]],le=(ke._paths||qn).band;Jl(le)&&(le=fe.dir==1?le[0]:le[1]);let Q,Be=null;ke.show&&le&&da(ge,L,D)?(Be=fe.fill(n,Me)||h,Q=ke._paths.clip):le=null,vs(s,r,a,f,Be,_,k,M,z,V,Q,le),B=!0}}),B||vs(s,r,a,f,h,_,k,M,z,V)}const ui=Mn|Us;function vs(t,s,r,a,f,h,_,k,M,z,V,B){De(t,s,r,a,f),(M||z||B)&&(g.save(),M&&g.clip(M),z&&g.clip(z)),B?(k&ui)==ui?(g.clip(B),V&&g.clip(V),Jn(f,_),jn(t,h,s)):k&Us?(Jn(f,_),g.clip(B),jn(t,h,s)):k&Mn&&(g.save(),g.clip(B),V&&g.clip(V),Jn(f,_),g.restore(),jn(t,h,s)):(Jn(f,_),jn(t,h,s)),(M||z||B)&&g.restore()}function jn(t,s,r){r>0&&(s instanceof Map?s.forEach((a,f)=>{g.strokeStyle=Ae=f,g.stroke(a)}):s!=null&&t&&g.stroke(s))}function Jn(t,s){s instanceof Map?s.forEach((r,a)=>{g.fillStyle=Xe=a,g.fill(r)}):s!=null&&t&&g.fill(s)}function cr(t,s,r,a){let f=W[t],h;if(a<=0)h=[0,0];else{let _=f._space=f.space(n,t,s,r,a),k=f._incrs=f.incrs(n,t,s,r,a,_);h=Fu(s,r,k,a,_)}return f._found=h}function ws(t,s,r,a,f,h,_,k,M,z){let V=_%2/2;G==1&&g.translate(V,V),De(k,_,M,z,k),g.beginPath();let B,fe,Me,ke,ge=f+(a==0||a==3?-h:h);r==0?(fe=f,ke=ge):(B=f,Me=ge);for(let le=0;le<t.length;le++)s[le]!=null&&(r==0?B=Me=t[le]:fe=ke=t[le],g.moveTo(B,fe),g.lineTo(Me,ke));g.stroke(),G==1&&g.translate(-V,-V)}function fr(t){let s=!0;return W.forEach((r,a)=>{if(!r.show)return;let f=C[r.scale];if(f.min==null){r._show&&(s=!1,r._show=!1,pn(!1));return}else r._show||(s=!1,r._show=!0,pn(!1));let h=r.side,_=h%2,{min:k,max:M}=f,[z,V]=cr(a,k,M,_==0?re:O);if(V==0)return;let B=f.distr==2,fe=r._splits=r.splits(n,a,k,M,z,V,B),Me=f.distr==2?fe.map(Q=>F[Q]):fe,ke=f.distr==2?F[fe[1]]-F[fe[0]]:z,ge=r._values=r.values(n,r.filter(n,Me,a,V,ke),a,V,ke);r._rotate=h==2?r.rotate(n,ge,a,V):0;let le=r._size;r._size=pl(r.size(n,ge,a,t)),le!=null&&r._size!=le&&(s=!1)}),s}function pr(t){let s=!0;return El.forEach((r,a)=>{let f=r(n,a,kt,t);f!=y[a]&&(s=!1),y[a]=f}),s}function dr(){for(let t=0;t<W.length;t++){let s=W[t];if(!s.show||!s._show)continue;let r=s.side,a=r%2,f,h,_=s.stroke(n,t),k=r==0||r==3?-1:1,[M,z]=s._found;if(s.label!=null){let Ht=s.labelGap*k,ll=ft((s._lpos+Ht)*Ce);Et(s.labelFont[0],_,"center",r==2?In:Ri),g.save(),a==1?(f=h=0,g.translate(ll,ft(yt+at/2)),g.rotate((r==3?-is:is)/2)):(f=ft(rt+nt/2),h=ll);let Xl=Ao(s.label)?s.label(n,t,M,z):s.label;g.fillText(Xl,f,h),g.restore()}if(z==0)continue;let V=C[s.scale],B=a==0?nt:at,fe=a==0?rt:yt,Me=s._splits,ke=V.distr==2?Me.map(Ht=>F[Ht]):Me,ge=V.distr==2?F[Me[1]]-F[Me[0]]:M,le=s.ticks,Q=s.border,Be=le.show?le.size:0,Ze=ft(Be*Ce),St=ft((s.alignTo==2?s._size-Be-s.gap:s.gap)*Ce),Fe=s._rotate*-is/180,Qe=J(s._pos*Ce),el=(Ze+St)*k,Vt=Qe+el;h=a==0?Vt:0,f=a==1?Vt:0;let ul=s.font[0],vl=s.align==1?xn:s.align==2?Ds:Fe>0?xn:Fe<0?Ds:a==0?"center":r==3?Ds:xn,Cl=Fe||a==1?"middle":r==2?In:Ri;Et(ul,_,vl,Cl);let tl=s.font[1]*s.lineGap,cl=Me.map(Ht=>J(p(Ht,V,B,fe))),wl=s._values;for(let Ht=0;Ht<wl.length;Ht++){let ll=wl[Ht];if(ll!=null){a==0?f=cl[Ht]:h=cl[Ht],ll=""+ll;let Xl=ll.indexOf(`
`)==-1?[ll]:ll.split(/\n/gm);for(let Bt=0;Bt<Xl.length;Bt++){let Mi=Xl[Bt];Fe?(g.save(),g.translate(f,h+Bt*tl),g.rotate(Fe),g.fillText(Mi,0,0),g.restore()):g.fillText(Mi,f,h+Bt*tl)}}}le.show&&ws(cl,le.filter(n,ke,t,z,ge),a,r,Qe,Ze,Ne(le.width*Ce,3),le.stroke(n,t),le.dash,le.cap);let Dl=s.grid;Dl.show&&ws(cl,Dl.filter(n,ke,t,z,ge),a,a==0?2:1,a==0?yt:rt,a==0?at:nt,Ne(Dl.width*Ce,3),Dl.stroke(n,t),Dl.dash,Dl.cap),Q.show&&ws([Qe],[1],a==0?1:0,a==0?1:2,a==1?yt:rt,a==1?at:nt,Ne(Q.width*Ce,3),Q.stroke(n,t),Q.dash,Q.cap)}bt("drawAxes")}function pn(t){S.forEach((s,r)=>{r>0&&(s._paths=null,t&&(o==1?(s.min=null,s.max=null):s.facets.forEach(a=>{a.min=null,a.max=null})))})}let Zn=!1,_s=!1,Pn=[];function hr(){_s=!1;for(let t=0;t<Pn.length;t++)bt(...Pn[t]);Pn.length=0}function dn(){Zn||(Aa(ci),Zn=!0)}function mr(t,s=!1){Zn=!0,_s=s,t(n),ci(),s&&Pn.length>0&&queueMicrotask(hr)}n.batch=mr;function ci(){if(xl&&(Nl(),xl=!1),Ut&&(Wl(),Ut=!1),Rl){if(We(H,xn,we),We(H,In,ze),We(H,Bn,re),We(H,Wn,O),We(T,xn,we),We(T,In,ze),We(T,Bn,re),We(T,Wn,O),We(v,Bn,Yt),We(v,Wn,Ct),x.width=ft(Yt*Ce),x.height=ft(Ct*Ce),W.forEach(({_el:t,_show:s,_size:r,_pos:a,side:f})=>{if(t!=null)if(s){let h=f===3||f===0?r:0,_=f%2==1;We(t,_?"left":"top",a-h),We(t,_?"width":"height",r),We(t,_?"top":"left",_?ze:we),We(t,_?"height":"width",_?O:re),Vs(t,sn)}else nl(t,sn)}),Ae=Xe=Lt=Gt=Rt=zt=al=Tt=jt=null,be=1,Nn(!0),we!=hl||ze!=ml||re!=Ft||O!=Qt){pn(!1);let t=re/Ft,s=O/Qt;if(Pe&&!vt&&Y.left>=0){Y.left*=t,Y.top*=s,hn&&Ll(hn,ft(Y.left),0,re,O),mn&&Ll(mn,0,ft(Y.top),re,O);for(let r=0;r<Ee.length;r++){let a=Ee[r];a!=null&&(ct[r]*=t,qt[r]*=s,Ll(a,pl(ct[r]),pl(qt[r]),re,O))}}if(He.show&&!Pl&&He.left>=0&&He.width>0){He.left*=t,He.width*=t,He.top*=s,He.height*=s;for(let r in Ts)We(wn,r,He[r])}hl=we,ml=ze,Ft=re,Qt=O}bt("setSize"),Rl=!1}Yt>0&&Ct>0&&(g.clearRect(0,0,x.width,x.height),bt("drawClear"),se.forEach(t=>t()),bt("draw")),He.show&&Pl&&(Qn(He),Pl=!1),Pe&&vt&&($l(null,!0,!1),vt=!1),ue.show&&ue.live&&ut&&(ys(),ut=!1),d||(d=!0,n.status=1,bt("ready")),A=!1,Zn=!1}n.redraw=(t,s)=>{Ut=s||!1,t!==!1?ql(N,b.min,b.max):dn()};function bs(t,s){let r=C[t];if(r.from==null){if(E==0){let a=r.range(n,s.min,s.max,t);s.min=a[0],s.max=a[1]}if(s.min>s.max){let a=s.min;s.min=s.max,s.max=a}if(E>1&&s.min!=null&&s.max!=null&&s.max-s.min<1e-16)return;t==N&&r.distr==2&&E>0&&(s.min=bl(s.min,l[0]),s.max=bl(s.max,l[0]),s.min==s.max&&s.max++),P[t]=s,xl=!0,dn()}}n.setScale=bs;let Ss,xs,hn,mn,fi,pi,gn,vn,di,hi,Ve,qe,Ul=!1;const At=Y.drag;let wt=At.x,_t=At.y;Pe&&(Y.x&&(Ss=fl(Qr,T)),Y.y&&(xs=fl($r,T)),b.ori==0?(hn=Ss,mn=xs):(hn=xs,mn=Ss),Ve=Y.left,qe=Y.top);const He=n.select=it({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),wn=He.show?fl(Zr,He.over?T:H):null;function Qn(t,s){if(He.show){for(let r in t)He[r]=t[r],r in Ts&&We(wn,r,t[r]);s!==!1&&bt("setSelect")}}n.setSelect=Qn;function gr(t){if(S[t].show)Re&&Vs(Se[t],sn);else if(Re&&nl(Se[t],sn),Pe){let r=Je?Ee[0]:Ee[t];r!=null&&Ll(r,-10,-10,re,O)}}function ql(t,s,r){bs(t,{min:s,max:r})}function Al(t,s,r,a){s.focus!=null&&Sr(t),s.show!=null&&S.forEach((f,h)=>{h>0&&(t==h||t==null)&&(f.show=s.show,gr(h),o==2?(ql(f.facets[0].scale,null,null),ql(f.facets[1].scale,null,null)):ql(f.scale,null,null),dn())}),r!==!1&&bt("setSeries",t,s),a&&Gn("setSeries",n,t,s)}n.setSeries=Al;function vr(t,s){it(ne[t],s)}function wr(t,s){t.fill=_e(t.fill||null),t.dir=Te(t.dir,-1),s=s??ne.length,ne.splice(s,0,t)}function _r(t){t==null?ne.length=0:ne.splice(t,1)}n.addBand=wr,n.setBand=vr,n.delBand=_r;function br(t,s){S[t].alpha=s,Pe&&Ee[t]!=null&&(Ee[t].style.opacity=s),Re&&Se[t]&&(Se[t].style.opacity=s)}let Gl,Kl,Ql;const _n={focus:!0};function Sr(t){if(t!=Ql){let s=t==null,r=Ot.alpha!=1;S.forEach((a,f)=>{if(o==1||f>0){let h=s||f==0||f==t;a._focus=s?null:h,r&&br(f,h?1:Ot.alpha)}}),Ql=t,r&&dn()}}Re&&Tl&&Ue(Ni,ce,t=>{Y._lock||(rl(t),Ql!=null&&Al(null,_n,!0,st.setSeries))});function Ml(t,s,r){let a=C[s];r&&(t=t/Ce-(a.ori==1?ze:we));let f=re;a.ori==1&&(f=O,t=f-t),a.dir==-1&&(t=f-t);let h=a._min,_=a._max,k=t/f,M=h+(_-h)*k,z=a.distr;return z==3?Tn(10,M):z==4?ma(M,a.asinh):z==100?a.bwd(M):M}function xr(t,s){let r=Ml(t,N,s);return bl(r,l[0],L,D)}n.valToIdx=t=>bl(t,l[0]),n.posToIdx=xr,n.posToVal=Ml,n.valToPos=(t,s,r)=>C[s].ori==0?c(t,C[s],r?nt:re,r?rt:0):u(t,C[s],r?at:O,r?yt:0),n.setCursor=(t,s,r)=>{Ve=t.left,qe=t.top,$l(null,s,r)};function mi(t,s){We(wn,xn,He.left=t),We(wn,Bn,He.width=s)}function gi(t,s){We(wn,In,He.top=t),We(wn,Wn,He.height=s)}let Fn=b.ori==0?mi:gi,On=b.ori==1?mi:gi;function yr(){if(Re&&ue.live)for(let t=o==2?1:0;t<S.length;t++){if(t==0&&tt)continue;let s=ue.values[t],r=0;for(let a in s)mt[t][r++].firstChild.nodeValue=s[a]}}function ys(t,s){if(t!=null&&(t.idxs?t.idxs.forEach((r,a)=>{ve[a]=r}):_a(t.idx)||ve.fill(t.idx),ue.idx=ve[0]),Re&&ue.live){for(let r=0;r<S.length;r++)(r>0||o==1&&!tt)&&kr(r,ve[r]);yr()}ut=!1,s!==!1&&bt("setLegend")}n.setLegend=ys;function kr(t,s){let r=S[t],a=t==0&&U==2?F:l[t],f;tt?f=r.values(n,t,s)??ot:(f=r.value(n,s==null?null:a[s],t,s),f=f==null?ot:{_:f}),ue.values[t]=f}function $l(t,s,r){di=Ve,hi=qe,[Ve,qe]=Y.move(n,Ve,qe),Y.left=Ve,Y.top=qe,Pe&&(hn&&Ll(hn,ft(Ve),0,re,O),mn&&Ll(mn,0,ft(qe),re,O));let a,f=L>D;Gl=Oe,Kl=null;let h=b.ori==0?re:O,_=b.ori==1?re:O;if(Ve<0||E==0||f){a=Y.idx=null;for(let k=0;k<S.length;k++){let M=Ee[k];M!=null&&Ll(M,-10,-10,re,O)}Tl&&Al(null,_n,!0,t==null&&st.setSeries),ue.live&&(ve.fill(a),ut=!0)}else{let k,M,z;o==1&&(k=b.ori==0?Ve:qe,M=Ml(k,N),a=Y.idx=bl(M,l[0],L,D),z=R(l[0][a],b,h,0));let V=-10,B=-10,fe=0,Me=0,ke=!0,ge="",le="";for(let Q=o==2?1:0;Q<S.length;Q++){let Be=S[Q],Ze=ve[Q],St=Ze==null?null:o==1?l[Q][Ze]:l[Q][1][Ze],Fe=Y.dataIdx(n,Q,a,M),Qe=Fe==null?null:o==1?l[Q][Fe]:l[Q][1][Fe];if(ut=ut||Qe!=St||Fe!=Ze,ve[Q]=Fe,Q>0&&Be.show){let el=Fe==null?-10:Fe==a?z:R(o==1?l[0][Fe]:l[Q][0][Fe],b,h,0),Vt=Qe==null?-10:Z(Qe,o==1?C[Be.scale]:C[Be.facets[1].scale],_,0);if(Tl&&Qe!=null){let ul=b.ori==1?Ve:qe,vl=dt(Ot.dist(n,Q,Fe,Vt,ul));if(vl<Gl){let Cl=Ot.bias;if(Cl!=0){let tl=Ml(ul,Be.scale),cl=Qe>=0?1:-1,wl=tl>=0?1:-1;wl==cl&&(wl==1?Cl==1?Qe>=tl:Qe<=tl:Cl==1?Qe<=tl:Qe>=tl)&&(Gl=vl,Kl=Q)}else Gl=vl,Kl=Q}}if(ut||Je){let ul,vl;b.ori==0?(ul=el,vl=Vt):(ul=Vt,vl=el);let Cl,tl,cl,wl,Dl,Ht,ll=!0,Xl=Ie.bbox;if(Xl!=null){ll=!1;let Bt=Xl(n,Q);cl=Bt.left,wl=Bt.top,Cl=Bt.width,tl=Bt.height}else cl=ul,wl=vl,Cl=tl=Ie.size(n,Q);if(Ht=Ie.fill(n,Q),Dl=Ie.stroke(n,Q),Je)Q==Kl&&Gl<=Ot.prox&&(V=cl,B=wl,fe=Cl,Me=tl,ke=ll,ge=Ht,le=Dl);else{let Bt=Ee[Q];Bt!=null&&(ct[Q]=cl,qt[Q]=wl,Wi(Bt,Cl,tl,ll),Hi(Bt,Ht,Dl),Ll(Bt,pl(cl),pl(wl),re,O))}}}}if(Je){let Q=Ot.prox,Be=Ql==null?Gl<=Q:Gl>Q||Kl!=Ql;if(ut||Be){let Ze=Ee[0];Ze!=null&&(ct[0]=V,qt[0]=B,Wi(Ze,fe,Me,ke),Hi(Ze,ge,le),Ll(Ze,pl(V),pl(B),re,O))}}}if(He.show&&Ul)if(t!=null){let[k,M]=st.scales,[z,V]=st.match,[B,fe]=t.cursor.sync.scales,Me=t.cursor.drag;if(wt=Me._x,_t=Me._y,wt||_t){let{left:ke,top:ge,width:le,height:Q}=t.select,Be=t.scales[B].ori,Ze=t.posToVal,St,Fe,Qe,el,Vt,ul=k!=null&&z(k,B),vl=M!=null&&V(M,fe);ul&&wt?(Be==0?(St=ke,Fe=le):(St=ge,Fe=Q),Qe=C[k],el=R(Ze(St,B),Qe,h,0),Vt=R(Ze(St+Fe,B),Qe,h,0),Fn(Sl(el,Vt),dt(Vt-el))):Fn(0,h),vl&&_t?(Be==1?(St=ke,Fe=le):(St=ge,Fe=Q),Qe=C[M],el=Z(Ze(St,fe),Qe,_,0),Vt=Z(Ze(St+Fe,fe),Qe,_,0),On(Sl(el,Vt),dt(Vt-el))):On(0,_)}else Es()}else{let k=dt(di-fi),M=dt(hi-pi);if(b.ori==1){let fe=k;k=M,M=fe}wt=At.x&&k>=At.dist,_t=At.y&&M>=At.dist;let z=At.uni;z!=null?wt&&_t&&(wt=k>=z,_t=M>=z,!wt&&!_t&&(M>k?_t=!0:wt=!0)):At.x&&At.y&&(wt||_t)&&(wt=_t=!0);let V,B;wt&&(b.ori==0?(V=gn,B=Ve):(V=vn,B=qe),Fn(Sl(V,B),dt(B-V)),_t||On(0,_)),_t&&(b.ori==1?(V=gn,B=Ve):(V=vn,B=qe),On(Sl(V,B),dt(B-V)),wt||Fn(0,h)),!wt&&!_t&&(Fn(0,0),On(0,0))}if(At._x=wt,At._y=_t,t==null){if(r){if(Ai!=null){let[k,M]=st.scales;st.values[0]=k!=null?Ml(b.ori==0?Ve:qe,k):null,st.values[1]=M!=null?Ml(b.ori==1?Ve:qe,M):null}Gn(Ls,n,Ve,qe,re,O,a)}if(Tl){let k=r&&st.setSeries,M=Ot.prox;Ql==null?Gl<=M&&Al(Kl,_n,!0,k):Gl>M?Al(null,_n,!0,k):Kl!=Ql&&Al(Kl,_n,!0,k)}}ut&&(ue.idx=a,ys()),s!==!1&&bt("setCursor")}let jl=null;Object.defineProperty(n,"rect",{get(){return jl==null&&Nn(!1),jl}});function Nn(t=!1){t?jl=null:(jl=T.getBoundingClientRect(),bt("syncRect",jl))}function vi(t,s,r,a,f,h,_){Y._lock||Ul&&t!=null&&t.movementX==0&&t.movementY==0||(ks(t,s,r,a,f,h,_,!1,t!=null),t!=null?$l(null,!0,!0):$l(s,!0,!1))}function ks(t,s,r,a,f,h,_,k,M){if(jl==null&&Nn(!1),rl(t),t!=null)r=t.clientX-jl.left,a=t.clientY-jl.top;else{if(r<0||a<0){Ve=-10,qe=-10;return}let[z,V]=st.scales,B=s.cursor.sync,[fe,Me]=B.values,[ke,ge]=B.scales,[le,Q]=st.match,Be=s.axes[0].side%2==1,Ze=b.ori==0?re:O,St=b.ori==1?re:O,Fe=Be?h:f,Qe=Be?f:h,el=Be?a:r,Vt=Be?r:a;if(ke!=null?r=le(z,ke)?p(fe,C[z],Ze,0):-10:r=Ze*(el/Fe),ge!=null?a=Q(V,ge)?p(Me,C[V],St,0):-10:a=St*(Vt/Qe),b.ori==1){let ul=r;r=a,a=ul}}M&&(s==null||s.cursor.event.type==Ls)&&((r<=1||r>=re-1)&&(r=en(r,re)),(a<=1||a>=O-1)&&(a=en(a,O))),k?(fi=r,pi=a,[gn,vn]=Y.move(n,r,a)):(Ve=r,qe=a)}const Ts={width:0,height:0,left:0,top:0};function Es(){Qn(Ts,!1)}let wi,_i,bi,Si;function xi(t,s,r,a,f,h,_){Ul=!0,wt=_t=At._x=At._y=!1,ks(t,s,r,a,f,h,_,!0,!1),t!=null&&(Ue(Rs,zs,yi,!1),Gn(Fi,n,gn,vn,re,O,null));let{left:k,top:M,width:z,height:V}=He;wi=k,_i=M,bi=z,Si=V}function yi(t,s,r,a,f,h,_){Ul=At._x=At._y=!1,ks(t,s,r,a,f,h,_,!1,!0);let{left:k,top:M,width:z,height:V}=He,B=z>0||V>0,fe=wi!=k||_i!=M||bi!=z||Si!=V;if(B&&fe&&Qn(He),At.setScale&&B&&fe){let Me=k,ke=z,ge=M,le=V;if(b.ori==1&&(Me=M,ke=V,ge=k,le=z),wt&&ql(N,Ml(Me,N),Ml(Me+ke,N)),_t)for(let Q in C){let Be=C[Q];Q!=N&&Be.from==null&&Be.min!=Oe&&ql(Q,Ml(ge+le,Q),Ml(ge,Q))}Es()}else Y.lock&&(Y._lock=!Y._lock,$l(s,!0,t!=null));t!=null&&(Zt(Rs,zs),Gn(Rs,n,Ve,qe,re,O,null))}function Tr(t,s,r,a,f,h,_){if(Y._lock)return;rl(t);let k=Ul;if(Ul){let M=!0,z=!0,V=10,B,fe;b.ori==0?(B=wt,fe=_t):(B=_t,fe=wt),B&&fe&&(M=Ve<=V||Ve>=re-V,z=qe<=V||qe>=O-V),B&&M&&(Ve=Ve<gn?0:re),fe&&z&&(qe=qe<vn?0:O),$l(null,!0,!0),Ul=!1}Ve=-10,qe=-10,ve.fill(null),$l(null,!0,!0),k&&(Ul=k)}function ki(t,s,r,a,f,h,_){Y._lock||(rl(t),ye(),Es(),t!=null&&Gn(Gi,n,Ve,qe,re,O,null))}function Ti(){W.forEach(Ou),Fl(n.width,n.height,!0)}on(os,kn,Ti);const bn={};bn.mousedown=xi,bn.mousemove=vi,bn.mouseup=yi,bn.dblclick=ki,bn.setSeries=(t,s,r,a)=>{let f=st.match[2];r=f(n,s,r),r!=-1&&Al(r,a,!0,!1)},Pe&&(Ue(Fi,T,xi),Ue(Ls,T,vi),Ue(Oi,T,t=>{rl(t),Nn(!1)}),Ue(Ni,T,Tr),Ue(Gi,T,ki),qs.add(n),n.syncRect=Nn);const $n=n.hooks=e.hooks||{};function bt(t,s,r){_s?Pn.push([t,s,r]):t in $n&&$n[t].forEach(a=>{a.call(null,n,s,r)})}(e.plugins||[]).forEach(t=>{for(let s in t.hooks)$n[s]=($n[s]||[]).concat(t.hooks[s])});const Ei=(t,s,r)=>r,st=it({key:null,setSeries:!1,filters:{pub:ji,sub:ji},scales:[N,S[1]?S[1].scale:null],match:[Ji,Ji,Ei],values:[null,null]},Y.sync);st.match.length==2&&st.match.push(Ei),Y.sync=st;const Ai=st.key,As=Qo(Ai);function Gn(t,s,r,a,f,h,_){st.filters.pub(t,s,r,a,f,h,_)&&As.pub(t,s,r,a,f,h,_)}As.sub(n);function Er(t,s,r,a,f,h,_){st.filters.sub(t,s,r,a,f,h,_)&&bn[t](null,s,r,a,f,h,_)}n.pub=Er;function Ar(){As.unsub(n),qs.delete(n),gt.clear(),Hs(os,kn,Ti),m.remove(),ce?.remove(),bt("destroy")}n.destroy=Ar;function Ms(){bt("init",e,l),K(l||e.data,!1),P[N]?bs(N,P[N]):ye(),Pl=He.show&&(He.width>0||He.height>0),vt=ut=!0,Fl(e.width,e.height)}return S.forEach(Dt),W.forEach(Ol),i?i instanceof HTMLElement?(i.appendChild(m),Ms()):i(n,Ms):Ms(),n}et.assign=it;et.fmtNum=Xs;et.rangeNum=rs;et.rangeLog=cs;et.rangeAsinh=Qs;et.orient=an;et.pxRatio=Ce;et.join=Ea;et.fmtDate=ti,et.tzDate=Ga;et.sync=Qo;{et.addGap=_u,et.clipGaps=ds;let e=et.paths={points:nr};e.linear=ir,e.stepped=xu,e.bars=yu,e.spline=Tu}var Nu=Pt('<input type="text" class="og-input svelte-3wi8ix" placeholder="1.050" maxlength="5"/>'),Gu=Pt('<span class="estimated-badge svelte-3wi8ix">est</span>'),zu=Pt('<button type="button" class="og-btn svelte-3wi8ix"><span> </span> <!> <svg class="edit-icon svelte-3wi8ix" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg></button>'),Iu=Pt('<span class="estimated-badge svelte-3wi8ix">est</span>'),Vu=Pt("<span> </span> <!>",1),Hu=Pt('<div class="stat-pill prediction-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">ETA</span> <span class="stat-value prediction svelte-3wi8ix"> </span> <span class="prediction-badge svelte-3wi8ix">pred</span></div>'),Bu=Pt('<div class="stats-panel svelte-3wi8ix"><div class="stats-grid svelte-3wi8ix"><div class="stats-column svelte-3wi8ix"><h4 class="stats-header svelte-3wi8ix"> </h4> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Current</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Start</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">High</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Low</span> <span class="stat-value svelte-3wi8ix"> </span></div></div> <div class="stats-column svelte-3wi8ix"><h4 class="stats-header svelte-3wi8ix">Temperature</h4> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Current</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Average</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">High</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Low</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div></div></div> <div class="stats-bottom svelte-3wi8ix"><div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Rate</span> <span> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Duration</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">At SG</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill og-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">OG</span> <!></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Atten.</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">ABV</span> <span class="stat-value svelte-3wi8ix"> </span></div> <!></div></div>'),Wu=Pt('<div class="stats-empty svelte-3wi8ix"><span>Not enough data for statistics</span></div>');function Yu(e,l){_o(l,!0);const i=.5,n=1.2,o=0,c=100;function u(b,U){const R=[...b].sort((I,Ye)=>I-Ye),Z=U/100*(R.length-1),P=Math.floor(Z),te=Math.ceil(Z);return P===te?R[P]:R[P]+(R[te]-R[P])*(Z-P)}let p=ns(l,"trend",3,null),d=$e(!1),m=$e(""),x=$e(null),g=Il(()=>ss.config.temp_units==="C"),v=Il(Ir),H=Il(xo),T=Il(()=>{if(l.readings.length===0)return null;const b=l.readings.filter(me=>me.status!=="invalid");if(b.length===0)return null;const U=[...b].sort((me,lt)=>new Date(me.timestamp).getTime()-new Date(lt.timestamp).getTime()),R=U[0],Z=U[U.length-1],P=U.map(me=>me.sg_calibrated??me.sg_raw).filter(me=>me!==null&&me>=i&&me<=n),te=U.map(me=>me.temp_calibrated??me.temp_raw).filter(me=>me!==null&&me>=o&&me<=c);if(P.length===0)return null;const I=P[P.length-1],Ye=P[0],xe=u(P,95),oe=u(P,5),ve=new Date(R.timestamp).getTime(),ue=new Date(Z.timestamp).getTime(),Re=(ue-ve)/(1e3*60*60*24),Pe=Re>0?(I-Ye)/Re:0;let de=null,ce=null,Ge=null,je=null;if(te.length>0){const me=te[te.length-1],lt=te.reduce((Ue,Zt)=>Ue+Zt,0)/te.length,ol=u(te,95),gt=u(te,5);de=w(g)?me:me*9/5+32,ce=w(g)?lt:lt*9/5+32,Ge=w(g)?ol:ol*9/5+32,je=w(g)?gt:gt*9/5+32}let Se=0;const mt=.001;for(let me=P.length-2;me>=0;me--)if(Math.abs(P[me]-I)>mt){const lt=new Date(U[me+1].timestamp).getTime();Se=(ue-lt)/(1e3*60*60*24);break}let xt=null,tt=null;const ot=l.originalGravity??xe,Mt=l.originalGravity===null;return ot>1&&ot>I&&(xt=(ot-I)/(ot-1)*100,tt=(ot-I)*131.25),{currentSg:I,firstSg:Ye,highSg:xe,lowSg:oe,currentTemp:de,avgTemp:ce,highTemp:Ge,lowTemp:je,fermRate:Pe,durationDays:Re,daysAtCurrentSg:Se,apparentAttenuation:xt,abv:tt,ogIsEstimated:Mt,effectiveOg:ot}});function G(){he(m,l.originalGravity?.toFixed(3)??"",!0),he(d,!0),setTimeout(()=>w(x)?.focus(),0)}function J(){const b=w(m).trim();if(!b)l.onOgChange?.(null);else{const U=parseFloat(b);!isNaN(U)&&U>=.99&&U<=1.2&&l.onOgChange?.(U)}he(d,!1)}function $(b){b.key==="Enter"?J():b.key==="Escape"&&he(d,!1)}function S(b){return Hn(b)}function W(b){return`${b>=0?"+":""}${b.toFixed(4)}`}function C(b){return b<1?`${(b*24).toFixed(1)}h`:`${b.toFixed(1)}d`}function ne(b){return b===null?"--":b.toFixed(1)}function N(b){return b===null?"--":`${b.toFixed(1)}%`}var ae=Gs(),se=ls(ae);{var pe=b=>{var U=Bu(),R=j(U),Z=j(R),P=j(Z),te=j(P,!0);q(P);var I=ee(P,2),Ye=ee(j(I),2),xe=j(Ye,!0);q(Ye),q(I);var oe=ee(I,2),ve=ee(j(oe),2),ue=j(ve,!0);q(ve),q(oe);var Y=ee(oe,2),Re=ee(j(Y),2),Pe=j(Re,!0);q(Re),q(Y);var de=ee(Y,2),ce=ee(j(de),2),Ge=j(ce,!0);q(ce),q(de),q(Z);var je=ee(Z,2),Se=ee(j(je),2),mt=ee(j(Se),2),xt=j(mt,!0),tt=ee(xt),ot=j(tt,!0);q(tt),q(mt),q(Se);var Mt=ee(Se,2),me=ee(j(Mt),2),lt=j(me,!0),ol=ee(lt),gt=j(ol,!0);q(ol),q(me),q(Mt);var Ue=ee(Mt,2),Zt=ee(j(Ue),2),Yt=j(Zt,!0),Ct=ee(Yt),re=j(Ct,!0);q(Ct),q(Zt),q(Ue);var O=ee(Ue,2),we=ee(j(O),2),ze=j(we,!0),hl=ee(ze),ml=j(hl,!0);q(hl),q(we),q(O),q(je),q(R);var Ft=ee(R,2),Qt=j(Ft),rt=ee(j(Qt),2);let yt;var nt=j(rt);q(rt),q(Qt);var at=ee(Qt,2),xl=ee(j(at),2),Rl=j(xl,!0);q(xl),q(at);var Ut=ee(at,2),vt=ee(j(Ut),2),Pl=j(vt,!0);q(vt),q(Ut);var ut=ee(Ut,2),Fl=ee(j(ut),2);{var un=Je=>{var Ee=Nu();Lr(Ee),Ee.__keydown=$,So(Ee,ct=>he(x,ct),()=>w(x)),Mr("blur",Ee,J),Vr(Ee,()=>w(m),ct=>he(m,ct)),pt(Je,Ee)},yl=Je=>{var Ee=Gs(),ct=ls(Ee);{var qt=Dt=>{var Kt=zu();Kt.__click=G;var Nt=j(Kt);let kt;var Ol=j(Nt,!0);q(Nt);var Xt=ee(Nt,2);{var El=y=>{var E=Gu();pt(y,E)};dl(Xt,y=>{w(T).ogIsEstimated&&y(El)})}ln(2),q(Kt),Vl(y=>{nn(Kt,"title",w(T).ogIsEstimated?"Estimated from high reading - click to set actual OG":"Click to edit Original Gravity"),kt=zl(Nt,1,"stat-value svelte-3wi8ix",null,kt,{estimated:w(T).ogIsEstimated}),Ke(Ol,y)},[()=>S(w(T).effectiveOg)]),pt(Dt,Kt)},$t=Dt=>{var Kt=Vu(),Nt=ls(Kt);let kt;var Ol=j(Nt,!0);q(Nt);var Xt=ee(Nt,2);{var El=y=>{var E=Iu();pt(y,E)};dl(Xt,y=>{w(T).ogIsEstimated&&y(El)})}Vl(y=>{kt=zl(Nt,1,"stat-value svelte-3wi8ix",null,kt,{estimated:w(T).ogIsEstimated}),Ke(Ol,y)},[()=>S(w(T).effectiveOg)]),pt(Dt,Kt)};dl(ct,Dt=>{l.onOgChange?Dt(qt):Dt($t,!1)},!0)}pt(Je,Ee)};dl(Fl,Je=>{l.onOgChange&&w(d)?Je(un):Je(yl,!1)})}q(ut);var Wl=ee(ut,2),cn=ee(j(Wl),2),kl=j(cn,!0);q(cn),q(Wl);var Yl=ee(Wl,2),rl=ee(j(Yl),2),Ie=j(rl,!0);q(rl),q(Yl);var Ot=ee(Yl,2);{var Tl=Je=>{var Ee=Hu(),ct=ee(j(Ee),2),qt=j(ct,!0);q(ct),ln(2),q(Ee),Vl(($t,Dt)=>{nn(Ee,"title",`Estimated time until target FG (R=${$t??""})`),Ke(qt,Dt)},[()=>p().r2.toFixed(2),()=>C(p().daysToFg)]),pt(Je,Ee)};dl(Ot,Je=>{p()?.daysToFg!==null&&p()?.daysToFg!==void 0&&Je(Tl)})}q(Ft),q(U),Vl((Je,Ee,ct,qt,$t,Dt,Kt,Nt,kt,Ol,Xt,El,y)=>{Ke(te,w(H)==="SG"?"Gravity":w(H)==="P"?"Plato":"Brix"),Ke(xe,Je),Ke(ue,Ee),Ke(Pe,ct),Ke(Ge,qt),Ke(xt,$t),Ke(ot,w(v)),Ke(lt,Dt),Ke(gt,w(v)),Ke(Yt,Kt),Ke(re,w(v)),Ke(ze,Nt),Ke(ml,w(v)),yt=zl(rt,1,"stat-value rate svelte-3wi8ix",null,yt,{fermenting:w(T).fermRate<0}),Ke(nt,`${kt??""}/day`),Ke(Rl,Ol),Ke(Pl,Xt),Ke(kl,El),Ke(Ie,y)},[()=>S(w(T).currentSg),()=>S(w(T).firstSg),()=>S(w(T).highSg),()=>S(w(T).lowSg),()=>ne(w(T).currentTemp),()=>ne(w(T).avgTemp),()=>ne(w(T).highTemp),()=>ne(w(T).lowTemp),()=>W(w(T).fermRate),()=>C(w(T).durationDays),()=>C(w(T).daysAtCurrentSg),()=>N(w(T).apparentAttenuation),()=>N(w(T).abv)]),pt(b,U)},ie=b=>{var U=Wu();pt(b,U)};dl(se,b=>{w(T)?b(pe):b(ie,!1)})}pt(e,ae),bo()}wo(["keydown","click"]);var Uu=Pt('<button type="button"> </button>'),qu=Pt("<option> </option>"),Ku=Pt('<button type="button"><span class="legend-dot anomaly-dot svelte-12kwequ"></span> <span> </span></button>'),ju=Pt('<button type="button"><span class="legend-line legend-line-dotted svelte-12kwequ"></span> <span>Battery</span></button>'),Ju=Pt('<div class="loading-overlay svelte-12kwequ"><div class="loading-spinner svelte-12kwequ"></div></div>'),Zu=Pt('<div class="chart-error svelte-12kwequ"><span>Failed to load chart</span> <button type="button" class="retry-btn svelte-12kwequ">Retry</button></div>'),Qu=Pt('<div class="chart-empty svelte-12kwequ"><span>No historical data yet</span> <span class="text-xs opacity-60">Data will appear as readings are logged</span></div>'),$u=Pt('<div class="chart-wrapper svelte-12kwequ"><div class="chart-controls svelte-12kwequ"><div class="flex items-center gap-1.5"></div> <div class="controls-right svelte-12kwequ"><div class="refresh-control svelte-12kwequ"><label for="refreshInterval" class="svelte-12kwequ">Refresh</label> <select id="refreshInterval" class="refresh-select svelte-12kwequ"></select></div> <div class="chart-legend svelte-12kwequ"><span class="legend-item svelte-12kwequ"><span class="legend-dot svelte-12kwequ" style="background: var(--tilt-yellow);"></span> <span>SG</span></span> <span class="legend-item svelte-12kwequ"><span class="legend-line svelte-12kwequ"></span> <span>Wort</span></span> <button type="button"><span class="legend-line legend-line-dotted svelte-12kwequ"></span> <span>Ambient</span></button> <button type="button"><span class="legend-line legend-line-dashed svelte-12kwequ"></span> <span>Chamber</span></button> <button type="button"><span class="legend-line legend-line-dashed svelte-12kwequ"></span> <span>Trend</span></button> <!> <!></div></div></div> <div class="chart-container svelte-12kwequ"><!> <!></div> <!></div>');function pc(e,l){_o(l,!0);const i="brewsignal_chart_refresh_minutes",n=[{label:"Off",value:0},{label:"1 min",value:1},{label:"3 min",value:3},{label:"5 min",value:5},{label:"10 min",value:10}];let o=Il(()=>ss.config.smoothing_enabled),c=Il(()=>ss.config.smoothing_samples),u=$e("UTC"),p=$e(0),d=$e(3),m=ns(l,"deviceColor",3,"BLACK"),x=ns(l,"originalGravity",3,null),g=ns(l,"controlEvents",19,()=>[]),v=Il(()=>ss.config.temp_units==="C"),H=Il(xo),T,G=null,J=$e(!0),$=$e(null),S=$e(24),W=$e(zn([])),C=$e(zn([])),ne=$e(zn([])),N=$e(null),ae=$e(null);const se={RED:"#f43f5e",GREEN:"#10b981",BLACK:"#6b7280",PURPLE:"#a78bfa",ORANGE:"#fb923c",BLUE:"#60a5fa",YELLOW:"#facc15",PINK:"#f472b6"},pe="#facc15",ie="rgba(250, 204, 21, 0.3)",b="#71717a",U="#a1a1aa",R="rgba(255, 255, 255, 0.04)",Z="#22d3ee",P="#a78bfa",te="rgba(250, 204, 21, 0.5)",I="#ef4444",Ye="#22c55e",xe="brewsignal_chart_trend_enabled";let oe=$e(!0);const ve="brewsignal_chart_ambient_enabled",ue="brewsignal_chart_chamber_enabled",Y="brewsignal_chart_anomaly_enabled",Re="brewsignal_chart_battery_enabled";let Pe=$e(!0),de=$e(!0),ce=$e(!0),Ge=$e(!0),je=$e(!1),Se=$e(zn([])),mt=$e(zn([]));function xt(y,E,L=1.01){const D=[];for(let be=0;be<y.length;be++)E[be]!==null&&D.push([y[be],E[be]]);if(D.length<10)return null;const X=D.length;let F=0,A=0,K=0,ye=0;for(const[be,De]of D)F+=be,A+=De,K+=be*De,ye+=be*be;const Ae=X*ye-F*F;if(Math.abs(Ae)<1e-10)return null;const Xe=(X*K-F*A)/Ae,Lt=(A-Xe*F)/X,jt=A/X;let Gt=0,Rt=0;for(const[be,De]of D){const Et=Xe*be+Lt;Gt+=(De-Et)**2,Rt+=(De-jt)**2}const zt=Rt>0?1-Gt/Rt:0;let al=null,Tt=null;if(Xe<0&&zt>.3){const be=y[y.length-1],De=(L-Lt)/Xe;De>be&&(Tt=(De-be)/(1440*60),Tt>0&&Tt<60?al=L:Tt=null)}return{slope:Xe,intercept:Lt,r2:zt,predictedFg:al,daysToFg:Tt}}function tt(y){const E=[];let L=null,D=null;for(const F of y){const A=gt(F.timestamp);F.action==="heat_on"?L=A:F.action==="heat_off"&&L!==null?(E.push({type:"heating",startTime:L,endTime:A}),L=null):F.action==="cool_on"?D=A:F.action==="cool_off"&&D!==null&&(E.push({type:"cooling",startTime:D,endTime:A}),D=null)}const X=Date.now()/1e3;return L!==null&&E.push({type:"heating",startTime:L,endTime:X}),D!==null&&E.push({type:"cooling",startTime:D,endTime:X}),E}function ot(y,E){return y.map(L=>E.slope*L+E.intercept)}function Mt(y,E,L){const D=new Date(y*1e3);try{return L?D.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:E}):D.toLocaleDateString("en-AU",{month:"short",day:"numeric",timeZone:E})}catch(X){return console.warn("Invalid timezone:",E,X),L?D.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!1}):D.toLocaleDateString("en-AU",{month:"short",day:"numeric"})}}function me(y,E,L){const D=pe,X=se[m()]||U;return{width:y,height:220,padding:[16,12,0,0],cursor:{show:!0,x:!0,y:!0,drag:{x:!1,y:!1,setScale:!1}},legend:{show:!0,live:!0,markers:{show:!1}},hooks:{setCursor:[F=>{const A=F.cursor.idx;if(A==null)return;const K=F.root.querySelector(".u-legend");K&&(K.style.cssText=`
							position: absolute;
							top: 12px;
							left: 12px;
							background: rgba(24, 24, 27, 0.95);
							border: 1px solid var(--border-default);
							border-radius: 0.5rem;
							padding: 0.75rem;
							font-family: 'JetBrains Mono', monospace;
							font-size: 0.6875rem;
							pointer-events: none;
							box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3);
							backdrop-filter: blur(8px);
						`)}]},scales:{x:{time:!0},sg:{auto:!0,range:(F,A,K)=>{const ye=(K-A)*.1||.005;return[A-ye,K+ye]}},temp:{auto:!0,range:(F,A,K)=>{const ye=K-A,Ae=10;if(ye<Ae){const Lt=(K+A)/2;return[Lt-Ae/2,Lt+Ae/2]}const Xe=ye*.1;return[A-Xe,K+Xe]}},battery:{auto:!1,range:[0,105]}},axes:[{stroke:b,grid:{stroke:R,width:1},ticks:{stroke:R,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(F,A)=>A.map(K=>Mt(K,L,w(S)<=24))},{scale:"sg",stroke:D,grid:{stroke:R,width:1},ticks:{stroke:R,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(F,A)=>A.map(K=>Hn(K)),side:3},{scale:"temp",stroke:X,grid:{show:!1},ticks:{stroke:R,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(F,A)=>A.map(K=>K.toFixed(0)+""),side:1}],series:[{value:(F,A)=>Mt(A,L,!1)+" "+Mt(A,L,!0)},{label:w(H)==="SG"?"Gravity":w(H)==="P"?"Plato":"Brix",scale:"sg",stroke:D,width:2,value:(F,A)=>A!==null?Hn(A):"--",fill:(F,A)=>{const K=F.ctx.createLinearGradient(0,F.bbox.top,0,F.bbox.top+F.bbox.height);return K.addColorStop(0,ie),K.addColorStop(1,"transparent"),K},points:{show:!1},paths:et.paths.spline?.()},{label:"Wort",scale:"temp",stroke:X,width:1.5,dash:[4,4],value:(F,A)=>A!==null?A.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.()},{label:"Ambient",scale:"temp",stroke:Z,width:1.5,dash:[2,4],value:(F,A)=>A!==null?A.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(Pe)},{label:"Chamber",scale:"temp",stroke:P,width:1.5,dash:[4,2],value:(F,A)=>A!==null?A.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(de)},{label:"Trend",scale:"sg",stroke:te,width:2,dash:[8,4],value:(F,A)=>A!==null?Hn(A):"--",points:{show:!1},show:w(oe)},{label:"Anomaly",scale:"sg",stroke:I,width:2,value:(F,A)=>A!==null?Hn(A)+" ":"--",points:{show:!0,size:10,fill:I,stroke:"#ffffff",width:2},paths:()=>null,show:w(ce)},{label:"Battery",scale:"battery",stroke:Ye,width:1.5,dash:[2,2],value:(F,A)=>A!==null?A.toFixed(0)+"%":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(Ge)}]}}function lt(y,E){if(E<=1)return y;const L=[];for(let D=0;D<y.length;D++){const X=[],F=Math.floor(E/2);for(let A=Math.max(0,D-F);A<=Math.min(y.length-1,D+F);A++){const K=y[A];K!==null&&X.push(K)}X.length>0?L.push(X.reduce((A,K)=>A+K,0)/X.length):L.push(null)}return L}function ol(y,E,L,D,X,F,A){if(y.length<=A)return[y,E,L,D,X,F];const K=Math.ceil(y.length/A),ye=[],Ae=[],Xe=[],Lt=[],jt=[],Gt=[];for(let Rt=0;Rt<y.length;Rt+=K){const zt=Math.min(Rt+K,y.length);let al=0,Tt=0,be=0,De=0,Et=0,Jt=0,gl=0,Nl=0,fn=0,Rn=0;for(let It=Rt;It<zt;It++)E[It]!==null&&(al+=E[It],Tt++),L[It]!==null&&(be+=L[It],De++),D[It]!==null&&(Et+=D[It],Jt++),X[It]!==null&&(gl+=X[It],Nl++),F[It]!==null&&(fn+=F[It],Rn++);ye.push(y[Math.floor((Rt+zt-1)/2)]),Ae.push(Tt>0?al/Tt:null),Xe.push(De>0?be/De:null),Lt.push(Jt>0?Et/Jt:null),jt.push(Nl>0?gl/Nl:null),Gt.push(Rn>0?fn/Rn:null)}return[ye,Ae,Xe,Lt,jt,Gt]}function gt(y){return!y.endsWith("Z")&&!y.match(/[+-]\d{2}:\d{2}$/)&&(y=y+"Z"),new Date(y).getTime()/1e3}function Ue(y,E,L){if(y.length===0||E.length===0)return E.map(()=>null);const D=[...y].sort((A,K)=>gt(A.timestamp)-gt(K.timestamp)),X=D.map(A=>gt(A.timestamp)),F=D.map(A=>A.temperature===null?null:L?A.temperature:A.temperature*9/5+32);return E.map(A=>{let K=null,ye=null;for(let Ae=0;Ae<X.length;Ae++)if(X[Ae]<=A&&(K={time:X[Ae],temp:F[Ae]}),X[Ae]>=A&&ye===null){ye={time:X[Ae],temp:F[Ae]};break}if(K&&ye&&K.temp!==null&&ye.temp!==null){if(K.time===ye.time)return K.temp;const Ae=(A-K.time)/(ye.time-K.time);return K.temp+Ae*(ye.temp-K.temp)}return K!==null&&K.temp!==null?K.temp:ye!==null&&ye.temp!==null?ye.temp:null})}function Zt(y,E,L,D){const X=[...y].reverse();let F=[],A=[],K=[],ye=[],Ae=[];const Xe=[];let Lt=!1;for(const De of X){const Et=gt(De.timestamp),Jt=De.sg_calibrated??De.sg_raw;if(F.push(Et),A.push(Jt),De.is_anomaly&&Jt!==null){Ae.push(Jt);let Nl=[];if(De.anomaly_reasons)try{Nl=JSON.parse(De.anomaly_reasons)}catch{Nl=De.anomaly_reasons.split(",").map(fn=>fn.trim())}Xe.push({timestamp:Et,sg:Jt,reasons:Nl})}else Ae.push(null);const gl=De.temp_calibrated??De.temp_raw;gl!==null?K.push(D?gl:gl*9/5+32):K.push(null),De.battery_percent!==null&&De.battery_percent!==void 0?(ye.push(De.battery_percent),Lt=!0):ye.push(null)}he(je,Lt,!0),he(Se,Xe,!0);let jt=Ue(E,F,D),Gt=Ue(L,F,D);w(o)&&w(c)>1&&(A=lt(A,w(c)),K=lt(K,w(c)),jt=lt(jt,w(c)),Gt=lt(Gt,w(c)));const Rt=500,zt=[...F],al=[...Ae];[F,A,K,jt,Gt,ye]=ol(F,A,K,jt,Gt,ye,Rt),Ae=F.map(De=>{for(let Et=0;Et<zt.length;Et++)if(al[Et]!==null){const Jt=Math.abs(zt[Et]-De),gl=(zt[zt.length-1]-zt[0])/Rt;if(Jt<=gl)return al[Et]}return null});const Tt=xt(F,A);he(N,Tt,!0);const be=Tt?ot(F,Tt):F.map(()=>null);return[F,A,K,jt,Gt,be,Ae,ye]}const Yt=3e4;async function Ct(y=!1){const L=Date.now()-w(p);if(!(!y&&w(p)>0&&L<Yt)){he(J,!0),he($,null);try{if(!w(ae)){const D=await Or(l.batchId);he(ae,D.device_id??null,!0)}if(w(ae)){const[D,X,F]=await Promise.all([Nr(w(ae),w(S),l.batchId),Gr(w(S)).catch(()=>[]),zr(w(S)).catch(()=>[])]);he(W,D,!0),he(C,X,!0),he(ne,F,!0),re()}else he(W,[],!0),he(C,[],!0),he(ne,[],!0),he($,"No device assigned to this batch")}catch(D){he($,D instanceof Error?D.message:"Failed to load data",!0)}finally{he(p,Date.now(),!0),he(J,!1)}}}function re(){if(!T||w(W).length===0)return;const y=Zt(w(W),w(C),w(ne),w(v)),E=me(T.clientWidth,w(v),w(u));G&&G.destroy(),G=new et(E,y,T)}function O(){G&&T&&G.setSize({width:T.clientWidth,height:220})}let we=null;function ze(){if(we&&(clearInterval(we),we=null),w(d)>0){const y=w(d)*60*1e3;we=setInterval(()=>{w(J)||Ct(!1)},y)}}Cr(async()=>{const y=localStorage.getItem(i);if(y!==null){const A=parseInt(y,10);Number.isNaN(A)||he(d,A,!0)}const E=localStorage.getItem(xe);E!==null&&he(oe,E==="true");const L=localStorage.getItem(ve);L!==null&&he(Pe,L==="true");const D=localStorage.getItem(ue);D!==null&&he(de,D==="true");const X=localStorage.getItem(Y);X!==null&&he(ce,X==="true");const F=localStorage.getItem(Re);F!==null&&he(Ge,F==="true");try{const A=await fetch("/api/system/timezone");if(A.ok){const K=await A.json();he(u,K.timezone||"UTC",!0)}}catch{console.warn("Failed to fetch system timezone, using UTC")}await Ct(!0),window.addEventListener("resize",O),ze()}),Dr(()=>{G?.destroy(),window.removeEventListener("resize",O),we&&clearInterval(we)}),Cs(()=>{g()&&g().length>0?he(mt,tt(g()),!0):he(mt,[],!0)}),Cs(()=>{w(v)!==void 0&&w(W).length>0&&T&&re()}),Cs(()=>{w(o),w(c),w(W).length>0&&T&&re()});function hl(y){const E=Number(y.target.value);he(d,E,!0),localStorage.setItem(i,String(E)),ze(),Ct(!0)}function ml(){he(oe,!w(oe)),localStorage.setItem(xe,String(w(oe))),G&&G.setSeries(5,{show:w(oe)})}function Ft(){he(Pe,!w(Pe)),localStorage.setItem(ve,String(w(Pe))),G&&G.setSeries(3,{show:w(Pe)})}function Qt(){he(de,!w(de)),localStorage.setItem(ue,String(w(de))),G&&G.setSeries(4,{show:w(de)})}function rt(){he(ce,!w(ce)),localStorage.setItem(Y,String(w(ce))),G&&G.setSeries(6,{show:w(ce)})}function yt(){he(Ge,!w(Ge)),localStorage.setItem(Re,String(w(Ge))),G&&G.setSeries(7,{show:w(Ge)})}var nt=$u(),at=j(nt),xl=j(at);Ci(xl,21,()=>Fr,Di,(y,E)=>{var L=Uu();let D;L.__click=()=>{w(S)!==w(E).hours&&(he(S,w(E).hours,!0),Ct(!0))};var X=j(L,!0);q(L),Vl(()=>{D=zl(L,1,"range-btn svelte-12kwequ",null,D,{active:w(S)===w(E).hours}),Ke(X,w(E).label)}),pt(y,L)}),q(xl);var Rl=ee(xl,2),Ut=j(Rl),vt=ee(j(Ut),2);vt.__change=hl,Ci(vt,21,()=>n,Di,(y,E)=>{var L=qu(),D=j(L,!0);q(L);var X={};Vl(()=>{Ke(D,w(E).label),X!==(X=w(E).value)&&(L.value=(L.__value=w(E).value)??"")}),pt(y,L)}),q(vt);var Pl;Rr(vt),q(Ut);var ut=ee(Ut,2),Fl=ee(j(ut),2),un=j(Fl);ln(2),q(Fl);var yl=ee(Fl,2);let Wl;yl.__click=Ft;var cn=j(yl);Sn(cn,"background: #22d3ee;"),ln(2),q(yl);var kl=ee(yl,2);let Yl;kl.__click=Qt;var rl=j(kl);Sn(rl,"background: #a78bfa;"),ln(2),q(kl);var Ie=ee(kl,2);let Ot;Ie.__click=ml;var Tl=j(Ie);Sn(Tl,"background: rgba(250, 204, 21, 0.5);"),ln(2),q(Ie);var Je=ee(Ie,2);{var Ee=y=>{var E=Ku();let L;E.__click=rt;var D=j(E);Sn(D,"background: #ef4444;");var X=ee(D,2),F=j(X);q(X),q(E),Vl(()=>{L=zl(E,1,"legend-item legend-toggle anomaly-toggle svelte-12kwequ",null,L,{"legend-disabled":!w(ce)}),nn(E,"title",w(ce)?"Hide anomaly markers":"Show anomaly markers"),Ke(F,`Anomalies (${w(Se).length??""})`)}),pt(y,E)};dl(Je,y=>{w(Se).length>0&&y(Ee)})}var ct=ee(Je,2);{var qt=y=>{var E=ju();let L;E.__click=yt;var D=j(E);Sn(D,"background: #22c55e;"),ln(2),q(E),Vl(()=>{L=zl(E,1,"legend-item legend-toggle svelte-12kwequ",null,L,{"legend-disabled":!w(Ge)}),nn(E,"title",w(Ge)?"Hide battery level":"Show battery level")}),pt(y,E)};dl(ct,y=>{w(je)&&y(qt)})}q(ut),q(Rl),q(at);var $t=ee(at,2),Dt=j($t);{var Kt=y=>{var E=Ju();pt(y,E)};dl(Dt,y=>{w(J)&&y(Kt)})}var Nt=ee(Dt,2);{var kt=y=>{var E=Zu(),L=ee(j(E),2);L.__click=()=>Ct(!0),q(E),pt(y,E)},Ol=y=>{var E=Gs(),L=ls(E);{var D=X=>{var F=Qu();pt(X,F)};dl(L,X=>{w(W).length===0&&X(D)},!0)}pt(y,E)};dl(Nt,y=>{w($)?y(kt):y(Ol,!1)})}q($t),So($t,y=>T=y,()=>T);var Xt=ee($t,2);{var El=y=>{{let E=Il(()=>w(N)?{predictedFg:w(N).predictedFg,daysToFg:w(N).daysToFg,r2:w(N).r2}:null);Yu(y,{get readings(){return w(W)},get originalGravity(){return x()},get trend(){return w(E)}})}};dl(Xt,y=>{w(W).length>0&&y(El)})}q(nt),Vl(()=>{Pl!==(Pl=w(d))&&(vt.value=(vt.__value=w(d))??"",Pr(vt,w(d))),Sn(un,`background: ${(se[m()]||"var(--text-secondary)")??""};`),Wl=zl(yl,1,"legend-item legend-toggle svelte-12kwequ",null,Wl,{"legend-disabled":!w(Pe)}),nn(yl,"title",w(Pe)?"Hide ambient temp":"Show ambient temp"),Yl=zl(kl,1,"legend-item legend-toggle svelte-12kwequ",null,Yl,{"legend-disabled":!w(de)}),nn(kl,"title",w(de)?"Hide chamber temp":"Show chamber temp"),Ot=zl(Ie,1,"legend-item legend-toggle svelte-12kwequ",null,Ot,{"legend-disabled":!w(oe)}),nn(Ie,"title",w(oe)?"Hide trend line":"Show trend line")}),pt(e,nt),bo()}wo(["click","change"]);export{pc as F};
