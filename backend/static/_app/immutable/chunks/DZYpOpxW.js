import{d as wo,c as Gs,a as ft,f as Ct,s as Ke,e as Mr}from"./CCsyRfs1.js";import{a as _o,f as ls,h as w,u as zl,g as bo,d as Q,r as K,e as ee,s as je,t as Il,c as he,n as bn,p as Gn,o as Cr,aI as Dr,ay as Cs}from"./DyQh1CUw.js";import{e as Ci,i as Di}from"./DndLTv14.js";import{i as gl}from"./HQeVE6fZ.js";import{r as Lr,s as ln}from"./DPJa9AuX.js";import{s as Gl}from"./C1-3ELYM.js";import{s as zn}from"./COCsBJqH.js";import{i as Rr,s as Pr}from"./U9y4h8n3.js";import{b as So}from"./BlPaiSLK.js";import{p as ns}from"./B-ZSmncO.js";import{Y as Fr,Z as Or,_ as Nr,$ as Gr,a0 as zr}from"./DciRO_hW.js";import{c as ss,d as Hn,b as xo,g as Ir}from"./PSkW1kYG.js";import{b as Vr}from"./B_acRpXz.js";const Hr=!0,dt="u-",Br="uplot",Wr=dt+"hz",Yr=dt+"vt",Ur=dt+"title",qr=dt+"wrap",Kr=dt+"under",jr=dt+"over",Jr=dt+"axis",nn=dt+"off",Zr=dt+"select",Qr=dt+"cursor-x",$r=dt+"cursor-y",Xr=dt+"cursor-pt",ea=dt+"legend",ta=dt+"live",la=dt+"inline",na=dt+"series",sa=dt+"marker",Li=dt+"label",ia=dt+"value",Bn="width",Wn="height",In="top",Ri="bottom",wn="left",Ds="right",js="#000",Pi=js+"0",Ls="mousemove",Fi="mousedown",Rs="mouseup",Oi="mouseenter",Ni="mouseleave",Gi="dblclick",oa="resize",ra="scroll",zi="change",os="dppxchange",Js="--",En=typeof window<"u",zs=En?document:null,Sn=En?window:null,aa=En?navigator:null;let Ce,Xn;function Is(){let e=devicePixelRatio;Ce!=e&&(Ce=e,Xn&&Hs(zi,Xn,Is),Xn=matchMedia(`(min-resolution: ${Ce-.001}dppx) and (max-resolution: ${Ce+.001}dppx)`),sn(zi,Xn,Is),Sn.dispatchEvent(new CustomEvent(os)))}function il(e,l){if(l!=null){let i=e.classList;!i.contains(l)&&i.add(l)}}function Vs(e,l){let i=e.classList;i.contains(l)&&i.remove(l)}function Ue(e,l,i){e.style[l]=i+"px"}function Sl(e,l,i,n){let o=zs.createElement(e);return l!=null&&il(o,l),i?.insertBefore(o,n),o}function hl(e,l){return Sl("div",e,l)}const Ii=new WeakMap;function Pl(e,l,i,n,o){let c="translate("+l+"px,"+i+"px)",u=Ii.get(e);c!=u&&(e.style.transform=c,Ii.set(e,c),l<0||i<0||l>n||i>o?il(e,nn):Vs(e,nn))}const Vi=new WeakMap;function Hi(e,l,i){let n=l+i,o=Vi.get(e);n!=o&&(Vi.set(e,n),e.style.background=l,e.style.borderColor=i)}const Bi=new WeakMap;function Wi(e,l,i,n){let o=l+""+i,c=Bi.get(e);o!=c&&(Bi.set(e,o),e.style.height=i+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-i/2+"px":0)}const Zs={passive:!0},ua={...Zs,capture:!0};function sn(e,l,i,n){l.addEventListener(e,i,n?ua:Zs)}function Hs(e,l,i,n){l.removeEventListener(e,i,Zs)}En&&Is();function xl(e,l,i,n){let o;i=i||0,n=n||l.length-1;let c=n<=2147483647;for(;n-i>1;)o=c?i+n>>1:ol((i+n)/2),l[o]<e?i=o:n=o;return e-l[i]<=l[n]-e?i:n}function yo(e){return(i,n,o)=>{let c=-1,u=-1;for(let p=n;p<=o;p++)if(e(i[p])){c=p;break}for(let p=o;p>=n;p--)if(e(i[p])){u=p;break}return[c,u]}}const ko=e=>e!=null,To=e=>e!=null&&e>0,us=yo(ko),ca=yo(To);function fa(e,l,i,n=0,o=!1){let c=o?ca:us,u=o?To:ko;[l,i]=c(e,l,i);let p=e[l],d=e[l];if(l>-1)if(n==1)p=e[l],d=e[i];else if(n==-1)p=e[i],d=e[l];else for(let m=l;m<=i;m++){let x=e[m];u(x)&&(x<p?p=x:x>d&&(d=x))}return[p??Ge,d??-Ge]}function cs(e,l,i,n){let o=qi(e),c=qi(l);e==l&&(o==-1?(e*=i,l/=i):(e/=i,l*=i));let u=i==10?Vl:Eo,p=o==1?ol:ml,d=c==1?ml:ol,m=p(u(pt(e))),x=d(u(pt(l))),g=xn(i,m),v=xn(i,x);return i==10&&(m<0&&(g=ze(g,-m)),x<0&&(v=ze(v,-x))),n||i==2?(e=g*o,l=v*c):(e=Do(e,g),l=fs(l,v)),[e,l]}function Qs(e,l,i,n){let o=cs(e,l,i,n);return e==0&&(o[0]=0),l==0&&(o[1]=0),o}const $s=.1,Yi={mode:3,pad:$s},Un={pad:0,soft:null,mode:0},pa={min:Un,max:Un};function rs(e,l,i,n){return ps(i)?Ui(e,l,i):(Un.pad=i,Un.soft=n?0:null,Un.mode=n?3:0,Ui(e,l,pa))}function ke(e,l){return e??l}function da(e,l,i){for(l=ke(l,0),i=ke(i,e.length-1);l<=i;){if(e[l]!=null)return!0;l++}return!1}function Ui(e,l,i){let n=i.min,o=i.max,c=ke(n.pad,0),u=ke(o.pad,0),p=ke(n.hard,-Ge),d=ke(o.hard,Ge),m=ke(n.soft,Ge),x=ke(o.soft,-Ge),g=ke(n.mode,0),v=ke(o.mode,0),H=l-e,E=Vl(H),N=Vt(pt(e),pt(l)),J=Vl(N),$=pt(J-E);(H<1e-24||$>10)&&(H=0,(e==0||l==0)&&(H=1e-24,g==2&&m!=Ge&&(c=0),v==2&&x!=-Ge&&(u=0)));let S=H||N||1e3,W=Vl(S),C=xn(10,ol(W)),se=S*(H==0?e==0?.1:1:c),O=ze(Do(e-se,C/10),24),re=e>=m&&(g==1||g==3&&O<=m||g==2&&O>=m)?m:Ge,ie=Vt(p,O<re&&e>=re?re:yl(re,O)),pe=S*(H==0?l==0?.1:1:u),oe=ze(fs(l+pe,C/10),24),b=l<=x&&(v==1||v==3&&oe>=x||v==2&&oe<=x)?x:-Ge,U=yl(d,oe>b&&l<=b?b:Vt(b,oe));return ie==U&&ie==0&&(U=100),[ie,U]}const ha=new Intl.NumberFormat(En?aa.language:"en-US"),Xs=e=>ha.format(e),rl=Math,is=rl.PI,pt=rl.abs,ol=rl.floor,ct=rl.round,ml=rl.ceil,yl=rl.min,Vt=rl.max,xn=rl.pow,qi=rl.sign,Vl=rl.log10,Eo=rl.log2,ma=(e,l=1)=>rl.sinh(e)*l,Ps=(e,l=1)=>rl.asinh(e/l),Ge=1/0;function Ki(e){return(Vl((e^e>>31)-(e>>31))|0)+1}function Bs(e,l,i){return yl(Vt(e,l),i)}function Ao(e){return typeof e=="function"}function we(e){return Ao(e)?e:()=>e}const ga=()=>{},Mo=e=>e,Co=(e,l)=>l,va=e=>null,ji=e=>!0,Ji=(e,l)=>e==l,wa=/\.\d*?(?=9{6,}|0{6,})/gm,on=e=>{if(Ro(e)||Jl.has(e))return e;const l=`${e}`,i=l.match(wa);if(i==null)return e;let n=i[0].length-1;if(l.indexOf("e-")!=-1){let[o,c]=l.split("e");return+`${on(o)}e${c}`}return ze(e,n)};function en(e,l){return on(ze(on(e/l))*l)}function fs(e,l){return on(ml(on(e/l))*l)}function Do(e,l){return on(ol(on(e/l))*l)}function ze(e,l=0){if(Ro(e))return e;let i=10**l,n=e*i*(1+Number.EPSILON);return ct(n)/i}const Jl=new Map;function Lo(e){return((""+e).split(".")[1]||"").length}function Kn(e,l,i,n){let o=[],c=n.map(Lo);for(let u=l;u<i;u++){let p=pt(u),d=ze(xn(e,u),p);for(let m=0;m<n.length;m++){let x=e==10?+`${n[m]}e${u}`:n[m]*d,g=(u>=0?0:p)+(u>=c[m]?0:c[m]),v=e==10?x:ze(x,g);o.push(v),Jl.set(v,g)}}return o}const qn={},ei=[],yn=[null,null],jl=Array.isArray,Ro=Number.isInteger,_a=e=>e===void 0;function Zi(e){return typeof e=="string"}function ps(e){let l=!1;if(e!=null){let i=e.constructor;l=i==null||i==Object}return l}function ba(e){return e!=null&&typeof e=="object"}const Sa=Object.getPrototypeOf(Uint8Array),Po="__proto__";function kn(e,l=ps){let i;if(jl(e)){let n=e.find(o=>o!=null);if(jl(n)||l(n)){i=Array(e.length);for(let o=0;o<e.length;o++)i[o]=kn(e[o],l)}else i=e.slice()}else if(e instanceof Sa)i=e.slice();else if(l(e)){i={};for(let n in e)n!=Po&&(i[n]=kn(e[n],l))}else i=e;return i}function nt(e){let l=arguments;for(let i=1;i<l.length;i++){let n=l[i];for(let o in n)o!=Po&&(ps(e[o])?nt(e[o],kn(n[o])):e[o]=kn(n[o]))}return e}const xa=0,ya=1,ka=2;function Ta(e,l,i){for(let n=0,o,c=-1;n<l.length;n++){let u=l[n];if(u>c){for(o=u-1;o>=0&&e[o]==null;)e[o--]=null;for(o=u+1;o<i&&e[o]==null;)e[c=o++]=null}}}function Ea(e,l){if(Ca(e)){let u=e[0].slice();for(let p=1;p<e.length;p++)u.push(...e[p].slice(1));return Da(u[0])||(u=Ma(u)),u}let i=new Set;for(let u=0;u<e.length;u++){let d=e[u][0],m=d.length;for(let x=0;x<m;x++)i.add(d[x])}let n=[Array.from(i).sort((u,p)=>u-p)],o=n[0].length,c=new Map;for(let u=0;u<o;u++)c.set(n[0][u],u);for(let u=0;u<e.length;u++){let p=e[u],d=p[0];for(let m=1;m<p.length;m++){let x=p[m],g=Array(o).fill(void 0),v=l?l[u][m]:ya,H=[];for(let E=0;E<x.length;E++){let N=x[E],J=c.get(d[E]);N===null?v!=xa&&(g[J]=N,v==ka&&H.push(J)):g[J]=N}Ta(g,H,o),n.push(g)}}return n}const Aa=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Ma(e){let l=e[0],i=l.length,n=Array(i);for(let c=0;c<n.length;c++)n[c]=c;n.sort((c,u)=>l[c]-l[u]);let o=[];for(let c=0;c<e.length;c++){let u=e[c],p=Array(i);for(let d=0;d<i;d++)p[d]=u[n[d]];o.push(p)}return o}function Ca(e){let l=e[0][0],i=l.length;for(let n=1;n<e.length;n++){let o=e[n][0];if(o.length!=i)return!1;if(o!=l){for(let c=0;c<i;c++)if(o[c]!=l[c])return!1}}return!0}function Da(e,l=100){const i=e.length;if(i<=1)return!0;let n=0,o=i-1;for(;n<=o&&e[n]==null;)n++;for(;o>=n&&e[o]==null;)o--;if(o<=n)return!0;const c=Vt(1,ol((o-n+1)/l));for(let u=e[n],p=n+c;p<=o;p+=c){const d=e[p];if(d!=null){if(d<=u)return!1;u=d}}return!0}const Fo=["January","February","March","April","May","June","July","August","September","October","November","December"],Oo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function No(e){return e.slice(0,3)}const La=Oo.map(No),Ra=Fo.map(No),Pa={MMMM:Fo,MMM:Ra,WWWW:Oo,WWW:La};function Vn(e){return(e<10?"0":"")+e}function Fa(e){return(e<10?"00":e<100?"0":"")+e}const Oa={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Vn(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Vn(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Vn(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return l==0?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Vn(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Vn(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Fa(e.getMilliseconds())};function ti(e,l){l=l||Pa;let i=[],n=/\{([a-z]+)\}|[^{]+/gi,o;for(;o=n.exec(e);)i.push(o[0][0]=="{"?Oa[o[1]]:o[0]);return c=>{let u="";for(let p=0;p<i.length;p++)u+=typeof i[p]=="string"?i[p]:i[p](c,l);return u}}const Na=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Ga(e,l){let i;return l=="UTC"||l=="Etc/UTC"?i=new Date(+e+e.getTimezoneOffset()*6e4):l==Na?i=e:(i=new Date(e.toLocaleString("en-US",{timeZone:l})),i.setMilliseconds(e.getMilliseconds())),i}const Go=e=>e%1==0,as=[1,2,2.5,5],za=Kn(10,-32,0,as),zo=Kn(10,0,32,as),Ia=zo.filter(Go),tn=za.concat(zo),li=`
`,Io="{YYYY}",Qi=li+Io,Vo="{M}/{D}",Yn=li+Vo,es=Yn+"/{YY}",Ho="{aa}",Va="{h}:{mm}",_n=Va+Ho,$i=li+_n,Xi=":{ss}",Le=null;function Bo(e){let l=e*1e3,i=l*60,n=i*60,o=n*24,c=o*30,u=o*365,d=(e==1?Kn(10,0,3,as).filter(Go):Kn(10,-3,0,as)).concat([l,l*5,l*10,l*15,l*30,i,i*5,i*10,i*15,i*30,n,n*2,n*3,n*4,n*6,n*8,n*12,o,o*2,o*3,o*4,o*5,o*6,o*7,o*8,o*9,o*10,o*15,c,c*2,c*3,c*4,c*6,u,u*2,u*5,u*10,u*25,u*50,u*100]);const m=[[u,Io,Le,Le,Le,Le,Le,Le,1],[o*28,"{MMM}",Qi,Le,Le,Le,Le,Le,1],[o,Vo,Qi,Le,Le,Le,Le,Le,1],[n,"{h}"+Ho,es,Le,Yn,Le,Le,Le,1],[i,_n,es,Le,Yn,Le,Le,Le,1],[l,Xi,es+" "+_n,Le,Yn+" "+_n,Le,$i,Le,1],[e,Xi+".{fff}",es+" "+_n,Le,Yn+" "+_n,Le,$i,Le,1]];function x(g){return(v,H,E,N,J,$)=>{let S=[],W=J>=u,C=J>=c&&J<u,se=g(E),O=ze(se*e,3),re=Fs(se.getFullYear(),W?0:se.getMonth(),C||W?1:se.getDate()),ie=ze(re*e,3);if(C||W){let pe=C?J/c:0,oe=W?J/u:0,b=O==ie?O:ze(Fs(re.getFullYear()+oe,re.getMonth()+pe,1)*e,3),U=new Date(ct(b/e)),z=U.getFullYear(),q=U.getMonth();for(let P=0;b<=N;P++){let te=Fs(z+oe*P,q+pe*P,1),I=te-g(ze(te*e,3));b=ze((+te+I)*e,3),b<=N&&S.push(b)}}else{let pe=J>=o?o:J,oe=ol(E)-ol(O),b=ie+oe+fs(O-ie,pe);S.push(b);let U=g(b),z=U.getHours()+U.getMinutes()/i+U.getSeconds()/n,q=J/n,P=v.axes[H]._space,te=$/P;for(;b=ze(b+J,e==1?0:3),!(b>N);)if(q>1){let I=ol(ze(z+q,6))%24,de=g(b).getHours()-I;de>1&&(de=-1),b-=de*n,z=(z+q)%24;let fe=S[S.length-1];ze((b-fe)/J,3)*te>=.7&&S.push(b)}else S.push(b)}return S}}return[d,m,x]}const[Ha,Ba,Wa]=Bo(1),[Ya,Ua,qa]=Bo(.001);Kn(2,-53,53,[1]);function eo(e,l){return e.map(i=>i.map((n,o)=>o==0||o==8||n==null?n:l(o==1||i[8]==0?n:i[1]+n)))}function to(e,l){return(i,n,o,c,u)=>{let p=l.find(E=>u>=E[0])||l[l.length-1],d,m,x,g,v,H;return n.map(E=>{let N=e(E),J=N.getFullYear(),$=N.getMonth(),S=N.getDate(),W=N.getHours(),C=N.getMinutes(),se=N.getSeconds(),O=J!=d&&p[2]||$!=m&&p[3]||S!=x&&p[4]||W!=g&&p[5]||C!=v&&p[6]||se!=H&&p[7]||p[1];return d=J,m=$,x=S,g=W,v=C,H=se,O(N)})}}function Ka(e,l){let i=ti(l);return(n,o,c,u,p)=>o.map(d=>i(e(d)))}function Fs(e,l,i){return new Date(e,l,i)}function lo(e,l){return l(e)}const ja="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function no(e,l){return(i,n,o,c)=>c==null?Js:l(e(n))}function Ja(e,l){let i=e.series[l];return i.width?i.stroke(e,l):i.points.width?i.points.stroke(e,l):null}function Za(e,l){return e.series[l].fill(e,l)}const Qa={show:!0,live:!0,isolate:!1,mount:ga,markers:{show:!0,width:2,stroke:Ja,fill:Za,dash:"solid"},idx:null,idxs:null,values:[]};function $a(e,l){let i=e.cursor.points,n=hl(),o=i.size(e,l);Ue(n,Bn,o),Ue(n,Wn,o);let c=o/-2;Ue(n,"marginLeft",c),Ue(n,"marginTop",c);let u=i.width(e,l,o);return u&&Ue(n,"borderWidth",u),n}function Xa(e,l){let i=e.series[l].points;return i._fill||i._stroke}function eu(e,l){let i=e.series[l].points;return i._stroke||i._fill}function tu(e,l){return e.series[l].points.size}const Os=[0,0];function lu(e,l,i){return Os[0]=l,Os[1]=i,Os}function ts(e,l,i,n=!0){return o=>{o.button==0&&(!n||o.target==l)&&i(o)}}function Ns(e,l,i,n=!0){return o=>{(!n||o.target==l)&&i(o)}}const nu={show:!0,x:!0,y:!0,lock:!1,move:lu,points:{one:!1,show:$a,size:tu,width:0,stroke:eu,fill:Xa},bind:{mousedown:ts,mouseup:ts,click:ts,dblclick:ts,mousemove:Ns,mouseleave:Ns,mouseenter:Ns},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,i,n,o)=>n-o,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Wo={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ni=nt({},Wo,{filter:Co}),Yo=nt({},ni,{size:10}),Uo=nt({},Wo,{show:!1}),si='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',qo="bold "+si,Ko=1.5,so={show:!0,scale:"x",stroke:js,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:qo,side:2,grid:ni,ticks:Yo,border:Uo,font:si,lineGap:Ko,rotate:0},su="Value",iu="Time",io={show:!0,scale:"x",auto:!1,sorted:1,min:Ge,max:-Ge,idxs:[]};function ou(e,l,i,n,o){return l.map(c=>c==null?"":Xs(c))}function ru(e,l,i,n,o,c,u){let p=[],d=Jl.get(o)||0;i=u?i:ze(fs(i,o),d);for(let m=i;m<=n;m=ze(m+o,d))p.push(Object.is(m,-0)?0:m);return p}function Ws(e,l,i,n,o,c,u){const p=[],d=e.scales[e.axes[l].scale].log,m=d==10?Vl:Eo,x=ol(m(i));o=xn(d,x),d==10&&(o=tn[xl(o,tn)]);let g=i,v=o*d;d==10&&(v=tn[xl(v,tn)]);do p.push(g),g=g+o,d==10&&!Jl.has(g)&&(g=ze(g,Jl.get(o))),g>=v&&(o=g,v=o*d,d==10&&(v=tn[xl(v,tn)]));while(g<=n);return p}function au(e,l,i,n,o,c,u){let d=e.scales[e.axes[l].scale].asinh,m=n>d?Ws(e,l,Vt(d,i),n,o):[d],x=n>=0&&i<=0?[0]:[];return(i<-d?Ws(e,l,Vt(d,-n),-i,o):[d]).reverse().map(v=>-v).concat(x,m)}const jo=/./,uu=/[12357]/,cu=/[125]/,oo=/1/,Ys=(e,l,i,n)=>e.map((o,c)=>l==4&&o==0||c%n==0&&i.test(o.toExponential()[o<0?1:0])?o:null);function fu(e,l,i,n,o){let c=e.axes[i],u=c.scale,p=e.scales[u],d=e.valToPos,m=c._space,x=d(10,u),g=d(9,u)-x>=m?jo:d(7,u)-x>=m?uu:d(5,u)-x>=m?cu:oo;if(g==oo){let v=pt(d(1,u)-x);if(v<m)return Ys(l.slice().reverse(),p.distr,g,ml(m/v)).reverse()}return Ys(l,p.distr,g,1)}function pu(e,l,i,n,o){let c=e.axes[i],u=c.scale,p=c._space,d=e.valToPos,m=pt(d(1,u)-d(2,u));return m<p?Ys(l.slice().reverse(),3,jo,ml(p/m)).reverse():l}function du(e,l,i,n){return n==null?Js:l==null?"":Xs(l)}const ro={show:!0,scale:"y",stroke:js,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:qo,side:3,grid:ni,ticks:Yo,border:Uo,font:si,lineGap:Ko,rotate:0};function hu(e,l){let i=3+(e||1)*2;return ze(i*l,3)}function mu(e,l){let{scale:i,idxs:n}=e.series[0],o=e._data[0],c=e.valToPos(o[n[0]],i,!0),u=e.valToPos(o[n[1]],i,!0),p=pt(u-c),d=e.series[l],m=p/(d.points.space*Ce);return n[1]-n[0]<=m}const ao={scale:null,auto:!0,sorted:0,min:Ge,max:-Ge},Jo=(e,l,i,n,o)=>o,uo={show:!0,auto:!0,sorted:0,gaps:Jo,alpha:1,facets:[nt({},ao,{scale:"x"}),nt({},ao,{scale:"y"})]},co={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Jo,alpha:1,points:{show:mu,filter:null},values:null,min:Ge,max:-Ge,idxs:[],path:null,clip:null};function gu(e,l,i,n,o){return i/10}const Zo={time:Hr,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},vu=nt({},Zo,{time:!1,ori:1}),fo={};function Qo(e,l){let i=fo[e];return i||(i={key:e,plots:[],sub(n){i.plots.push(n)},unsub(n){i.plots=i.plots.filter(o=>o!=n)},pub(n,o,c,u,p,d,m){for(let x=0;x<i.plots.length;x++)i.plots[x]!=o&&i.plots[x].pub(n,o,c,u,p,d,m)}},e!=null&&(fo[e]=i)),i}const Tn=1,Us=2;function rn(e,l,i){const n=e.mode,o=e.series[l],c=n==2?e._data[l]:e._data,u=e.scales,p=e.bbox;let d=c[0],m=n==2?c[1]:c[l],x=n==2?u[o.facets[0].scale]:u[e.series[0].scale],g=n==2?u[o.facets[1].scale]:u[o.scale],v=p.left,H=p.top,E=p.width,N=p.height,J=e.valToPosH,$=e.valToPosV;return x.ori==0?i(o,d,m,x,g,J,$,v,H,E,N,hs,An,gs,Xo,tr):i(o,d,m,x,g,$,J,H,v,N,E,ms,Mn,ri,er,lr)}function ii(e,l){let i=0,n=0,o=ke(e.bands,ei);for(let c=0;c<o.length;c++){let u=o[c];u.series[0]==l?i=u.dir:u.series[1]==l&&(u.dir==1?n|=1:n|=2)}return[i,n==1?-1:n==2?1:n==3?2:0]}function wu(e,l,i,n,o){let c=e.mode,u=e.series[l],p=c==2?u.facets[1].scale:u.scale,d=e.scales[p];return o==-1?d.min:o==1?d.max:d.distr==3?d.dir==1?d.min:d.max:0}function Hl(e,l,i,n,o,c){return rn(e,l,(u,p,d,m,x,g,v,H,E,N,J)=>{let $=u.pxRound;const S=m.dir*(m.ori==0?1:-1),W=m.ori==0?An:Mn;let C,se;S==1?(C=i,se=n):(C=n,se=i);let O=$(g(p[C],m,N,H)),re=$(v(d[C],x,J,E)),ie=$(g(p[se],m,N,H)),pe=$(v(c==1?x.max:x.min,x,J,E)),oe=new Path2D(o);return W(oe,ie,pe),W(oe,O,pe),W(oe,O,re),oe})}function ds(e,l,i,n,o,c){let u=null;if(e.length>0){u=new Path2D;const p=l==0?gs:ri;let d=i;for(let g=0;g<e.length;g++){let v=e[g];if(v[1]>v[0]){let H=v[0]-d;H>0&&p(u,d,n,H,n+c),d=v[1]}}let m=i+o-d,x=10;m>0&&p(u,d,n-x/2,m,n+c+x)}return u}function _u(e,l,i){let n=e[e.length-1];n&&n[0]==l?n[1]=i:e.push([l,i])}function oi(e,l,i,n,o,c,u){let p=[],d=e.length;for(let m=o==1?i:n;m>=i&&m<=n;m+=o)if(l[m]===null){let g=m,v=m;if(o==1)for(;++m<=n&&l[m]===null;)v=m;else for(;--m>=i&&l[m]===null;)v=m;let H=c(e[g]),E=v==g?H:c(e[v]),N=g-o;H=u<=0&&N>=0&&N<d?c(e[N]):H;let $=v+o;E=u>=0&&$>=0&&$<d?c(e[$]):E,E>=H&&p.push([H,E])}return p}function po(e){return e==0?Mo:e==1?ct:l=>en(l,e)}function $o(e){let l=e==0?hs:ms,i=e==0?(o,c,u,p,d,m)=>{o.arcTo(c,u,p,d,m)}:(o,c,u,p,d,m)=>{o.arcTo(u,c,d,p,m)},n=e==0?(o,c,u,p,d)=>{o.rect(c,u,p,d)}:(o,c,u,p,d)=>{o.rect(u,c,d,p)};return(o,c,u,p,d,m=0,x=0)=>{m==0&&x==0?n(o,c,u,p,d):(m=yl(m,p/2,d/2),x=yl(x,p/2,d/2),l(o,c+m,u),i(o,c+p,u,c+p,u+d,m),i(o,c+p,u+d,c,u+d,x),i(o,c,u+d,c,u,x),i(o,c,u,c+p,u,m),o.closePath())}}const hs=(e,l,i)=>{e.moveTo(l,i)},ms=(e,l,i)=>{e.moveTo(i,l)},An=(e,l,i)=>{e.lineTo(l,i)},Mn=(e,l,i)=>{e.lineTo(i,l)},gs=$o(0),ri=$o(1),Xo=(e,l,i,n,o,c)=>{e.arc(l,i,n,o,c)},er=(e,l,i,n,o,c)=>{e.arc(i,l,n,o,c)},tr=(e,l,i,n,o,c,u)=>{e.bezierCurveTo(l,i,n,o,c,u)},lr=(e,l,i,n,o,c,u)=>{e.bezierCurveTo(i,l,o,n,u,c)};function nr(e){return(l,i,n,o,c)=>rn(l,i,(u,p,d,m,x,g,v,H,E,N,J)=>{let{pxRound:$,points:S}=u,W,C;m.ori==0?(W=hs,C=Xo):(W=ms,C=er);const se=ze(S.width*Ce,3);let O=(S.size-S.width)/2*Ce,re=ze(O*2,3),ie=new Path2D,pe=new Path2D,{left:oe,top:b,width:U,height:z}=l.bbox;gs(pe,oe-re,b-re,U+re*2,z+re*2);const q=P=>{if(d[P]!=null){let te=$(g(p[P],m,N,H)),I=$(v(d[P],x,J,E));W(ie,te+O,I),C(ie,te,I,O,0,is*2)}};if(c)c.forEach(q);else for(let P=n;P<=o;P++)q(P);return{stroke:se>0?ie:null,fill:ie,clip:pe,flags:Tn|Us}})}function sr(e){return(l,i,n,o,c,u)=>{n!=o&&(c!=n&&u!=n&&e(l,i,n),c!=o&&u!=o&&e(l,i,o),e(l,i,u))}}const bu=sr(An),Su=sr(Mn);function ir(e){const l=ke(e?.alignGaps,0);return(i,n,o,c)=>rn(i,n,(u,p,d,m,x,g,v,H,E,N,J)=>{[o,c]=us(d,o,c);let $=u.pxRound,S=z=>$(g(z,m,N,H)),W=z=>$(v(z,x,J,E)),C,se;m.ori==0?(C=An,se=bu):(C=Mn,se=Su);const O=m.dir*(m.ori==0?1:-1),re={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Tn},ie=re.stroke;let pe=!1;if(c-o>=N*4){let z=Y=>i.posToVal(Y,m.key,!0),q=null,P=null,te,I,Ie,Te=S(p[O==1?o:c]),de=S(p[o]),fe=S(p[c]),ae=z(O==1?de+1:fe-1);for(let Y=O==1?o:c;Y>=o&&Y<=c;Y+=O){let Re=p[Y],me=(O==1?Re<ae:Re>ae)?Te:S(Re),ue=d[Y];me==Te?ue!=null?(I=ue,q==null?(C(ie,me,W(I)),te=q=P=I):I<q?q=I:I>P&&(P=I)):ue===null&&(pe=!0):(q!=null&&se(ie,Te,W(q),W(P),W(te),W(I)),ue!=null?(I=ue,C(ie,me,W(I)),q=P=te=I):(q=P=null,ue===null&&(pe=!0)),Te=me,ae=z(Te+O))}q!=null&&q!=P&&Ie!=Te&&se(ie,Te,W(q),W(P),W(te),W(I))}else for(let z=O==1?o:c;z>=o&&z<=c;z+=O){let q=d[z];q===null?pe=!0:q!=null&&C(ie,S(p[z]),W(q))}let[b,U]=ii(i,n);if(u.fill!=null||b!=0){let z=re.fill=new Path2D(ie),q=u.fillTo(i,n,u.min,u.max,b),P=W(q),te=S(p[o]),I=S(p[c]);O==-1&&([I,te]=[te,I]),C(z,I,P),C(z,te,P)}if(!u.spanGaps){let z=[];pe&&z.push(...oi(p,d,o,c,O,S,l)),re.gaps=z=u.gaps(i,n,o,c,z),re.clip=ds(z,m.ori,H,E,N,J)}return U!=0&&(re.band=U==2?[Hl(i,n,o,c,ie,-1),Hl(i,n,o,c,ie,1)]:Hl(i,n,o,c,ie,U)),re})}function xu(e){const l=ke(e.align,1),i=ke(e.ascDesc,!1),n=ke(e.alignGaps,0),o=ke(e.extend,!1);return(c,u,p,d)=>rn(c,u,(m,x,g,v,H,E,N,J,$,S,W)=>{[p,d]=us(g,p,d);let C=m.pxRound,{left:se,width:O}=c.bbox,re=de=>C(E(de,v,S,J)),ie=de=>C(N(de,H,W,$)),pe=v.ori==0?An:Mn;const oe={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Tn},b=oe.stroke,U=v.dir*(v.ori==0?1:-1);let z=ie(g[U==1?p:d]),q=re(x[U==1?p:d]),P=q,te=q;o&&l==-1&&(te=se,pe(b,te,z)),pe(b,q,z);for(let de=U==1?p:d;de>=p&&de<=d;de+=U){let fe=g[de];if(fe==null)continue;let ae=re(x[de]),Y=ie(fe);l==1?pe(b,ae,z):pe(b,P,Y),pe(b,ae,Y),z=Y,P=ae}let I=P;o&&l==1&&(I=se+O,pe(b,I,z));let[Ie,Te]=ii(c,u);if(m.fill!=null||Ie!=0){let de=oe.fill=new Path2D(b),fe=m.fillTo(c,u,m.min,m.max,Ie),ae=ie(fe);pe(de,I,ae),pe(de,te,ae)}if(!m.spanGaps){let de=[];de.push(...oi(x,g,p,d,U,re,n));let fe=m.width*Ce/2,ae=i||l==1?fe:-fe,Y=i||l==-1?-fe:fe;de.forEach(Re=>{Re[0]+=ae,Re[1]+=Y}),oe.gaps=de=m.gaps(c,u,p,d,de),oe.clip=ds(de,v.ori,J,$,S,W)}return Te!=0&&(oe.band=Te==2?[Hl(c,u,p,d,b,-1),Hl(c,u,p,d,b,1)]:Hl(c,u,p,d,b,Te)),oe})}function ho(e,l,i,n,o,c,u=Ge){if(e.length>1){let p=null;for(let d=0,m=1/0;d<e.length;d++)if(l[d]!==void 0){if(p!=null){let x=pt(e[d]-e[p]);x<m&&(m=x,u=pt(i(e[d],n,o,c)-i(e[p],n,o,c)))}p=d}}return u}function yu(e){e=e||qn;const l=ke(e.size,[.6,Ge,1]),i=e.align||0,n=e.gap||0;let o=e.radius;o=o==null?[0,0]:typeof o=="number"?[o,0]:o;const c=we(o),u=1-l[0],p=ke(l[1],Ge),d=ke(l[2],1),m=ke(e.disp,qn),x=ke(e.each,H=>{}),{fill:g,stroke:v}=m;return(H,E,N,J)=>rn(H,E,($,S,W,C,se,O,re,ie,pe,oe,b)=>{let U=$.pxRound,z=i,q=n*Ce,P=p*Ce,te=d*Ce,I,Ie;C.ori==0?[I,Ie]=c(H,E):[Ie,I]=c(H,E);const Te=C.dir*(C.ori==0?1:-1);let de=C.ori==0?gs:ri,fe=C.ori==0?x:(F,Se,Pe,ul,vl,Lt,Qt)=>{x(F,Se,Pe,vl,ul,Qt,Lt)},ae=ke(H.bands,ei).find(F=>F.series[0]==E),Y=ae!=null?ae.dir:0,Re=$.fillTo(H,E,$.min,$.max,Y),Je=U(re(Re,se,b,pe)),me,ue,Ve,Fe=oe,be=U($.width*Ce),st=!1,ht=null,tt=null,it=null,Ht=null;g!=null&&(be==0||v!=null)&&(st=!0,ht=g.values(H,E,N,J),tt=new Map,new Set(ht).forEach(F=>{F!=null&&tt.set(F,new Path2D)}),be>0&&(it=v.values(H,E,N,J),Ht=new Map,new Set(it).forEach(F=>{F!=null&&Ht.set(F,new Path2D)})));let{x0:ge,size:bt}=m;if(ge!=null&&bt!=null){z=1,S=ge.values(H,E,N,J),ge.unit==2&&(S=S.map(Pe=>H.posToVal(ie+Pe*oe,C.key,!0)));let F=bt.values(H,E,N,J);bt.unit==2?ue=F[0]*oe:ue=O(F[0],C,oe,ie)-O(0,C,oe,ie),Fe=ho(S,W,O,C,oe,ie,Fe),Ve=Fe-ue+q}else Fe=ho(S,W,O,C,oe,ie,Fe),Ve=Fe*u+q,ue=Fe-Ve;Ve<1&&(Ve=0),be>=ue/2&&(be=0),Ve<5&&(U=Mo);let Dt=Ve>0,Bt=Fe-Ve-(Dt?be:0);ue=U(Bs(Bt,te,P)),me=(z==0?ue/2:z==Te?0:ue)-z*Te*((z==0?q/2:0)+(Dt?be/2:0));const Ne={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Wt=st?null:new Path2D;let Yt=null;if(ae!=null)Yt=H.data[ae.series[1]];else{let{y0:F,y1:Se}=m;F!=null&&Se!=null&&(W=Se.values(H,E,N,J),Yt=F.values(H,E,N,J))}let al=I*ue,le=Ie*ue;for(let F=Te==1?N:J;F>=N&&F<=J;F+=Te){let Se=W[F];if(Se==null)continue;if(Yt!=null){let mt=Yt[F]??0;if(Se-mt==0)continue;Je=re(mt,se,b,pe)}let Pe=C.distr!=2||m!=null?S[F]:F,ul=O(Pe,C,oe,ie),vl=re(ke(Se,Re),se,b,pe),Lt=U(ul-me),Qt=U(Vt(vl,Je)),ot=U(yl(vl,Je)),St=Qt-ot;if(Se!=null){let mt=Se<0?le:al,rt=Se<0?al:le;st?(be>0&&it[F]!=null&&de(Ht.get(it[F]),Lt,ot+ol(be/2),ue,Vt(0,St-be),mt,rt),ht[F]!=null&&de(tt.get(ht[F]),Lt,ot+ol(be/2),ue,Vt(0,St-be),mt,rt)):de(Wt,Lt,ot+ol(be/2),ue,Vt(0,St-be),mt,rt),fe(H,E,F,Lt-be/2,ot,ue+be,St)}}return be>0?Ne.stroke=st?Ht:Wt:st||(Ne._fill=$.width==0?$._fill:$._stroke??$._fill,Ne.width=0),Ne.fill=st?tt:Wt,Ne})}function ku(e,l){const i=ke(l?.alignGaps,0);return(n,o,c,u)=>rn(n,o,(p,d,m,x,g,v,H,E,N,J,$)=>{[c,u]=us(m,c,u);let S=p.pxRound,W=I=>S(v(I,x,J,E)),C=I=>S(H(I,g,$,N)),se,O,re;x.ori==0?(se=hs,re=An,O=tr):(se=ms,re=Mn,O=lr);const ie=x.dir*(x.ori==0?1:-1);let pe=W(d[ie==1?c:u]),oe=pe,b=[],U=[];for(let I=ie==1?c:u;I>=c&&I<=u;I+=ie)if(m[I]!=null){let Te=d[I],de=W(Te);b.push(oe=de),U.push(C(m[I]))}const z={stroke:e(b,U,se,re,O,S),fill:null,clip:null,band:null,gaps:null,flags:Tn},q=z.stroke;let[P,te]=ii(n,o);if(p.fill!=null||P!=0){let I=z.fill=new Path2D(q),Ie=p.fillTo(n,o,p.min,p.max,P),Te=C(Ie);re(I,oe,Te),re(I,pe,Te)}if(!p.spanGaps){let I=[];I.push(...oi(d,m,c,u,ie,W,i)),z.gaps=I=p.gaps(n,o,c,u,I),z.clip=ds(I,x.ori,E,N,J,$)}return te!=0&&(z.band=te==2?[Hl(n,o,c,u,q,-1),Hl(n,o,c,u,q,1)]:Hl(n,o,c,u,q,te)),z})}function Tu(e){return ku(Eu,e)}function Eu(e,l,i,n,o,c){const u=e.length;if(u<2)return null;const p=new Path2D;if(i(p,e[0],l[0]),u==2)n(p,e[1],l[1]);else{let d=Array(u),m=Array(u-1),x=Array(u-1),g=Array(u-1);for(let v=0;v<u-1;v++)x[v]=l[v+1]-l[v],g[v]=e[v+1]-e[v],m[v]=x[v]/g[v];d[0]=m[0];for(let v=1;v<u-1;v++)m[v]===0||m[v-1]===0||m[v-1]>0!=m[v]>0?d[v]=0:(d[v]=3*(g[v-1]+g[v])/((2*g[v]+g[v-1])/m[v-1]+(g[v]+2*g[v-1])/m[v]),isFinite(d[v])||(d[v]=0));d[u-1]=m[u-2];for(let v=0;v<u-1;v++)o(p,e[v]+g[v]/3,l[v]+d[v]*g[v]/3,e[v+1]-g[v]/3,l[v+1]-d[v+1]*g[v]/3,e[v+1],l[v+1])}return p}const qs=new Set;function mo(){for(let e of qs)e.syncRect(!0)}En&&(sn(oa,Sn,mo),sn(ra,Sn,mo,!0),sn(os,Sn,()=>{et.pxRatio=Ce}));const Au=ir(),Mu=nr();function go(e,l,i,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((c,u)=>Ks(c,u,l,i))}function Cu(e,l){return e.map((i,n)=>n==0?{}:nt({},l,i))}function Ks(e,l,i,n){return nt({},l==0?i:n,e)}function or(e,l,i){return l==null?yn:[l,i]}const Du=or;function Lu(e,l,i){return l==null?yn:rs(l,i,$s,!0)}function rr(e,l,i,n){return l==null?yn:cs(l,i,e.scales[n].log,!1)}const Ru=rr;function ar(e,l,i,n){return l==null?yn:Qs(l,i,e.scales[n].log,!1)}const Pu=ar;function Fu(e,l,i,n,o){let c=Vt(Ki(e),Ki(l)),u=l-e,p=xl(o/n*u,i);do{let d=i[p],m=n*d/u;if(m>=o&&c+(d<5?Jl.get(d):0)<=17)return[d,m]}while(++p<i.length);return[0,0]}function vo(e){let l,i;return e=e.replace(/(\d+)px/,(n,o)=>(l=ct((i=+o)*Ce))+"px"),[e,l,i]}function Ou(e){e.show&&[e.font,e.labelFont].forEach(l=>{let i=ze(l[2]*Ce,1);l[0]=l[0].replace(/[0-9.]+px/,i+"px"),l[1]=i})}function et(e,l,i){const n={mode:ke(e.mode,1)},o=n.mode;function c(t,s,r,a){let f=s.valToPct(t);return a+r*(s.dir==-1?1-f:f)}function u(t,s,r,a){let f=s.valToPct(t);return a+r*(s.dir==-1?f:1-f)}function p(t,s,r,a){return s.ori==0?c(t,s,r,a):u(t,s,r,a)}n.valToPosH=c,n.valToPosV=u;let d=!1;n.status=0;const m=n.root=hl(Br);if(e.id!=null&&(m.id=e.id),il(m,e.class),e.title){let t=hl(Ur,m);t.textContent=e.title}const x=Sl("canvas"),g=n.ctx=x.getContext("2d"),v=hl(qr,m);sn("click",v,t=>{t.target===E&&(Be!=dn||qe!=hn)&&Tt.click(n,t)},!0);const H=n.under=hl(Kr,v);v.appendChild(x);const E=n.over=hl(jr,v);e=kn(e);const N=+ke(e.pxAlign,1),J=po(N);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(n,e)||e)});const $=e.ms||.001,S=n.series=o==1?go(e.series||[],io,co,!1):Cu(e.series||[null],uo),W=n.axes=go(e.axes||[],so,ro,!0),C=n.scales={},se=n.bands=e.bands||[];se.forEach(t=>{t.fill=we(t.fill||null),t.dir=ke(t.dir,-1)});const O=o==2?S[1].facets[0].scale:S[0].scale,re={axes:dr,series:Ln},ie=(e.drawOrder||["axes","series"]).map(t=>re[t]);function pe(t){const s=t.distr==3?r=>Vl(r>0?r:t.clamp(n,r,t.min,t.max,t.key)):t.distr==4?r=>Ps(r,t.asinh):t.distr==100?r=>t.fwd(r):r=>r;return r=>{let a=s(r),{_min:f,_max:h}=t,_=h-f;return(a-f)/_}}function oe(t){let s=C[t];if(s==null){let r=(e.scales||qn)[t]||qn;if(r.from!=null){oe(r.from);let a=nt({},C[r.from],r,{key:t});a.valToPct=pe(a),C[t]=a}else{s=C[t]=nt({},t==O?Zo:vu,r),s.key=t;let a=s.time,f=s.range,h=jl(f);if((t!=O||o==2&&!a)&&(h&&(f[0]==null||f[1]==null)&&(f={min:f[0]==null?Yi:{mode:1,hard:f[0],soft:f[0]},max:f[1]==null?Yi:{mode:1,hard:f[1],soft:f[1]}},h=!1),!h&&ps(f))){let _=f;f=(T,M,G)=>M==null?yn:rs(M,G,_)}s.range=we(f||(a?Du:t==O?s.distr==3?Ru:s.distr==4?Pu:or:s.distr==3?rr:s.distr==4?ar:Lu)),s.auto=we(h?!1:s.auto),s.clamp=we(s.clamp||gu),s._min=s._max=null,s.valToPct=pe(s)}}}oe("x"),oe("y"),o==1&&S.forEach(t=>{oe(t.scale)}),W.forEach(t=>{oe(t.scale)});for(let t in e.scales)oe(t);const b=C[O],U=b.distr;let z,q;b.ori==0?(il(m,Wr),z=c,q=u):(il(m,Yr),z=u,q=c);const P={};for(let t in C){let s=C[t];(s.min!=null||s.max!=null)&&(P[t]={min:s.min,max:s.max},s.min=s.max=null)}const te=e.tzDate||(t=>new Date(ct(t/$))),I=e.fmtDate||ti,Ie=$==1?Wa(te):qa(te),Te=to(te,eo($==1?Ba:Ua,I)),de=no(te,lo(ja,I)),fe=[],ae=n.legend=nt({},Qa,e.legend),Y=n.cursor=nt({},nu,{drag:{y:o==2}},e.cursor),Re=ae.show,Je=Y.show,me=ae.markers;ae.idxs=fe,me.width=we(me.width),me.dash=we(me.dash),me.stroke=we(me.stroke),me.fill=we(me.fill);let ue,Ve,Fe,be=[],st=[],ht,tt=!1,it={};if(ae.live){const t=S[1]?S[1].values:null;tt=t!=null,ht=tt?t(n,1,0):{_:0};for(let s in ht)it[s]=Js}if(Re)if(ue=Sl("table",ea,m),Fe=Sl("tbody",null,ue),ae.mount(n,ue),tt){Ve=Sl("thead",null,ue,Fe);let t=Sl("tr",null,Ve);Sl("th",null,t);for(var Ht in ht)Sl("th",Li,t).textContent=Ht}else il(ue,la),ae.live&&il(ue,ta);const ge={show:!0},bt={show:!1};function Dt(t,s){if(s==0&&(tt||!ae.live||o==2))return yn;let r=[],a=Sl("tr",na,Fe,Fe.childNodes[s]);il(a,t.class),t.show||il(a,nn);let f=Sl("th",null,a);if(me.show){let T=hl(sa,f);if(s>0){let M=me.width(n,s);M&&(T.style.border=M+"px "+me.dash(n,s)+" "+me.stroke(n,s)),T.style.background=me.fill(n,s)}}let h=hl(Li,f);t.label instanceof HTMLElement?h.appendChild(t.label):h.textContent=t.label,s>0&&(me.show||(h.style.color=t.width>0?me.stroke(n,s):me.fill(n,s)),Ne("click",f,T=>{if(Y._lock)return;Xt(T);let M=S.indexOf(t);if((T.ctrlKey||T.metaKey)!=ae.isolate){let G=S.some((V,B)=>B>0&&B!=M&&V.show);S.forEach((V,B)=>{B>0&&Cl(B,G?B==M?ge:bt:ge,!0,lt.setSeries)})}else Cl(M,{show:!t.show},!0,lt.setSeries)},!1),Al&&Ne(Oi,f,T=>{Y._lock||(Xt(T),Cl(S.indexOf(t),gn,!0,lt.setSeries))},!1));for(var _ in ht){let T=Sl("td",ia,a);T.textContent="--",r.push(T)}return[a,r]}const Bt=new Map;function Ne(t,s,r,a=!0){const f=Bt.get(s)||{},h=Y.bind[t](n,s,r,a);h&&(sn(t,s,f[t]=h),Bt.set(s,f))}function Wt(t,s,r){const a=Bt.get(s)||{};for(let f in a)(t==null||f==t)&&(Hs(f,s,a[f]),delete a[f]);t==null&&Bt.delete(s)}let Yt=0,al=0,le=0,F=0,Se=0,Pe=0,ul=Se,vl=Pe,Lt=le,Qt=F,ot=0,St=0,mt=0,rt=0;n.bbox={};let kl=!1,Tl=!1,$t=!1,Ut=!1,qt=!1,at=!1;function Bl(t,s,r){(r||t!=n.width||s!=n.height)&&Wl(t,s),un(!1),$t=!0,Tl=!0,cn()}function Wl(t,s){n.width=Yt=le=t,n.height=al=F=s,Se=Pe=0,Dn(),El();let r=n.bbox;ot=r.left=en(Se*Ce,.5),St=r.top=en(Pe*Ce,.5),mt=r.width=en(le*Ce,.5),rt=r.height=en(F*Ce,.5)}const Cn=3;function cl(){let t=!1,s=0;for(;!t;){s++;let r=fr(s),a=pr(s);t=s==Cn||r&&a,t||(Wl(n.width,n.height),Tl=!0)}}function Zl({width:t,height:s}){Bl(t,s)}n.setSize=Zl;function Dn(){let t=!1,s=!1,r=!1,a=!1;W.forEach((f,h)=>{if(f.show&&f._show){let{side:_,_size:T}=f,M=_%2,G=f.label!=null?f.labelSize:0,V=T+G;V>0&&(M?(le-=V,_==3?(Se+=V,a=!0):r=!0):(F-=V,_==0?(Pe+=V,t=!0):s=!0))}}),xt[0]=t,xt[1]=r,xt[2]=s,xt[3]=a,le-=y[1]+y[3],Se+=y[3],F-=y[2]+y[0],Pe+=y[0]}function El(){let t=Se+le,s=Pe+F,r=Se,a=Pe;function f(h,_){switch(h){case 1:return t+=_,t-_;case 2:return s+=_,s-_;case 3:return r-=_,r+_;case 0:return a-=_,a+_}}W.forEach((h,_)=>{if(h.show&&h._show){let T=h.side;h._pos=f(T,h._size),h.label!=null&&(h._lpos=f(T,h.labelSize))}})}if(Y.dataIdx==null){let t=Y.hover,s=t.skip=new Set(t.skip??[]);s.add(void 0);let r=t.prox=we(t.prox),a=t.bias??=0;Y.dataIdx=(f,h,_,T)=>{if(h==0)return _;let M=_,G=r(f,h,_,T)??Ge,V=G>=0&&G<Ge,B=b.ori==0?le:F,ce=Y.left,Me=l[0],ye=l[h];if(s.has(ye[_])){M=null;let ve=null,ne=null,Z;if(a==0||a==-1)for(Z=_;ve==null&&Z-- >0;)s.has(ye[Z])||(ve=Z);if(a==0||a==1)for(Z=_;ne==null&&Z++<ye.length;)s.has(ye[Z])||(ne=Z);if(ve!=null||ne!=null)if(V){let Ye=ve==null?-1/0:z(Me[ve],b,B,0),Qe=ne==null?1/0:z(Me[ne],b,B,0),_t=ce-Ye,Oe=Qe-ce;_t<=Oe?_t<=G&&(M=ve):Oe<=G&&(M=ne)}else M=ne==null?ve:ve==null?ne:_-ve<=ne-_?ve:ne}else V&&pt(ce-z(Me[_],b,B,0))>G&&(M=null);return M}}const Xt=t=>{Y.event=t};Y.idxs=fe,Y._lock=!1;let He=Y.points;He.show=we(He.show),He.size=we(He.size),He.stroke=we(He.stroke),He.width=we(He.width),He.fill=we(He.fill);const Rt=n.focus=nt({},e.focus||{alpha:.3},Y.focus),Al=Rt.prox>=0,Ze=Al&&He.one;let Ee=[],ut=[],Kt=[];function el(t,s){let r=He.show(n,s);if(r instanceof HTMLElement)return il(r,Xr),il(r,t.class),Pl(r,-10,-10,le,F),E.insertBefore(r,Ee[s]),r}function Et(t,s){if(o==1||s>0){let r=o==1&&C[t.scale].time,a=t.value;t.value=r?Zi(a)?no(te,lo(a,I)):a||de:a||du,t.label=t.label||(r?iu:su)}if(Ze||s>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Au||va,t.fillTo=we(t.fillTo||wu),t.pxAlign=+ke(t.pxAlign,N),t.pxRound=po(t.pxAlign),t.stroke=we(t.stroke||null),t.fill=we(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=hu(Vt(1,t.width),1),a=t.points=nt({},{size:r,width:Vt(1,r*.2),stroke:t.stroke,space:r*2,paths:Mu,_stroke:null,_fill:null},t.points);a.show=we(a.show),a.filter=we(a.filter),a.fill=we(a.fill),a.stroke=we(a.stroke),a.paths=we(a.paths),a.pxAlign=t.pxAlign}if(Re){let r=Dt(t,s);be.splice(s,0,r[0]),st.splice(s,0,r[1]),ae.values.push(null)}if(Je){fe.splice(s,0,null);let r=null;Ze?s==0&&(r=el(t,s)):s>0&&(r=el(t,s)),Ee.splice(s,0,r),ut.splice(s,0,0),Kt.splice(s,0,0)}wt("addSeries",s)}function jt(t,s){s=s??S.length,t=o==1?Ks(t,s,io,co):Ks(t,s,{},uo),S.splice(s,0,t),Et(S[s],s)}n.addSeries=jt;function Pt(t){if(S.splice(t,1),Re){ae.values.splice(t,1),st.splice(t,1);let s=be.splice(t,1)[0];Wt(null,s.firstChild),s.remove()}Je&&(fe.splice(t,1),Ee.splice(t,1)[0].remove(),ut.splice(t,1),Kt.splice(t,1)),wt("delSeries",t)}n.delSeries=Pt;const xt=[!1,!1,!1,!1];function Fl(t,s){if(t._show=t.show,t.show){let r=t.side%2,a=C[t.scale];a==null&&(t.scale=r?S[1].scale:O,a=C[t.scale]);let f=a.time;t.size=we(t.size),t.space=we(t.space),t.rotate=we(t.rotate),jl(t.incrs)&&t.incrs.forEach(_=>{!Jl.has(_)&&Jl.set(_,Lo(_))}),t.incrs=we(t.incrs||(a.distr==2?Ia:f?$==1?Ha:Ya:tn)),t.splits=we(t.splits||(f&&a.distr==1?Ie:a.distr==3?Ws:a.distr==4?au:ru)),t.stroke=we(t.stroke),t.grid.stroke=we(t.grid.stroke),t.ticks.stroke=we(t.ticks.stroke),t.border.stroke=we(t.border.stroke);let h=t.values;t.values=jl(h)&&!jl(h[0])?we(h):f?jl(h)?to(te,eo(h,I)):Zi(h)?Ka(te,h):h||Te:h||ou,t.filter=we(t.filter||(a.distr>=3&&a.log==10?fu:a.distr==3&&a.log==2?pu:Co)),t.font=vo(t.font),t.labelFont=vo(t.labelFont),t._size=t.size(n,null,s,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(xt[s]=!0,t._el=hl(Jr,v))}}function tl(t,s,r,a){let[f,h,_,T]=r,M=s%2,G=0;return M==0&&(T||h)&&(G=s==0&&!f||s==2&&!_?ct(so.size/3):0),M==1&&(f||_)&&(G=s==1&&!h||s==3&&!T?ct(ro.size/2):0),G}const Ml=n.padding=(e.padding||[tl,tl,tl,tl]).map(t=>we(ke(t,tl))),y=n._padding=Ml.map((t,s)=>t(n,s,xt,0));let A,R=null,D=null;const X=o==1?S[0].idxs:null;let L=null,k=!1;function j(t,s){if(l=t??[],n.data=n._data=l,o==2){A=0;for(let r=1;r<S.length;r++)A+=l[r][0].length}else{l.length==0&&(n.data=n._data=l=[[]]),L=l[0],A=L.length;let r=l;if(U==2){r=l.slice();let a=r[0]=Array(A);for(let f=0;f<A;f++)a[f]=f}n._data=l=r}if(un(!0),wt("setData"),U==2&&($t=!0),s!==!1){let r=b;r.auto(n,k)?xe():Ul(O,r.min,r.max),Ut=Ut||Y.left>=0,at=!0,cn()}}n.setData=j;function xe(){k=!0;let t,s;o==1&&(A>0?(R=X[0]=0,D=X[1]=A-1,t=l[0][R],s=l[0][D],U==2?(t=R,s=D):t==s&&(U==3?[t,s]=cs(t,t,b.log,!1):U==4?[t,s]=Qs(t,t,b.log,!1):b.time?s=t+ct(86400/$):[t,s]=rs(t,s,$s,!0))):(R=X[0]=t=null,D=X[1]=s=null)),Ul(O,t,s)}let Ae,Xe,At,Jt,Ft,Mt,Ot,fl,yt,_e;function De(t,s,r,a,f,h){t??=Pi,r??=ei,a??="butt",f??=Pi,h??="round",t!=Ae&&(g.strokeStyle=Ae=t),f!=Xe&&(g.fillStyle=Xe=f),s!=At&&(g.lineWidth=At=s),h!=Ft&&(g.lineJoin=Ft=h),a!=Mt&&(g.lineCap=Mt=a),r!=Jt&&g.setLineDash(Jt=r)}function kt(t,s,r,a){s!=Xe&&(g.fillStyle=Xe=s),t!=Ot&&(g.font=Ot=t),r!=fl&&(g.textAlign=fl=r),a!=yt&&(g.textBaseline=yt=a)}function Zt(t,s,r,a,f=0){if(a.length>0&&t.auto(n,k)&&(s==null||s.min==null)){let h=ke(R,0),_=ke(D,a.length-1),T=r.min==null?fa(a,h,_,f,t.distr==3):[r.min,r.max];t.min=yl(t.min,r.min=T[0]),t.max=Vt(t.max,r.max=T[1])}}const wl={min:null,max:null};function Ol(){for(let a in C){let f=C[a];P[a]==null&&(f.min==null||P[O]!=null&&f.auto(n,k))&&(P[a]=wl)}for(let a in C){let f=C[a];P[a]==null&&f.from!=null&&P[f.from]!=null&&(P[a]=wl)}P[O]!=null&&un(!0);let t={};for(let a in P){let f=P[a];if(f!=null){let h=t[a]=kn(C[a],ba);if(f.min!=null)nt(h,f);else if(a!=O||o==2)if(A==0&&h.from==null){let _=h.range(n,null,null,a);h.min=_[0],h.max=_[1]}else h.min=Ge,h.max=-Ge}}if(A>0){S.forEach((a,f)=>{if(o==1){let h=a.scale,_=P[h];if(_==null)return;let T=t[h];if(f==0){let M=T.range(n,T.min,T.max,h);T.min=M[0],T.max=M[1],R=xl(T.min,l[0]),D=xl(T.max,l[0]),D-R>1&&(l[0][R]<T.min&&R++,l[0][D]>T.max&&D--),a.min=L[R],a.max=L[D]}else a.show&&a.auto&&Zt(T,_,a,l[f],a.sorted);a.idxs[0]=R,a.idxs[1]=D}else if(f>0&&a.show&&a.auto){let[h,_]=a.facets,T=h.scale,M=_.scale,[G,V]=l[f],B=t[T],ce=t[M];B!=null&&Zt(B,P[T],h,G,h.sorted),ce!=null&&Zt(ce,P[M],_,V,_.sorted),a.min=_.min,a.max=_.max}});for(let a in t){let f=t[a],h=P[a];if(f.from==null&&(h==null||h.min==null)){let _=f.range(n,f.min==Ge?null:f.min,f.max==-Ge?null:f.max,a);f.min=_[0],f.max=_[1]}}}for(let a in t){let f=t[a];if(f.from!=null){let h=t[f.from];if(h.min==null)f.min=f.max=null;else{let _=f.range(n,h.min,h.max,a);f.min=_[0],f.max=_[1]}}}let s={},r=!1;for(let a in t){let f=t[a],h=C[a];if(h.min!=f.min||h.max!=f.max){h.min=f.min,h.max=f.max;let _=h.distr;h._min=_==3?Vl(h.min):_==4?Ps(h.min,h.asinh):_==100?h.fwd(h.min):h.min,h._max=_==3?Vl(h.max):_==4?Ps(h.max,h.asinh):_==100?h.fwd(h.max):h.max,s[a]=r=!0}}if(r){S.forEach((a,f)=>{o==2?f>0&&s.y&&(a._paths=null):s[a.scale]&&(a._paths=null)});for(let a in s)$t=!0,wt("setScale",a);Je&&Y.left>=0&&(Ut=at=!0)}for(let a in P)P[a]=null}function an(t){let s=Bs(R-1,0,A-1),r=Bs(D+1,0,A-1);for(;t[s]==null&&s>0;)s--;for(;t[r]==null&&r<A-1;)r++;return[s,r]}function Ln(){if(A>0){let t=S.some(s=>s._focus)&&_e!=Rt.alpha;t&&(g.globalAlpha=_e=Rt.alpha),S.forEach((s,r)=>{if(r>0&&s.show&&(Nt(r,!1),Nt(r,!0),s._paths==null)){let a=_e;_e!=s.alpha&&(g.globalAlpha=_e=s.alpha);let f=o==2?[0,l[r][0].length-1]:an(l[r]);s._paths=s.paths(n,r,f[0],f[1]),_e!=a&&(g.globalAlpha=_e=a)}}),S.forEach((s,r)=>{if(r>0&&s.show){let a=_e;_e!=s.alpha&&(g.globalAlpha=_e=s.alpha),s._paths!=null&&ai(r,!1);{let f=s._paths!=null?s._paths.gaps:null,h=s.points.show(n,r,R,D,f),_=s.points.filter(n,r,h,f);(h||_)&&(s.points._paths=s.points.paths(n,r,R,D,_),ai(r,!0))}_e!=a&&(g.globalAlpha=_e=a),wt("drawSeries",r)}}),t&&(g.globalAlpha=_e=1)}}function Nt(t,s){let r=s?S[t].points:S[t];r._stroke=r.stroke(n,t),r._fill=r.fill(n,t)}function ai(t,s){let r=s?S[t].points:S[t],{stroke:a,fill:f,clip:h,flags:_,_stroke:T=r._stroke,_fill:M=r._fill,_width:G=r.width}=r._paths;G=ze(G*Ce,3);let V=null,B=G%2/2;s&&M==null&&(M=G>0?"#fff":T);let ce=r.pxAlign==1&&B>0;if(ce&&g.translate(B,B),!s){let Me=ot-G/2,ye=St-G/2,ve=mt+G,ne=rt+G;V=new Path2D,V.rect(Me,ye,ve,ne)}s?vs(T,G,r.dash,r.cap,M,a,f,_,h):ur(t,T,G,r.dash,r.cap,M,a,f,_,V,h),ce&&g.translate(-B,-B)}function ur(t,s,r,a,f,h,_,T,M,G,V){let B=!1;M!=0&&se.forEach((ce,Me)=>{if(ce.series[0]==t){let ye=S[ce.series[1]],ve=l[ce.series[1]],ne=(ye._paths||qn).band;jl(ne)&&(ne=ce.dir==1?ne[0]:ne[1]);let Z,Ye=null;ye.show&&ne&&da(ve,R,D)?(Ye=ce.fill(n,Me)||h,Z=ye._paths.clip):ne=null,vs(s,r,a,f,Ye,_,T,M,G,V,Z,ne),B=!0}}),B||vs(s,r,a,f,h,_,T,M,G,V)}const ui=Tn|Us;function vs(t,s,r,a,f,h,_,T,M,G,V,B){De(t,s,r,a,f),(M||G||B)&&(g.save(),M&&g.clip(M),G&&g.clip(G)),B?(T&ui)==ui?(g.clip(B),V&&g.clip(V),Jn(f,_),jn(t,h,s)):T&Us?(Jn(f,_),g.clip(B),jn(t,h,s)):T&Tn&&(g.save(),g.clip(B),V&&g.clip(V),Jn(f,_),g.restore(),jn(t,h,s)):(Jn(f,_),jn(t,h,s)),(M||G||B)&&g.restore()}function jn(t,s,r){r>0&&(s instanceof Map?s.forEach((a,f)=>{g.strokeStyle=Ae=f,g.stroke(a)}):s!=null&&t&&g.stroke(s))}function Jn(t,s){s instanceof Map?s.forEach((r,a)=>{g.fillStyle=Xe=a,g.fill(r)}):s!=null&&t&&g.fill(s)}function cr(t,s,r,a){let f=W[t],h;if(a<=0)h=[0,0];else{let _=f._space=f.space(n,t,s,r,a),T=f._incrs=f.incrs(n,t,s,r,a,_);h=Fu(s,r,T,a,_)}return f._found=h}function ws(t,s,r,a,f,h,_,T,M,G){let V=_%2/2;N==1&&g.translate(V,V),De(T,_,M,G,T),g.beginPath();let B,ce,Me,ye,ve=f+(a==0||a==3?-h:h);r==0?(ce=f,ye=ve):(B=f,Me=ve);for(let ne=0;ne<t.length;ne++)s[ne]!=null&&(r==0?B=Me=t[ne]:ce=ye=t[ne],g.moveTo(B,ce),g.lineTo(Me,ye));g.stroke(),N==1&&g.translate(-V,-V)}function fr(t){let s=!0;return W.forEach((r,a)=>{if(!r.show)return;let f=C[r.scale];if(f.min==null){r._show&&(s=!1,r._show=!1,un(!1));return}else r._show||(s=!1,r._show=!0,un(!1));let h=r.side,_=h%2,{min:T,max:M}=f,[G,V]=cr(a,T,M,_==0?le:F);if(V==0)return;let B=f.distr==2,ce=r._splits=r.splits(n,a,T,M,G,V,B),Me=f.distr==2?ce.map(Z=>L[Z]):ce,ye=f.distr==2?L[ce[1]]-L[ce[0]]:G,ve=r._values=r.values(n,r.filter(n,Me,a,V,ye),a,V,ye);r._rotate=h==2?r.rotate(n,ve,a,V):0;let ne=r._size;r._size=ml(r.size(n,ve,a,t)),ne!=null&&r._size!=ne&&(s=!1)}),s}function pr(t){let s=!0;return Ml.forEach((r,a)=>{let f=r(n,a,xt,t);f!=y[a]&&(s=!1),y[a]=f}),s}function dr(){for(let t=0;t<W.length;t++){let s=W[t];if(!s.show||!s._show)continue;let r=s.side,a=r%2,f,h,_=s.stroke(n,t),T=r==0||r==3?-1:1,[M,G]=s._found;if(s.label!=null){let zt=s.labelGap*T,sl=ct((s._lpos+zt)*Ce);kt(s.labelFont[0],_,"center",r==2?In:Ri),g.save(),a==1?(f=h=0,g.translate(sl,ct(St+rt/2)),g.rotate((r==3?-is:is)/2)):(f=ct(ot+mt/2),h=sl);let Xl=Ao(s.label)?s.label(n,t,M,G):s.label;g.fillText(Xl,f,h),g.restore()}if(G==0)continue;let V=C[s.scale],B=a==0?mt:rt,ce=a==0?ot:St,Me=s._splits,ye=V.distr==2?Me.map(zt=>L[zt]):Me,ve=V.distr==2?L[Me[1]]-L[Me[0]]:M,ne=s.ticks,Z=s.border,Ye=ne.show?ne.size:0,Qe=ct(Ye*Ce),_t=ct((s.alignTo==2?s._size-Ye-s.gap:s.gap)*Ce),Oe=s._rotate*-is/180,$e=J(s._pos*Ce),ll=(Qe+_t)*T,Gt=$e+ll;h=a==0?Gt:0,f=a==1?Gt:0;let pl=s.font[0],_l=s.align==1?wn:s.align==2?Ds:Oe>0?wn:Oe<0?Ds:a==0?"center":r==3?Ds:wn,Ll=Oe||a==1?"middle":r==2?In:Ri;kt(pl,_,_l,Ll);let nl=s.font[1]*s.lineGap,dl=Me.map(zt=>J(p(zt,V,B,ce))),bl=s._values;for(let zt=0;zt<bl.length;zt++){let sl=bl[zt];if(sl!=null){a==0?f=dl[zt]:h=dl[zt],sl=""+sl;let Xl=sl.indexOf(`
`)==-1?[sl]:sl.split(/\n/gm);for(let It=0;It<Xl.length;It++){let Mi=Xl[It];Oe?(g.save(),g.translate(f,h+It*nl),g.rotate(Oe),g.fillText(Mi,0,0),g.restore()):g.fillText(Mi,f,h+It*nl)}}}ne.show&&ws(dl,ne.filter(n,ye,t,G,ve),a,r,$e,Qe,ze(ne.width*Ce,3),ne.stroke(n,t),ne.dash,ne.cap);let Rl=s.grid;Rl.show&&ws(dl,Rl.filter(n,ye,t,G,ve),a,a==0?2:1,a==0?St:ot,a==0?rt:mt,ze(Rl.width*Ce,3),Rl.stroke(n,t),Rl.dash,Rl.cap),Z.show&&ws([$e],[1],a==0?1:0,a==0?1:2,a==1?St:ot,a==1?rt:mt,ze(Z.width*Ce,3),Z.stroke(n,t),Z.dash,Z.cap)}wt("drawAxes")}function un(t){S.forEach((s,r)=>{r>0&&(s._paths=null,t&&(o==1?(s.min=null,s.max=null):s.facets.forEach(a=>{a.min=null,a.max=null})))})}let Zn=!1,_s=!1,Rn=[];function hr(){_s=!1;for(let t=0;t<Rn.length;t++)wt(...Rn[t]);Rn.length=0}function cn(){Zn||(Aa(ci),Zn=!0)}function mr(t,s=!1){Zn=!0,_s=s,t(n),ci(),s&&Rn.length>0&&queueMicrotask(hr)}n.batch=mr;function ci(){if(kl&&(Ol(),kl=!1),$t&&(cl(),$t=!1),Tl){if(Ue(H,wn,Se),Ue(H,In,Pe),Ue(H,Bn,le),Ue(H,Wn,F),Ue(E,wn,Se),Ue(E,In,Pe),Ue(E,Bn,le),Ue(E,Wn,F),Ue(v,Bn,Yt),Ue(v,Wn,al),x.width=ct(Yt*Ce),x.height=ct(al*Ce),W.forEach(({_el:t,_show:s,_size:r,_pos:a,side:f})=>{if(t!=null)if(s){let h=f===3||f===0?r:0,_=f%2==1;Ue(t,_?"left":"top",a-h),Ue(t,_?"width":"height",r),Ue(t,_?"top":"left",_?Pe:Se),Ue(t,_?"height":"width",_?F:le),Vs(t,nn)}else il(t,nn)}),Ae=Xe=At=Ft=Mt=Ot=fl=yt=Jt=null,_e=1,On(!0),Se!=ul||Pe!=vl||le!=Lt||F!=Qt){un(!1);let t=le/Lt,s=F/Qt;if(Je&&!Ut&&Y.left>=0){Y.left*=t,Y.top*=s,fn&&Pl(fn,ct(Y.left),0,le,F),pn&&Pl(pn,0,ct(Y.top),le,F);for(let r=0;r<Ee.length;r++){let a=Ee[r];a!=null&&(ut[r]*=t,Kt[r]*=s,Pl(a,ml(ut[r]),ml(Kt[r]),le,F))}}if(We.show&&!qt&&We.left>=0&&We.width>0){We.left*=t,We.width*=t,We.top*=s,We.height*=s;for(let r in Ts)Ue(mn,r,We[r])}ul=Se,vl=Pe,Lt=le,Qt=F}wt("setSize"),Tl=!1}Yt>0&&al>0&&(g.clearRect(0,0,x.width,x.height),wt("drawClear"),ie.forEach(t=>t()),wt("draw")),We.show&&qt&&(Qn(We),qt=!1),Je&&Ut&&($l(null,!0,!1),Ut=!1),ae.show&&ae.live&&at&&(ys(),at=!1),d||(d=!0,n.status=1,wt("ready")),k=!1,Zn=!1}n.redraw=(t,s)=>{$t=s||!1,t!==!1?Ul(O,b.min,b.max):cn()};function bs(t,s){let r=C[t];if(r.from==null){if(A==0){let a=r.range(n,s.min,s.max,t);s.min=a[0],s.max=a[1]}if(s.min>s.max){let a=s.min;s.min=s.max,s.max=a}if(A>1&&s.min!=null&&s.max!=null&&s.max-s.min<1e-16)return;t==O&&r.distr==2&&A>0&&(s.min=xl(s.min,l[0]),s.max=xl(s.max,l[0]),s.min==s.max&&s.max++),P[t]=s,kl=!0,cn()}}n.setScale=bs;let Ss,xs,fn,pn,fi,pi,dn,hn,di,hi,Be,qe,Yl=!1;const Tt=Y.drag;let gt=Tt.x,vt=Tt.y;Je&&(Y.x&&(Ss=hl(Qr,E)),Y.y&&(xs=hl($r,E)),b.ori==0?(fn=Ss,pn=xs):(fn=xs,pn=Ss),Be=Y.left,qe=Y.top);const We=n.select=nt({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),mn=We.show?hl(Zr,We.over?E:H):null;function Qn(t,s){if(We.show){for(let r in t)We[r]=t[r],r in Ts&&Ue(mn,r,t[r]);s!==!1&&wt("setSelect")}}n.setSelect=Qn;function gr(t){if(S[t].show)Re&&Vs(be[t],nn);else if(Re&&il(be[t],nn),Je){let r=Ze?Ee[0]:Ee[t];r!=null&&Pl(r,-10,-10,le,F)}}function Ul(t,s,r){bs(t,{min:s,max:r})}function Cl(t,s,r,a){s.focus!=null&&Sr(t),s.show!=null&&S.forEach((f,h)=>{h>0&&(t==h||t==null)&&(f.show=s.show,gr(h),o==2?(Ul(f.facets[0].scale,null,null),Ul(f.facets[1].scale,null,null)):Ul(f.scale,null,null),cn())}),r!==!1&&wt("setSeries",t,s),a&&Nn("setSeries",n,t,s)}n.setSeries=Cl;function vr(t,s){nt(se[t],s)}function wr(t,s){t.fill=we(t.fill||null),t.dir=ke(t.dir,-1),s=s??se.length,se.splice(s,0,t)}function _r(t){t==null?se.length=0:se.splice(t,1)}n.addBand=wr,n.setBand=vr,n.delBand=_r;function br(t,s){S[t].alpha=s,Je&&Ee[t]!=null&&(Ee[t].style.opacity=s),Re&&be[t]&&(be[t].style.opacity=s)}let Nl,ql,Ql;const gn={focus:!0};function Sr(t){if(t!=Ql){let s=t==null,r=Rt.alpha!=1;S.forEach((a,f)=>{if(o==1||f>0){let h=s||f==0||f==t;a._focus=s?null:h,r&&br(f,h?1:Rt.alpha)}}),Ql=t,r&&cn()}}Re&&Al&&Ne(Ni,ue,t=>{Y._lock||(Xt(t),Ql!=null&&Cl(null,gn,!0,lt.setSeries))});function Dl(t,s,r){let a=C[s];r&&(t=t/Ce-(a.ori==1?Pe:Se));let f=le;a.ori==1&&(f=F,t=f-t),a.dir==-1&&(t=f-t);let h=a._min,_=a._max,T=t/f,M=h+(_-h)*T,G=a.distr;return G==3?xn(10,M):G==4?ma(M,a.asinh):G==100?a.bwd(M):M}function xr(t,s){let r=Dl(t,O,s);return xl(r,l[0],R,D)}n.valToIdx=t=>xl(t,l[0]),n.posToIdx=xr,n.posToVal=Dl,n.valToPos=(t,s,r)=>C[s].ori==0?c(t,C[s],r?mt:le,r?ot:0):u(t,C[s],r?rt:F,r?St:0),n.setCursor=(t,s,r)=>{Be=t.left,qe=t.top,$l(null,s,r)};function mi(t,s){Ue(mn,wn,We.left=t),Ue(mn,Bn,We.width=s)}function gi(t,s){Ue(mn,In,We.top=t),Ue(mn,Wn,We.height=s)}let Pn=b.ori==0?mi:gi,Fn=b.ori==1?mi:gi;function yr(){if(Re&&ae.live)for(let t=o==2?1:0;t<S.length;t++){if(t==0&&tt)continue;let s=ae.values[t],r=0;for(let a in s)st[t][r++].firstChild.nodeValue=s[a]}}function ys(t,s){if(t!=null&&(t.idxs?t.idxs.forEach((r,a)=>{fe[a]=r}):_a(t.idx)||fe.fill(t.idx),ae.idx=fe[0]),Re&&ae.live){for(let r=0;r<S.length;r++)(r>0||o==1&&!tt)&&kr(r,fe[r]);yr()}at=!1,s!==!1&&wt("setLegend")}n.setLegend=ys;function kr(t,s){let r=S[t],a=t==0&&U==2?L:l[t],f;tt?f=r.values(n,t,s)??it:(f=r.value(n,s==null?null:a[s],t,s),f=f==null?it:{_:f}),ae.values[t]=f}function $l(t,s,r){di=Be,hi=qe,[Be,qe]=Y.move(n,Be,qe),Y.left=Be,Y.top=qe,Je&&(fn&&Pl(fn,ct(Be),0,le,F),pn&&Pl(pn,0,ct(qe),le,F));let a,f=R>D;Nl=Ge,ql=null;let h=b.ori==0?le:F,_=b.ori==1?le:F;if(Be<0||A==0||f){a=Y.idx=null;for(let T=0;T<S.length;T++){let M=Ee[T];M!=null&&Pl(M,-10,-10,le,F)}Al&&Cl(null,gn,!0,t==null&&lt.setSeries),ae.live&&(fe.fill(a),at=!0)}else{let T,M,G;o==1&&(T=b.ori==0?Be:qe,M=Dl(T,O),a=Y.idx=xl(M,l[0],R,D),G=z(l[0][a],b,h,0));let V=-10,B=-10,ce=0,Me=0,ye=!0,ve="",ne="";for(let Z=o==2?1:0;Z<S.length;Z++){let Ye=S[Z],Qe=fe[Z],_t=Qe==null?null:o==1?l[Z][Qe]:l[Z][1][Qe],Oe=Y.dataIdx(n,Z,a,M),$e=Oe==null?null:o==1?l[Z][Oe]:l[Z][1][Oe];if(at=at||$e!=_t||Oe!=Qe,fe[Z]=Oe,Z>0&&Ye.show){let ll=Oe==null?-10:Oe==a?G:z(o==1?l[0][Oe]:l[Z][0][Oe],b,h,0),Gt=$e==null?-10:q($e,o==1?C[Ye.scale]:C[Ye.facets[1].scale],_,0);if(Al&&$e!=null){let pl=b.ori==1?Be:qe,_l=pt(Rt.dist(n,Z,Oe,Gt,pl));if(_l<Nl){let Ll=Rt.bias;if(Ll!=0){let nl=Dl(pl,Ye.scale),dl=$e>=0?1:-1,bl=nl>=0?1:-1;bl==dl&&(bl==1?Ll==1?$e>=nl:$e<=nl:Ll==1?$e<=nl:$e>=nl)&&(Nl=_l,ql=Z)}else Nl=_l,ql=Z}}if(at||Ze){let pl,_l;b.ori==0?(pl=ll,_l=Gt):(pl=Gt,_l=ll);let Ll,nl,dl,bl,Rl,zt,sl=!0,Xl=He.bbox;if(Xl!=null){sl=!1;let It=Xl(n,Z);dl=It.left,bl=It.top,Ll=It.width,nl=It.height}else dl=pl,bl=_l,Ll=nl=He.size(n,Z);if(zt=He.fill(n,Z),Rl=He.stroke(n,Z),Ze)Z==ql&&Nl<=Rt.prox&&(V=dl,B=bl,ce=Ll,Me=nl,ye=sl,ve=zt,ne=Rl);else{let It=Ee[Z];It!=null&&(ut[Z]=dl,Kt[Z]=bl,Wi(It,Ll,nl,sl),Hi(It,zt,Rl),Pl(It,ml(dl),ml(bl),le,F))}}}}if(Ze){let Z=Rt.prox,Ye=Ql==null?Nl<=Z:Nl>Z||ql!=Ql;if(at||Ye){let Qe=Ee[0];Qe!=null&&(ut[0]=V,Kt[0]=B,Wi(Qe,ce,Me,ye),Hi(Qe,ve,ne),Pl(Qe,ml(V),ml(B),le,F))}}}if(We.show&&Yl)if(t!=null){let[T,M]=lt.scales,[G,V]=lt.match,[B,ce]=t.cursor.sync.scales,Me=t.cursor.drag;if(gt=Me._x,vt=Me._y,gt||vt){let{left:ye,top:ve,width:ne,height:Z}=t.select,Ye=t.scales[B].ori,Qe=t.posToVal,_t,Oe,$e,ll,Gt,pl=T!=null&&G(T,B),_l=M!=null&&V(M,ce);pl&&gt?(Ye==0?(_t=ye,Oe=ne):(_t=ve,Oe=Z),$e=C[T],ll=z(Qe(_t,B),$e,h,0),Gt=z(Qe(_t+Oe,B),$e,h,0),Pn(yl(ll,Gt),pt(Gt-ll))):Pn(0,h),_l&&vt?(Ye==1?(_t=ye,Oe=ne):(_t=ve,Oe=Z),$e=C[M],ll=q(Qe(_t,ce),$e,_,0),Gt=q(Qe(_t+Oe,ce),$e,_,0),Fn(yl(ll,Gt),pt(Gt-ll))):Fn(0,_)}else Es()}else{let T=pt(di-fi),M=pt(hi-pi);if(b.ori==1){let ce=T;T=M,M=ce}gt=Tt.x&&T>=Tt.dist,vt=Tt.y&&M>=Tt.dist;let G=Tt.uni;G!=null?gt&&vt&&(gt=T>=G,vt=M>=G,!gt&&!vt&&(M>T?vt=!0:gt=!0)):Tt.x&&Tt.y&&(gt||vt)&&(gt=vt=!0);let V,B;gt&&(b.ori==0?(V=dn,B=Be):(V=hn,B=qe),Pn(yl(V,B),pt(B-V)),vt||Fn(0,_)),vt&&(b.ori==1?(V=dn,B=Be):(V=hn,B=qe),Fn(yl(V,B),pt(B-V)),gt||Pn(0,h)),!gt&&!vt&&(Pn(0,0),Fn(0,0))}if(Tt._x=gt,Tt._y=vt,t==null){if(r){if(Ai!=null){let[T,M]=lt.scales;lt.values[0]=T!=null?Dl(b.ori==0?Be:qe,T):null,lt.values[1]=M!=null?Dl(b.ori==1?Be:qe,M):null}Nn(Ls,n,Be,qe,le,F,a)}if(Al){let T=r&&lt.setSeries,M=Rt.prox;Ql==null?Nl<=M&&Cl(ql,gn,!0,T):Nl>M?Cl(null,gn,!0,T):ql!=Ql&&Cl(ql,gn,!0,T)}}at&&(ae.idx=a,ys()),s!==!1&&wt("setCursor")}let Kl=null;Object.defineProperty(n,"rect",{get(){return Kl==null&&On(!1),Kl}});function On(t=!1){t?Kl=null:(Kl=E.getBoundingClientRect(),wt("syncRect",Kl))}function vi(t,s,r,a,f,h,_){Y._lock||Yl&&t!=null&&t.movementX==0&&t.movementY==0||(ks(t,s,r,a,f,h,_,!1,t!=null),t!=null?$l(null,!0,!0):$l(s,!0,!1))}function ks(t,s,r,a,f,h,_,T,M){if(Kl==null&&On(!1),Xt(t),t!=null)r=t.clientX-Kl.left,a=t.clientY-Kl.top;else{if(r<0||a<0){Be=-10,qe=-10;return}let[G,V]=lt.scales,B=s.cursor.sync,[ce,Me]=B.values,[ye,ve]=B.scales,[ne,Z]=lt.match,Ye=s.axes[0].side%2==1,Qe=b.ori==0?le:F,_t=b.ori==1?le:F,Oe=Ye?h:f,$e=Ye?f:h,ll=Ye?a:r,Gt=Ye?r:a;if(ye!=null?r=ne(G,ye)?p(ce,C[G],Qe,0):-10:r=Qe*(ll/Oe),ve!=null?a=Z(V,ve)?p(Me,C[V],_t,0):-10:a=_t*(Gt/$e),b.ori==1){let pl=r;r=a,a=pl}}M&&(s==null||s.cursor.event.type==Ls)&&((r<=1||r>=le-1)&&(r=en(r,le)),(a<=1||a>=F-1)&&(a=en(a,F))),T?(fi=r,pi=a,[dn,hn]=Y.move(n,r,a)):(Be=r,qe=a)}const Ts={width:0,height:0,left:0,top:0};function Es(){Qn(Ts,!1)}let wi,_i,bi,Si;function xi(t,s,r,a,f,h,_){Yl=!0,gt=vt=Tt._x=Tt._y=!1,ks(t,s,r,a,f,h,_,!0,!1),t!=null&&(Ne(Rs,zs,yi,!1),Nn(Fi,n,dn,hn,le,F,null));let{left:T,top:M,width:G,height:V}=We;wi=T,_i=M,bi=G,Si=V}function yi(t,s,r,a,f,h,_){Yl=Tt._x=Tt._y=!1,ks(t,s,r,a,f,h,_,!1,!0);let{left:T,top:M,width:G,height:V}=We,B=G>0||V>0,ce=wi!=T||_i!=M||bi!=G||Si!=V;if(B&&ce&&Qn(We),Tt.setScale&&B&&ce){let Me=T,ye=G,ve=M,ne=V;if(b.ori==1&&(Me=M,ye=V,ve=T,ne=G),gt&&Ul(O,Dl(Me,O),Dl(Me+ye,O)),vt)for(let Z in C){let Ye=C[Z];Z!=O&&Ye.from==null&&Ye.min!=Ge&&Ul(Z,Dl(ve+ne,Z),Dl(ve,Z))}Es()}else Y.lock&&(Y._lock=!Y._lock,$l(s,!0,t!=null));t!=null&&(Wt(Rs,zs),Nn(Rs,n,Be,qe,le,F,null))}function Tr(t,s,r,a,f,h,_){if(Y._lock)return;Xt(t);let T=Yl;if(Yl){let M=!0,G=!0,V=10,B,ce;b.ori==0?(B=gt,ce=vt):(B=vt,ce=gt),B&&ce&&(M=Be<=V||Be>=le-V,G=qe<=V||qe>=F-V),B&&M&&(Be=Be<dn?0:le),ce&&G&&(qe=qe<hn?0:F),$l(null,!0,!0),Yl=!1}Be=-10,qe=-10,fe.fill(null),$l(null,!0,!0),T&&(Yl=T)}function ki(t,s,r,a,f,h,_){Y._lock||(Xt(t),xe(),Es(),t!=null&&Nn(Gi,n,Be,qe,le,F,null))}function Ti(){W.forEach(Ou),Bl(n.width,n.height,!0)}sn(os,Sn,Ti);const vn={};vn.mousedown=xi,vn.mousemove=vi,vn.mouseup=yi,vn.dblclick=ki,vn.setSeries=(t,s,r,a)=>{let f=lt.match[2];r=f(n,s,r),r!=-1&&Cl(r,a,!0,!1)},Je&&(Ne(Fi,E,xi),Ne(Ls,E,vi),Ne(Oi,E,t=>{Xt(t),On(!1)}),Ne(Ni,E,Tr),Ne(Gi,E,ki),qs.add(n),n.syncRect=On);const $n=n.hooks=e.hooks||{};function wt(t,s,r){_s?Rn.push([t,s,r]):t in $n&&$n[t].forEach(a=>{a.call(null,n,s,r)})}(e.plugins||[]).forEach(t=>{for(let s in t.hooks)$n[s]=($n[s]||[]).concat(t.hooks[s])});const Ei=(t,s,r)=>r,lt=nt({key:null,setSeries:!1,filters:{pub:ji,sub:ji},scales:[O,S[1]?S[1].scale:null],match:[Ji,Ji,Ei],values:[null,null]},Y.sync);lt.match.length==2&&lt.match.push(Ei),Y.sync=lt;const Ai=lt.key,As=Qo(Ai);function Nn(t,s,r,a,f,h,_){lt.filters.pub(t,s,r,a,f,h,_)&&As.pub(t,s,r,a,f,h,_)}As.sub(n);function Er(t,s,r,a,f,h,_){lt.filters.sub(t,s,r,a,f,h,_)&&vn[t](null,s,r,a,f,h,_)}n.pub=Er;function Ar(){As.unsub(n),qs.delete(n),Bt.clear(),Hs(os,Sn,Ti),m.remove(),ue?.remove(),wt("destroy")}n.destroy=Ar;function Ms(){wt("init",e,l),j(l||e.data,!1),P[O]?bs(O,P[O]):xe(),qt=We.show&&(We.width>0||We.height>0),Ut=at=!0,Bl(e.width,e.height)}return S.forEach(Et),W.forEach(Fl),i?i instanceof HTMLElement?(i.appendChild(m),Ms()):i(n,Ms):Ms(),n}et.assign=nt;et.fmtNum=Xs;et.rangeNum=rs;et.rangeLog=cs;et.rangeAsinh=Qs;et.orient=rn;et.pxRatio=Ce;et.join=Ea;et.fmtDate=ti,et.tzDate=Ga;et.sync=Qo;{et.addGap=_u,et.clipGaps=ds;let e=et.paths={points:nr};e.linear=ir,e.stepped=xu,e.bars=yu,e.spline=Tu}var Nu=Ct('<input type="text" class="og-input svelte-3wi8ix" placeholder="1.050" maxlength="5"/>'),Gu=Ct('<span class="estimated-badge svelte-3wi8ix">est</span>'),zu=Ct('<button type="button" class="og-btn svelte-3wi8ix"><span> </span> <!> <svg class="edit-icon svelte-3wi8ix" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg></button>'),Iu=Ct('<span class="estimated-badge svelte-3wi8ix">est</span>'),Vu=Ct("<span> </span> <!>",1),Hu=Ct('<div class="stat-pill prediction-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">ETA</span> <span class="stat-value prediction svelte-3wi8ix"> </span> <span class="prediction-badge svelte-3wi8ix">pred</span></div>'),Bu=Ct('<div class="stats-panel svelte-3wi8ix"><div class="stats-grid svelte-3wi8ix"><div class="stats-column svelte-3wi8ix"><h4 class="stats-header svelte-3wi8ix"> </h4> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Current</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Start</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">High</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Low</span> <span class="stat-value svelte-3wi8ix"> </span></div></div> <div class="stats-column svelte-3wi8ix"><h4 class="stats-header svelte-3wi8ix">Temperature</h4> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Current</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Average</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">High</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Low</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div></div></div> <div class="stats-bottom svelte-3wi8ix"><div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Rate</span> <span> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Duration</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">At SG</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill og-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">OG</span> <!></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Atten.</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">ABV</span> <span class="stat-value svelte-3wi8ix"> </span></div> <!></div></div>'),Wu=Ct('<div class="stats-empty svelte-3wi8ix"><span>Not enough data for statistics</span></div>');function Yu(e,l){_o(l,!0);const i=.5,n=1.2,o=0,c=100;function u(b,U){const z=[...b].sort((I,Ie)=>I-Ie),q=U/100*(z.length-1),P=Math.floor(q),te=Math.ceil(q);return P===te?z[P]:z[P]+(z[te]-z[P])*(q-P)}let p=ns(l,"trend",3,null),d=je(!1),m=je(""),x=je(null),g=zl(()=>ss.config.temp_units==="C"),v=zl(Ir),H=zl(xo),E=zl(()=>{if(l.readings.length===0)return null;const b=l.readings.filter(ge=>ge.status!=="invalid");if(b.length===0)return null;const U=[...b].sort((ge,bt)=>new Date(ge.timestamp).getTime()-new Date(bt.timestamp).getTime()),z=U[0],q=U[U.length-1],P=U.map(ge=>ge.sg_calibrated??ge.sg_raw).filter(ge=>ge!==null&&ge>=i&&ge<=n),te=U.map(ge=>ge.temp_calibrated??ge.temp_raw).filter(ge=>ge!==null&&ge>=o&&ge<=c);if(P.length===0)return null;const I=P[P.length-1],Ie=P[0],Te=u(P,95),de=u(P,5),fe=new Date(z.timestamp).getTime(),ae=new Date(q.timestamp).getTime(),Re=(ae-fe)/(1e3*60*60*24),Je=Re>0?(I-Ie)/Re:0;let me=null,ue=null,Ve=null,Fe=null;if(te.length>0){const ge=te[te.length-1],bt=te.reduce((Ne,Wt)=>Ne+Wt,0)/te.length,Dt=u(te,95),Bt=u(te,5);me=w(g)?ge:ge*9/5+32,ue=w(g)?bt:bt*9/5+32,Ve=w(g)?Dt:Dt*9/5+32,Fe=w(g)?Bt:Bt*9/5+32}let be=0;const st=.001;for(let ge=P.length-2;ge>=0;ge--)if(Math.abs(P[ge]-I)>st){const bt=new Date(U[ge+1].timestamp).getTime();be=(ae-bt)/(1e3*60*60*24);break}let ht=null,tt=null;const it=l.originalGravity??Te,Ht=l.originalGravity===null;return it>1&&it>I&&(ht=(it-I)/(it-1)*100,tt=(it-I)*131.25),{currentSg:I,firstSg:Ie,highSg:Te,lowSg:de,currentTemp:me,avgTemp:ue,highTemp:Ve,lowTemp:Fe,fermRate:Je,durationDays:Re,daysAtCurrentSg:be,apparentAttenuation:ht,abv:tt,ogIsEstimated:Ht,effectiveOg:it}});function N(){he(m,l.originalGravity?.toFixed(3)??"",!0),he(d,!0),setTimeout(()=>w(x)?.focus(),0)}function J(){const b=w(m).trim();if(!b)l.onOgChange?.(null);else{const U=parseFloat(b);!isNaN(U)&&U>=.99&&U<=1.2&&l.onOgChange?.(U)}he(d,!1)}function $(b){b.key==="Enter"?J():b.key==="Escape"&&he(d,!1)}function S(b){return Hn(b)}function W(b){return`${b>=0?"+":""}${b.toFixed(4)}`}function C(b){return b<1?`${(b*24).toFixed(1)}h`:`${b.toFixed(1)}d`}function se(b){return b===null?"--":b.toFixed(1)}function O(b){return b===null?"--":`${b.toFixed(1)}%`}var re=Gs(),ie=ls(re);{var pe=b=>{var U=Bu(),z=Q(U),q=Q(z),P=Q(q),te=Q(P,!0);K(P);var I=ee(P,2),Ie=ee(Q(I),2),Te=Q(Ie,!0);K(Ie),K(I);var de=ee(I,2),fe=ee(Q(de),2),ae=Q(fe,!0);K(fe),K(de);var Y=ee(de,2),Re=ee(Q(Y),2),Je=Q(Re,!0);K(Re),K(Y);var me=ee(Y,2),ue=ee(Q(me),2),Ve=Q(ue,!0);K(ue),K(me),K(q);var Fe=ee(q,2),be=ee(Q(Fe),2),st=ee(Q(be),2),ht=Q(st,!0),tt=ee(ht),it=Q(tt,!0);K(tt),K(st),K(be);var Ht=ee(be,2),ge=ee(Q(Ht),2),bt=Q(ge,!0),Dt=ee(bt),Bt=Q(Dt,!0);K(Dt),K(ge),K(Ht);var Ne=ee(Ht,2),Wt=ee(Q(Ne),2),Yt=Q(Wt,!0),al=ee(Yt),le=Q(al,!0);K(al),K(Wt),K(Ne);var F=ee(Ne,2),Se=ee(Q(F),2),Pe=Q(Se,!0),ul=ee(Pe),vl=Q(ul,!0);K(ul),K(Se),K(F),K(Fe),K(z);var Lt=ee(z,2),Qt=Q(Lt),ot=ee(Q(Qt),2);let St;var mt=Q(ot);K(ot),K(Qt);var rt=ee(Qt,2),kl=ee(Q(rt),2),Tl=Q(kl,!0);K(kl),K(rt);var $t=ee(rt,2),Ut=ee(Q($t),2),qt=Q(Ut,!0);K(Ut),K($t);var at=ee($t,2),Bl=ee(Q(at),2);{var Wl=Ze=>{var Ee=Nu();Lr(Ee),Ee.__keydown=$,So(Ee,ut=>he(x,ut),()=>w(x)),Mr("blur",Ee,J),Vr(Ee,()=>w(m),ut=>he(m,ut)),ft(Ze,Ee)},Cn=Ze=>{var Ee=Gs(),ut=ls(Ee);{var Kt=Et=>{var jt=zu();jt.__click=N;var Pt=Q(jt);let xt;var Fl=Q(Pt,!0);K(Pt);var tl=ee(Pt,2);{var Ml=y=>{var A=Gu();ft(y,A)};gl(tl,y=>{w(E).ogIsEstimated&&y(Ml)})}bn(2),K(jt),Il(y=>{ln(jt,"title",w(E).ogIsEstimated?"Estimated from high reading - click to set actual OG":"Click to edit Original Gravity"),xt=Gl(Pt,1,"stat-value svelte-3wi8ix",null,xt,{estimated:w(E).ogIsEstimated}),Ke(Fl,y)},[()=>S(w(E).effectiveOg)]),ft(Et,jt)},el=Et=>{var jt=Vu(),Pt=ls(jt);let xt;var Fl=Q(Pt,!0);K(Pt);var tl=ee(Pt,2);{var Ml=y=>{var A=Iu();ft(y,A)};gl(tl,y=>{w(E).ogIsEstimated&&y(Ml)})}Il(y=>{xt=Gl(Pt,1,"stat-value svelte-3wi8ix",null,xt,{estimated:w(E).ogIsEstimated}),Ke(Fl,y)},[()=>S(w(E).effectiveOg)]),ft(Et,jt)};gl(ut,Et=>{l.onOgChange?Et(Kt):Et(el,!1)},!0)}ft(Ze,Ee)};gl(Bl,Ze=>{l.onOgChange&&w(d)?Ze(Wl):Ze(Cn,!1)})}K(at);var cl=ee(at,2),Zl=ee(Q(cl),2),Dn=Q(Zl,!0);K(Zl),K(cl);var El=ee(cl,2),Xt=ee(Q(El),2),He=Q(Xt,!0);K(Xt),K(El);var Rt=ee(El,2);{var Al=Ze=>{var Ee=Hu(),ut=ee(Q(Ee),2),Kt=Q(ut,!0);K(ut),bn(2),K(Ee),Il((el,Et)=>{ln(Ee,"title",`Estimated time until target FG (R=${el??""})`),Ke(Kt,Et)},[()=>p().r2.toFixed(2),()=>C(p().daysToFg)]),ft(Ze,Ee)};gl(Rt,Ze=>{p()?.daysToFg!==null&&p()?.daysToFg!==void 0&&Ze(Al)})}K(Lt),K(U),Il((Ze,Ee,ut,Kt,el,Et,jt,Pt,xt,Fl,tl,Ml,y)=>{Ke(te,w(H)==="SG"?"Gravity":w(H)==="P"?"Plato":"Brix"),Ke(Te,Ze),Ke(ae,Ee),Ke(Je,ut),Ke(Ve,Kt),Ke(ht,el),Ke(it,w(v)),Ke(bt,Et),Ke(Bt,w(v)),Ke(Yt,jt),Ke(le,w(v)),Ke(Pe,Pt),Ke(vl,w(v)),St=Gl(ot,1,"stat-value rate svelte-3wi8ix",null,St,{fermenting:w(E).fermRate<0}),Ke(mt,`${xt??""}/day`),Ke(Tl,Fl),Ke(qt,tl),Ke(Dn,Ml),Ke(He,y)},[()=>S(w(E).currentSg),()=>S(w(E).firstSg),()=>S(w(E).highSg),()=>S(w(E).lowSg),()=>se(w(E).currentTemp),()=>se(w(E).avgTemp),()=>se(w(E).highTemp),()=>se(w(E).lowTemp),()=>W(w(E).fermRate),()=>C(w(E).durationDays),()=>C(w(E).daysAtCurrentSg),()=>O(w(E).apparentAttenuation),()=>O(w(E).abv)]),ft(b,U)},oe=b=>{var U=Wu();ft(b,U)};gl(ie,b=>{w(E)?b(pe):b(oe,!1)})}ft(e,re),bo()}wo(["keydown","click"]);var Uu=Ct('<button type="button"> </button>'),qu=Ct("<option> </option>"),Ku=Ct('<button type="button"><span class="legend-dot anomaly-dot svelte-12kwequ"></span> <span> </span></button>'),ju=Ct('<button type="button"><span class="legend-line legend-line-dotted svelte-12kwequ"></span> <span>Battery</span></button>'),Ju=Ct('<div class="loading-overlay svelte-12kwequ"><div class="loading-spinner svelte-12kwequ"></div></div>'),Zu=Ct('<div class="chart-error svelte-12kwequ"><span>Failed to load chart</span> <button type="button" class="retry-btn svelte-12kwequ">Retry</button></div>'),Qu=Ct('<div class="chart-empty svelte-12kwequ"><span>No historical data yet</span> <span class="text-xs opacity-60">Data will appear as readings are logged</span></div>'),$u=Ct('<div class="chart-wrapper svelte-12kwequ"><div class="chart-controls svelte-12kwequ"><div class="flex items-center gap-1.5"></div> <div class="controls-right svelte-12kwequ"><div class="refresh-control svelte-12kwequ"><label for="refreshInterval" class="svelte-12kwequ">Refresh</label> <select id="refreshInterval" class="refresh-select svelte-12kwequ"></select></div> <div class="chart-legend svelte-12kwequ"><span class="legend-item svelte-12kwequ"><span class="legend-dot svelte-12kwequ" style="background: var(--tilt-yellow);"></span> <span>SG</span></span> <span class="legend-item svelte-12kwequ"><span class="legend-line svelte-12kwequ"></span> <span>Wort</span></span> <button type="button"><span class="legend-line legend-line-dotted svelte-12kwequ"></span> <span>Ambient</span></button> <button type="button"><span class="legend-line legend-line-chamber svelte-12kwequ"></span> <span>Chamber</span></button> <button type="button"><span class="legend-line legend-line-dashed svelte-12kwequ"></span> <span>Trend</span></button> <!> <!></div></div></div> <div class="chart-container svelte-12kwequ"><!> <!></div> <!></div>');function pc(e,l){_o(l,!0);const i="brewsignal_chart_refresh_minutes",n=[{label:"Off",value:0},{label:"1 min",value:1},{label:"3 min",value:3},{label:"5 min",value:5},{label:"10 min",value:10}];let o=zl(()=>ss.config.smoothing_enabled),c=zl(()=>ss.config.smoothing_samples),u=je("UTC"),p=je(0),d=je(3),m=ns(l,"deviceColor",3,"BLACK"),x=ns(l,"originalGravity",3,null),g=ns(l,"controlEvents",19,()=>[]),v=zl(()=>ss.config.temp_units==="C"),H=zl(xo),E,N=null,J=je(!0),$=je(null),S=je(24),W=je(Gn([])),C=je(Gn([])),se=je(Gn([])),O=je(null),re=je(null),ie=je(!1);const pe={RED:"#f43f5e",GREEN:"#10b981",BLACK:"#6b7280",PURPLE:"#a78bfa",ORANGE:"#fb923c",BLUE:"#60a5fa",YELLOW:"#facc15",PINK:"#f472b6"},oe="#facc15",b="rgba(250, 204, 21, 0.3)",U="#71717a",z="#a1a1aa",q="rgba(255, 255, 255, 0.04)",P="#22d3ee",te="#a78bfa",I="rgba(250, 204, 21, 0.5)",Ie="#ef4444",Te="#22c55e",de="brewsignal_chart_trend_enabled";let fe=je(!0);const ae="brewsignal_chart_ambient_enabled",Y="brewsignal_chart_chamber_enabled",Re="brewsignal_chart_anomaly_enabled",Je="brewsignal_chart_battery_enabled";let me=je(!0),ue=je(!0),Ve=je(!0),Fe=je(!0),be=je(!1),st=je(Gn([])),ht=je(Gn([]));function tt(y,A,R=1.01){const D=[];for(let _e=0;_e<y.length;_e++)A[_e]!==null&&D.push([y[_e],A[_e]]);if(D.length<10)return null;const X=D.length;let L=0,k=0,j=0,xe=0;for(const[_e,De]of D)L+=_e,k+=De,j+=_e*De,xe+=_e*_e;const Ae=X*xe-L*L;if(Math.abs(Ae)<1e-10)return null;const Xe=(X*j-L*k)/Ae,At=(k-Xe*L)/X,Jt=k/X;let Ft=0,Mt=0;for(const[_e,De]of D){const kt=Xe*_e+At;Ft+=(De-kt)**2,Mt+=(De-Jt)**2}const Ot=Mt>0?1-Ft/Mt:0;let fl=null,yt=null;if(Xe<0&&Ot>.3){const _e=y[y.length-1],De=(R-At)/Xe;De>_e&&(yt=(De-_e)/(1440*60),yt>0&&yt<60?fl=R:yt=null)}return{slope:Xe,intercept:At,r2:Ot,predictedFg:fl,daysToFg:yt}}function it(y){const A=[];let R=null,D=null;for(const L of y){const k=Ne(L.timestamp);L.action==="heat_on"?R=k:L.action==="heat_off"&&R!==null?(A.push({type:"heating",startTime:R,endTime:k}),R=null):L.action==="cool_on"?D=k:L.action==="cool_off"&&D!==null&&(A.push({type:"cooling",startTime:D,endTime:k}),D=null)}const X=Date.now()/1e3;return R!==null&&A.push({type:"heating",startTime:R,endTime:X}),D!==null&&A.push({type:"cooling",startTime:D,endTime:X}),A}function Ht(y,A){return y.map(R=>A.slope*R+A.intercept)}function ge(y,A,R){const D=new Date(y*1e3);try{return R?D.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:A}):D.toLocaleDateString("en-AU",{month:"short",day:"numeric",timeZone:A})}catch(X){return console.warn("Invalid timezone:",A,X),R?D.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!1}):D.toLocaleDateString("en-AU",{month:"short",day:"numeric"})}}function bt(y,A,R){const D=oe,X=pe[m()]||z;return{width:y,height:220,padding:[16,12,0,0],cursor:{show:!0,x:!0,y:!0,drag:{x:!1,y:!1,setScale:!1}},legend:{show:!0,live:!0,markers:{show:!0,width:8,stroke:(L,k)=>L.series[k].stroke,fill:(L,k)=>L.series[k].stroke}},hooks:{setCursor:[L=>{const k=L.cursor.idx;if(k==null)return;const j=L.root.querySelector(".u-legend");j&&(j.style.cssText=`
							position: absolute;
							top: 12px;
							left: 12px;
							background: rgba(24, 24, 27, 0.95);
							border: 1px solid var(--border-default);
							border-radius: 0.5rem;
							padding: 0.75rem;
							font-family: 'JetBrains Mono', monospace;
							font-size: 0.6875rem;
							pointer-events: none;
							box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3);
							backdrop-filter: blur(8px);
						`)}]},scales:{x:{time:!0},sg:{auto:!0,range:(L,k,j)=>{const xe=(j-k)*.1||.005;return[k-xe,j+xe]}},temp:{auto:!0,range:(L,k,j)=>{const xe=j-k,Ae=10;if(xe<Ae){const At=(j+k)/2;return[At-Ae/2,At+Ae/2]}const Xe=xe*.1;return[k-Xe,j+Xe]}},battery:{auto:!1,range:[0,105]}},axes:[{stroke:U,grid:{stroke:q,width:1},ticks:{stroke:q,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(L,k)=>k.map(j=>ge(j,R,w(S)<=24))},{scale:"sg",stroke:D,grid:{stroke:q,width:1},ticks:{stroke:q,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(L,k)=>k.map(j=>Hn(j)),side:3},{scale:"temp",stroke:X,grid:{show:!1},ticks:{stroke:q,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(L,k)=>k.map(j=>j.toFixed(0)+""),side:1}],series:[{value:(L,k)=>ge(k,R,!1)+" "+ge(k,R,!0)},{label:w(H)==="SG"?"Gravity":w(H)==="P"?"Plato":"Brix",scale:"sg",stroke:D,width:2,value:(L,k)=>k!==null?Hn(k):"--",fill:(L,k)=>{const j=L.ctx.createLinearGradient(0,L.bbox.top,0,L.bbox.top+L.bbox.height);return j.addColorStop(0,b),j.addColorStop(1,"transparent"),j},points:{show:!1},paths:et.paths.spline?.()},{label:"Wort",scale:"temp",stroke:X,width:1.5,dash:[4,4],value:(L,k)=>k!==null?k.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.()},{label:"Ambient",scale:"temp",stroke:P,width:1.5,dash:[2,4],value:(L,k)=>k!==null?k.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(me)},{label:"Chamber",scale:"temp",stroke:te,width:1.5,dash:[4,2],value:(L,k)=>k!==null?k.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(ue)},{label:"Trend",scale:"sg",stroke:I,width:2,dash:[8,4],value:(L,k)=>k!==null?Hn(k):"--",points:{show:!1},show:w(fe)},{label:"Anomaly",scale:"sg",stroke:Ie,width:2,value:(L,k)=>k!==null?Hn(k)+" ":"--",points:{show:!0,size:10,fill:Ie,stroke:"#ffffff",width:2},paths:()=>null,show:w(Ve)},{label:"Battery",scale:"battery",stroke:Te,width:1.5,dash:[2,2],value:(L,k)=>k!==null?k.toFixed(0)+"%":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(Fe)}]}}function Dt(y,A){if(A<=1)return y;const R=[];for(let D=0;D<y.length;D++){const X=[],L=Math.floor(A/2);for(let k=Math.max(0,D-L);k<=Math.min(y.length-1,D+L);k++){const j=y[k];j!==null&&X.push(j)}X.length>0?R.push(X.reduce((k,j)=>k+j,0)/X.length):R.push(null)}return R}function Bt(y,A,R,D,X,L,k){if(y.length<=k)return[y,A,R,D,X,L];const j=Math.ceil(y.length/k),xe=[],Ae=[],Xe=[],At=[],Jt=[],Ft=[];for(let Mt=0;Mt<y.length;Mt+=j){const Ot=Math.min(Mt+j,y.length);let fl=0,yt=0,_e=0,De=0,kt=0,Zt=0,wl=0,Ol=0,an=0,Ln=0;for(let Nt=Mt;Nt<Ot;Nt++)A[Nt]!==null&&(fl+=A[Nt],yt++),R[Nt]!==null&&(_e+=R[Nt],De++),D[Nt]!==null&&(kt+=D[Nt],Zt++),X[Nt]!==null&&(wl+=X[Nt],Ol++),L[Nt]!==null&&(an+=L[Nt],Ln++);xe.push(y[Math.floor((Mt+Ot-1)/2)]),Ae.push(yt>0?fl/yt:null),Xe.push(De>0?_e/De:null),At.push(Zt>0?kt/Zt:null),Jt.push(Ol>0?wl/Ol:null),Ft.push(Ln>0?an/Ln:null)}return[xe,Ae,Xe,At,Jt,Ft]}function Ne(y){return!y.endsWith("Z")&&!y.match(/[+-]\d{2}:\d{2}$/)&&(y=y+"Z"),new Date(y).getTime()/1e3}function Wt(y,A,R){if(y.length===0||A.length===0)return A.map(()=>null);const D=[...y].sort((k,j)=>Ne(k.timestamp)-Ne(j.timestamp)),X=D.map(k=>Ne(k.timestamp)),L=D.map(k=>k.temperature===null?null:R?k.temperature:k.temperature*9/5+32);return A.map(k=>{let j=null,xe=null;for(let Ae=0;Ae<X.length;Ae++)if(X[Ae]<=k&&(j={time:X[Ae],temp:L[Ae]}),X[Ae]>=k&&xe===null){xe={time:X[Ae],temp:L[Ae]};break}if(j&&xe&&j.temp!==null&&xe.temp!==null){if(j.time===xe.time)return j.temp;const Ae=(k-j.time)/(xe.time-j.time);return j.temp+Ae*(xe.temp-j.temp)}return j!==null&&j.temp!==null?j.temp:xe!==null&&xe.temp!==null?xe.temp:null})}function Yt(y,A,R,D){const X=[...y].reverse();let L=[],k=[],j=[],xe=[],Ae=[];const Xe=[];let At=!1;for(const De of X){const kt=Ne(De.timestamp),Zt=De.sg_calibrated??De.sg_raw;if(L.push(kt),k.push(Zt),De.is_anomaly&&Zt!==null){Ae.push(Zt);let Ol=[];if(De.anomaly_reasons)try{Ol=JSON.parse(De.anomaly_reasons)}catch{Ol=De.anomaly_reasons.split(",").map(an=>an.trim())}Xe.push({timestamp:kt,sg:Zt,reasons:Ol})}else Ae.push(null);const wl=De.temp_calibrated??De.temp_raw;wl!==null?j.push(D?wl:wl*9/5+32):j.push(null),De.battery_percent!==null&&De.battery_percent!==void 0?(xe.push(De.battery_percent),At=!0):xe.push(null)}he(be,At,!0),he(st,Xe,!0);let Jt=Wt(A,L,D),Ft=Wt(R,L,D);w(o)&&w(c)>1&&(k=Dt(k,w(c)),j=Dt(j,w(c)),Jt=Dt(Jt,w(c)),Ft=Dt(Ft,w(c)));const Mt=500,Ot=[...L],fl=[...Ae];[L,k,j,Jt,Ft,xe]=Bt(L,k,j,Jt,Ft,xe,Mt),Ae=L.map(De=>{for(let kt=0;kt<Ot.length;kt++)if(fl[kt]!==null){const Zt=Math.abs(Ot[kt]-De),wl=(Ot[Ot.length-1]-Ot[0])/Mt;if(Zt<=wl)return fl[kt]}return null});const yt=tt(L,k);he(O,yt,!0);const _e=yt?Ht(L,yt):L.map(()=>null);return[L,k,j,Jt,Ft,_e,Ae,xe]}const al=3e4;async function le(y=!1){const R=Date.now()-w(p);if(!(!y&&w(p)>0&&R<al)){he(J,!0),he($,null);try{if(!w(re)){const D=await Or(l.batchId);he(re,D.device_id??null,!0),he(ie,["completed","conditioning","archived"].includes(D.status),!0),w(ie)&&w(S)!==0&&he(S,0)}if(w(re)){const D=w(S)>0?w(S):void 0,[X,L,k]=await Promise.all([Nr(w(re),D,l.batchId),Gr(D??720).catch(()=>[]),zr(D??720).catch(()=>[])]);he(W,X,!0),he(C,L,!0),he(se,k,!0),F()}else he(W,[],!0),he(C,[],!0),he(se,[],!0),he($,"No device assigned to this batch")}catch(D){he($,D instanceof Error?D.message:"Failed to load data",!0)}finally{he(p,Date.now(),!0),he(J,!1)}}}function F(){if(!E||w(W).length===0)return;const y=Yt(w(W),w(C),w(se),w(v)),A=bt(E.clientWidth,w(v),w(u));N&&N.destroy(),N=new et(A,y,E)}function Se(){N&&E&&N.setSize({width:E.clientWidth,height:220})}let Pe=null;function ul(){if(Pe&&(clearInterval(Pe),Pe=null),w(d)>0){const y=w(d)*60*1e3;Pe=setInterval(()=>{w(J)||le(!1)},y)}}Cr(async()=>{const y=localStorage.getItem(i);if(y!==null){const k=parseInt(y,10);Number.isNaN(k)||he(d,k,!0)}const A=localStorage.getItem(de);A!==null&&he(fe,A==="true");const R=localStorage.getItem(ae);R!==null&&he(me,R==="true");const D=localStorage.getItem(Y);D!==null&&he(ue,D==="true");const X=localStorage.getItem(Re);X!==null&&he(Ve,X==="true");const L=localStorage.getItem(Je);L!==null&&he(Fe,L==="true");try{const k=await fetch("/api/system/timezone");if(k.ok){const j=await k.json();he(u,j.timezone||"UTC",!0)}}catch{console.warn("Failed to fetch system timezone, using UTC")}await le(!0),window.addEventListener("resize",Se),ul()}),Dr(()=>{N?.destroy(),window.removeEventListener("resize",Se),Pe&&clearInterval(Pe)}),Cs(()=>{g()&&g().length>0?he(ht,it(g()),!0):he(ht,[],!0)}),Cs(()=>{w(v)!==void 0&&w(W).length>0&&E&&F()}),Cs(()=>{w(o),w(c),w(W).length>0&&E&&F()});function vl(y){const A=Number(y.target.value);he(d,A,!0),localStorage.setItem(i,String(A)),ul(),le(!0)}function Lt(){he(fe,!w(fe)),localStorage.setItem(de,String(w(fe))),N&&N.setSeries(5,{show:w(fe)})}function Qt(){he(me,!w(me)),localStorage.setItem(ae,String(w(me))),N&&N.setSeries(3,{show:w(me)})}function ot(){he(ue,!w(ue)),localStorage.setItem(Y,String(w(ue))),N&&N.setSeries(4,{show:w(ue)})}function St(){he(Ve,!w(Ve)),localStorage.setItem(Re,String(w(Ve))),N&&N.setSeries(6,{show:w(Ve)})}function mt(){he(Fe,!w(Fe)),localStorage.setItem(Je,String(w(Fe))),N&&N.setSeries(7,{show:w(Fe)})}var rt=$u(),kl=Q(rt),Tl=Q(kl);Ci(Tl,21,()=>Fr,Di,(y,A)=>{var R=Uu();let D;R.__click=()=>{w(S)!==w(A).hours&&(he(S,w(A).hours,!0),le(!0))};var X=Q(R,!0);K(R),Il(()=>{D=Gl(R,1,"range-btn svelte-12kwequ",null,D,{active:w(S)===w(A).hours}),Ke(X,w(A).label)}),ft(y,R)}),K(Tl);var $t=ee(Tl,2),Ut=Q($t),qt=ee(Q(Ut),2);qt.__change=vl,Ci(qt,21,()=>n,Di,(y,A)=>{var R=qu(),D=Q(R,!0);K(R);var X={};Il(()=>{Ke(D,w(A).label),X!==(X=w(A).value)&&(R.value=(R.__value=w(A).value)??"")}),ft(y,R)}),K(qt);var at;Rr(qt),K(Ut);var Bl=ee(Ut,2),Wl=ee(Q(Bl),2),Cn=Q(Wl);bn(2),K(Wl);var cl=ee(Wl,2);let Zl;cl.__click=Qt;var Dn=Q(cl);zn(Dn,"background: #22d3ee;"),bn(2),K(cl);var El=ee(cl,2);let Xt;El.__click=ot;var He=ee(El,2);let Rt;He.__click=Lt;var Al=Q(He);zn(Al,"background: rgba(250, 204, 21, 0.5);"),bn(2),K(He);var Ze=ee(He,2);{var Ee=y=>{var A=Ku();let R;A.__click=St;var D=Q(A);zn(D,"background: #ef4444;");var X=ee(D,2),L=Q(X);K(X),K(A),Il(()=>{R=Gl(A,1,"legend-item legend-toggle anomaly-toggle svelte-12kwequ",null,R,{"legend-disabled":!w(Ve)}),ln(A,"title",w(Ve)?"Hide anomaly markers":"Show anomaly markers"),Ke(L,`Anomalies (${w(st).length??""})`)}),ft(y,A)};gl(Ze,y=>{w(st).length>0&&y(Ee)})}var ut=ee(Ze,2);{var Kt=y=>{var A=ju();let R;A.__click=mt;var D=Q(A);zn(D,"background: #22c55e;"),bn(2),K(A),Il(()=>{R=Gl(A,1,"legend-item legend-toggle svelte-12kwequ",null,R,{"legend-disabled":!w(Fe)}),ln(A,"title",w(Fe)?"Hide battery level":"Show battery level")}),ft(y,A)};gl(ut,y=>{w(be)&&y(Kt)})}K(Bl),K($t),K(kl);var el=ee(kl,2),Et=Q(el);{var jt=y=>{var A=Ju();ft(y,A)};gl(Et,y=>{w(J)&&y(jt)})}var Pt=ee(Et,2);{var xt=y=>{var A=Zu(),R=ee(Q(A),2);R.__click=()=>le(!0),K(A),ft(y,A)},Fl=y=>{var A=Gs(),R=ls(A);{var D=X=>{var L=Qu();ft(X,L)};gl(R,X=>{w(W).length===0&&X(D)},!0)}ft(y,A)};gl(Pt,y=>{w($)?y(xt):y(Fl,!1)})}K(el),So(el,y=>E=y,()=>E);var tl=ee(el,2);{var Ml=y=>{{let A=zl(()=>w(O)?{predictedFg:w(O).predictedFg,daysToFg:w(O).daysToFg,r2:w(O).r2}:null);Yu(y,{get readings(){return w(W)},get originalGravity(){return x()},get trend(){return w(A)}})}};gl(tl,y=>{w(W).length>0&&y(Ml)})}K(rt),Il(()=>{at!==(at=w(d))&&(qt.value=(qt.__value=w(d))??"",Pr(qt,w(d))),zn(Cn,`background: ${(pe[m()]||"var(--text-secondary)")??""};`),Zl=Gl(cl,1,"legend-item legend-toggle svelte-12kwequ",null,Zl,{"legend-disabled":!w(me)}),ln(cl,"title",w(me)?"Hide ambient temp":"Show ambient temp"),Xt=Gl(El,1,"legend-item legend-toggle svelte-12kwequ",null,Xt,{"legend-disabled":!w(ue)}),ln(El,"title",w(ue)?"Hide chamber temp":"Show chamber temp"),Rt=Gl(He,1,"legend-item legend-toggle svelte-12kwequ",null,Rt,{"legend-disabled":!w(fe)}),ln(He,"title",w(fe)?"Hide trend line":"Show trend line")}),ft(e,rt),bo()}wo(["click","change"]);export{pc as F};
