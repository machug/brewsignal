import{d as wo,c as zs,a as dt,f as Lt,s as Ke,e as Mr}from"./CJmjvTrd.js";import{a as _o,f as ns,i as w,l as Il,h as bo,d as Z,j as K,g as ee,s as Je,t as Vl,c as he,n as nn,p as In,o as Cr,aJ as Dr,au as Ds}from"./Bt34JHv5.js";import{e as Ci,i as Di}from"./BdS3W2cr.js";import{i as vl}from"./DMJnaEfo.js";import{r as Lr,s as sn}from"./DPFjJc-R.js";import{s as zl}from"./F_XGNgUc.js";import{s as Sn}from"./DyZ30OTe.js";import{i as Rr,s as Pr}from"./DE7lyrTW.js";import{b as So}from"./CTUqcI2l.js";import{p as ss}from"./sjQSfnnq.js";import{T as Fr,P as Or,Q as Nr,R as Gr,S as zr}from"./CnrOGk3n.js";import{c as is,d as Bn,b as xo,g as Ir}from"./i5gcUk_J.js";import{b as Vr}from"./CfFIp_fJ.js";const Hr=!0,mt="u-",Br="uplot",Wr=mt+"hz",Yr=mt+"vt",Ur=mt+"title",qr=mt+"wrap",Kr=mt+"under",jr=mt+"over",Jr=mt+"axis",on=mt+"off",Zr=mt+"select",Qr=mt+"cursor-x",$r=mt+"cursor-y",Xr=mt+"cursor-pt",ea=mt+"legend",ta=mt+"live",la=mt+"inline",na=mt+"series",sa=mt+"marker",Li=mt+"label",ia=mt+"value",Wn="width",Yn="height",Vn="top",Ri="bottom",xn="left",Ls="right",Js="#000",Pi=Js+"0",Rs="mousemove",Fi="mousedown",Ps="mouseup",Oi="mouseenter",Ni="mouseleave",Gi="dblclick",oa="resize",ra="scroll",zi="change",rs="dppxchange",Zs="--",Cn=typeof window<"u",Is=Cn?document:null,kn=Cn?window:null,aa=Cn?navigator:null;let Me,es;function Vs(){let e=devicePixelRatio;Me!=e&&(Me=e,es&&Bs(zi,es,Vs),es=matchMedia(`(min-resolution: ${Me-.001}dppx) and (max-resolution: ${Me+.001}dppx)`),rn(zi,es,Vs),kn.dispatchEvent(new CustomEvent(rs)))}function il(e,l){if(l!=null){let i=e.classList;!i.contains(l)&&i.add(l)}}function Hs(e,l){let i=e.classList;i.contains(l)&&i.remove(l)}function Ye(e,l,i){e.style[l]=i+"px"}function xl(e,l,i,n){let o=Is.createElement(e);return l!=null&&il(o,l),i?.insertBefore(o,n),o}function ml(e,l){return xl("div",e,l)}const Ii=new WeakMap;function Fl(e,l,i,n,o){let c="translate("+l+"px,"+i+"px)",u=Ii.get(e);c!=u&&(e.style.transform=c,Ii.set(e,c),l<0||i<0||l>n||i>o?il(e,on):Hs(e,on))}const Vi=new WeakMap;function Hi(e,l,i){let n=l+i,o=Vi.get(e);n!=o&&(Vi.set(e,n),e.style.background=l,e.style.borderColor=i)}const Bi=new WeakMap;function Wi(e,l,i,n){let o=l+""+i,c=Bi.get(e);o!=c&&(Bi.set(e,o),e.style.height=i+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-i/2+"px":0)}const Qs={passive:!0},ua={...Qs,capture:!0};function rn(e,l,i,n){l.addEventListener(e,i,n?ua:Qs)}function Bs(e,l,i,n){l.removeEventListener(e,i,Qs)}Cn&&Vs();function yl(e,l,i,n){let o;i=i||0,n=n||l.length-1;let c=n<=2147483647;for(;n-i>1;)o=c?i+n>>1:ol((i+n)/2),l[o]<e?i=o:n=o;return e-l[i]<=l[n]-e?i:n}function yo(e){return(i,n,o)=>{let c=-1,u=-1;for(let p=n;p<=o;p++)if(e(i[p])){c=p;break}for(let p=o;p>=n;p--)if(e(i[p])){u=p;break}return[c,u]}}const ko=e=>e!=null,To=e=>e!=null&&e>0,cs=yo(ko),ca=yo(To);function fa(e,l,i,n=0,o=!1){let c=o?ca:cs,u=o?To:ko;[l,i]=c(e,l,i);let p=e[l],d=e[l];if(l>-1)if(n==1)p=e[l],d=e[i];else if(n==-1)p=e[i],d=e[l];else for(let m=l;m<=i;m++){let x=e[m];u(x)&&(x<p?p=x:x>d&&(d=x))}return[p??Ge,d??-Ge]}function fs(e,l,i,n){let o=qi(e),c=qi(l);e==l&&(o==-1?(e*=i,l/=i):(e/=i,l*=i));let u=i==10?Hl:Eo,p=o==1?ol:gl,d=c==1?gl:ol,m=p(u(ht(e))),x=d(u(ht(l))),g=Tn(i,m),v=Tn(i,x);return i==10&&(m<0&&(g=ze(g,-m)),x<0&&(v=ze(v,-x))),n||i==2?(e=g*o,l=v*c):(e=Do(e,g),l=ps(l,v)),[e,l]}function $s(e,l,i,n){let o=fs(e,l,i,n);return e==0&&(o[0]=0),l==0&&(o[1]=0),o}const Xs=.1,Yi={mode:3,pad:Xs},qn={pad:0,soft:null,mode:0},pa={min:qn,max:qn};function as(e,l,i,n){return ds(i)?Ui(e,l,i):(qn.pad=i,qn.soft=n?0:null,qn.mode=n?3:0,Ui(e,l,pa))}function Te(e,l){return e??l}function da(e,l,i){for(l=Te(l,0),i=Te(i,e.length-1);l<=i;){if(e[l]!=null)return!0;l++}return!1}function Ui(e,l,i){let n=i.min,o=i.max,c=Te(n.pad,0),u=Te(o.pad,0),p=Te(n.hard,-Ge),d=Te(o.hard,Ge),m=Te(n.soft,Ge),x=Te(o.soft,-Ge),g=Te(n.mode,0),v=Te(o.mode,0),V=l-e,T=Hl(V),F=Bt(ht(e),ht(l)),Q=Hl(F),X=ht(Q-T);(V<1e-24||X>10)&&(V=0,(e==0||l==0)&&(V=1e-24,g==2&&m!=Ge&&(c=0),v==2&&x!=-Ge&&(u=0)));let S=V||F||1e3,W=Hl(S),C=Tn(10,ol(W)),se=S*(V==0?e==0?.1:1:c),P=ze(Do(e-se,C/10),24),re=e>=m&&(g==1||g==3&&P<=m||g==2&&P>=m)?m:Ge,ie=Bt(p,P<re&&e>=re?re:kl(re,P)),pe=S*(V==0?l==0?.1:1:u),oe=ze(ps(l+pe,C/10),24),b=l<=x&&(v==1||v==3&&oe>=x||v==2&&oe<=x)?x:-Ge,U=kl(d,oe>b&&l<=b?b:Bt(b,oe));return ie==U&&ie==0&&(U=100),[ie,U]}const ha=new Intl.NumberFormat(Cn?aa.language:"en-US"),ei=e=>ha.format(e),rl=Math,os=rl.PI,ht=rl.abs,ol=rl.floor,pt=rl.round,gl=rl.ceil,kl=rl.min,Bt=rl.max,Tn=rl.pow,qi=rl.sign,Hl=rl.log10,Eo=rl.log2,ma=(e,l=1)=>rl.sinh(e)*l,Fs=(e,l=1)=>rl.asinh(e/l),Ge=1/0;function Ki(e){return(Hl((e^e>>31)-(e>>31))|0)+1}function Ws(e,l,i){return kl(Bt(e,l),i)}function Ao(e){return typeof e=="function"}function we(e){return Ao(e)?e:()=>e}const ga=()=>{},Mo=e=>e,Co=(e,l)=>l,va=e=>null,ji=e=>!0,Ji=(e,l)=>e==l,wa=/\.\d*?(?=9{6,}|0{6,})/gm,an=e=>{if(Ro(e)||Zl.has(e))return e;const l=`${e}`,i=l.match(wa);if(i==null)return e;let n=i[0].length-1;if(l.indexOf("e-")!=-1){let[o,c]=l.split("e");return+`${an(o)}e${c}`}return ze(e,n)};function tn(e,l){return an(ze(an(e/l))*l)}function ps(e,l){return an(gl(an(e/l))*l)}function Do(e,l){return an(ol(an(e/l))*l)}function ze(e,l=0){if(Ro(e))return e;let i=10**l,n=e*i*(1+Number.EPSILON);return pt(n)/i}const Zl=new Map;function Lo(e){return((""+e).split(".")[1]||"").length}function jn(e,l,i,n){let o=[],c=n.map(Lo);for(let u=l;u<i;u++){let p=ht(u),d=ze(Tn(e,u),p);for(let m=0;m<n.length;m++){let x=e==10?+`${n[m]}e${u}`:n[m]*d,g=(u>=0?0:p)+(u>=c[m]?0:c[m]),v=e==10?x:ze(x,g);o.push(v),Zl.set(v,g)}}return o}const Kn={},ti=[],En=[null,null],Jl=Array.isArray,Ro=Number.isInteger,_a=e=>e===void 0;function Zi(e){return typeof e=="string"}function ds(e){let l=!1;if(e!=null){let i=e.constructor;l=i==null||i==Object}return l}function ba(e){return e!=null&&typeof e=="object"}const Sa=Object.getPrototypeOf(Uint8Array),Po="__proto__";function An(e,l=ds){let i;if(Jl(e)){let n=e.find(o=>o!=null);if(Jl(n)||l(n)){i=Array(e.length);for(let o=0;o<e.length;o++)i[o]=An(e[o],l)}else i=e.slice()}else if(e instanceof Sa)i=e.slice();else if(l(e)){i={};for(let n in e)n!=Po&&(i[n]=An(e[n],l))}else i=e;return i}function st(e){let l=arguments;for(let i=1;i<l.length;i++){let n=l[i];for(let o in n)o!=Po&&(ds(e[o])?st(e[o],An(n[o])):e[o]=An(n[o]))}return e}const xa=0,ya=1,ka=2;function Ta(e,l,i){for(let n=0,o,c=-1;n<l.length;n++){let u=l[n];if(u>c){for(o=u-1;o>=0&&e[o]==null;)e[o--]=null;for(o=u+1;o<i&&e[o]==null;)e[c=o++]=null}}}function Ea(e,l){if(Ca(e)){let u=e[0].slice();for(let p=1;p<e.length;p++)u.push(...e[p].slice(1));return Da(u[0])||(u=Ma(u)),u}let i=new Set;for(let u=0;u<e.length;u++){let d=e[u][0],m=d.length;for(let x=0;x<m;x++)i.add(d[x])}let n=[Array.from(i).sort((u,p)=>u-p)],o=n[0].length,c=new Map;for(let u=0;u<o;u++)c.set(n[0][u],u);for(let u=0;u<e.length;u++){let p=e[u],d=p[0];for(let m=1;m<p.length;m++){let x=p[m],g=Array(o).fill(void 0),v=l?l[u][m]:ya,V=[];for(let T=0;T<x.length;T++){let F=x[T],Q=c.get(d[T]);F===null?v!=xa&&(g[Q]=F,v==ka&&V.push(Q)):g[Q]=F}Ta(g,V,o),n.push(g)}}return n}const Aa=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Ma(e){let l=e[0],i=l.length,n=Array(i);for(let c=0;c<n.length;c++)n[c]=c;n.sort((c,u)=>l[c]-l[u]);let o=[];for(let c=0;c<e.length;c++){let u=e[c],p=Array(i);for(let d=0;d<i;d++)p[d]=u[n[d]];o.push(p)}return o}function Ca(e){let l=e[0][0],i=l.length;for(let n=1;n<e.length;n++){let o=e[n][0];if(o.length!=i)return!1;if(o!=l){for(let c=0;c<i;c++)if(o[c]!=l[c])return!1}}return!0}function Da(e,l=100){const i=e.length;if(i<=1)return!0;let n=0,o=i-1;for(;n<=o&&e[n]==null;)n++;for(;o>=n&&e[o]==null;)o--;if(o<=n)return!0;const c=Bt(1,ol((o-n+1)/l));for(let u=e[n],p=n+c;p<=o;p+=c){const d=e[p];if(d!=null){if(d<=u)return!1;u=d}}return!0}const Fo=["January","February","March","April","May","June","July","August","September","October","November","December"],Oo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function No(e){return e.slice(0,3)}const La=Oo.map(No),Ra=Fo.map(No),Pa={MMMM:Fo,MMM:Ra,WWWW:Oo,WWW:La};function Hn(e){return(e<10?"0":"")+e}function Fa(e){return(e<10?"00":e<100?"0":"")+e}const Oa={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Hn(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Hn(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Hn(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return l==0?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Hn(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Hn(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Fa(e.getMilliseconds())};function li(e,l){l=l||Pa;let i=[],n=/\{([a-z]+)\}|[^{]+/gi,o;for(;o=n.exec(e);)i.push(o[0][0]=="{"?Oa[o[1]]:o[0]);return c=>{let u="";for(let p=0;p<i.length;p++)u+=typeof i[p]=="string"?i[p]:i[p](c,l);return u}}const Na=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Ga(e,l){let i;return l=="UTC"||l=="Etc/UTC"?i=new Date(+e+e.getTimezoneOffset()*6e4):l==Na?i=e:(i=new Date(e.toLocaleString("en-US",{timeZone:l})),i.setMilliseconds(e.getMilliseconds())),i}const Go=e=>e%1==0,us=[1,2,2.5,5],za=jn(10,-32,0,us),zo=jn(10,0,32,us),Ia=zo.filter(Go),ln=za.concat(zo),ni=`
`,Io="{YYYY}",Qi=ni+Io,Vo="{M}/{D}",Un=ni+Vo,ts=Un+"/{YY}",Ho="{aa}",Va="{h}:{mm}",yn=Va+Ho,$i=ni+yn,Xi=":{ss}",De=null;function Bo(e){let l=e*1e3,i=l*60,n=i*60,o=n*24,c=o*30,u=o*365,d=(e==1?jn(10,0,3,us).filter(Go):jn(10,-3,0,us)).concat([l,l*5,l*10,l*15,l*30,i,i*5,i*10,i*15,i*30,n,n*2,n*3,n*4,n*6,n*8,n*12,o,o*2,o*3,o*4,o*5,o*6,o*7,o*8,o*9,o*10,o*15,c,c*2,c*3,c*4,c*6,u,u*2,u*5,u*10,u*25,u*50,u*100]);const m=[[u,Io,De,De,De,De,De,De,1],[o*28,"{MMM}",Qi,De,De,De,De,De,1],[o,Vo,Qi,De,De,De,De,De,1],[n,"{h}"+Ho,ts,De,Un,De,De,De,1],[i,yn,ts,De,Un,De,De,De,1],[l,Xi,ts+" "+yn,De,Un+" "+yn,De,$i,De,1],[e,Xi+".{fff}",ts+" "+yn,De,Un+" "+yn,De,$i,De,1]];function x(g){return(v,V,T,F,Q,X)=>{let S=[],W=Q>=u,C=Q>=c&&Q<u,se=g(T),P=ze(se*e,3),re=Os(se.getFullYear(),W?0:se.getMonth(),C||W?1:se.getDate()),ie=ze(re*e,3);if(C||W){let pe=C?Q/c:0,oe=W?Q/u:0,b=P==ie?P:ze(Os(re.getFullYear()+oe,re.getMonth()+pe,1)*e,3),U=new Date(pt(b/e)),N=U.getFullYear(),q=U.getMonth();for(let L=0;b<=F;L++){let te=Os(N+oe*L,q+pe*L,1),G=te-g(ze(te*e,3));b=ze((+te+G)*e,3),b<=F&&S.push(b)}}else{let pe=Q>=o?o:Q,oe=ol(T)-ol(P),b=ie+oe+ps(P-ie,pe);S.push(b);let U=g(b),N=U.getHours()+U.getMinutes()/i+U.getSeconds()/n,q=Q/n,L=v.axes[V]._space,te=X/L;for(;b=ze(b+Q,e==1?0:3),!(b>F);)if(q>1){let G=ol(ze(N+q,6))%24,de=g(b).getHours()-G;de>1&&(de=-1),b-=de*n,N=(N+q)%24;let fe=S[S.length-1];ze((b-fe)/Q,3)*te>=.7&&S.push(b)}else S.push(b)}return S}}return[d,m,x]}const[Ha,Ba,Wa]=Bo(1),[Ya,Ua,qa]=Bo(.001);jn(2,-53,53,[1]);function eo(e,l){return e.map(i=>i.map((n,o)=>o==0||o==8||n==null?n:l(o==1||i[8]==0?n:i[1]+n)))}function to(e,l){return(i,n,o,c,u)=>{let p=l.find(T=>u>=T[0])||l[l.length-1],d,m,x,g,v,V;return n.map(T=>{let F=e(T),Q=F.getFullYear(),X=F.getMonth(),S=F.getDate(),W=F.getHours(),C=F.getMinutes(),se=F.getSeconds(),P=Q!=d&&p[2]||X!=m&&p[3]||S!=x&&p[4]||W!=g&&p[5]||C!=v&&p[6]||se!=V&&p[7]||p[1];return d=Q,m=X,x=S,g=W,v=C,V=se,P(F)})}}function Ka(e,l){let i=li(l);return(n,o,c,u,p)=>o.map(d=>i(e(d)))}function Os(e,l,i){return new Date(e,l,i)}function lo(e,l){return l(e)}const ja="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function no(e,l){return(i,n,o,c)=>c==null?Zs:l(e(n))}function Ja(e,l){let i=e.series[l];return i.width?i.stroke(e,l):i.points.width?i.points.stroke(e,l):null}function Za(e,l){return e.series[l].fill(e,l)}const Qa={show:!0,live:!0,isolate:!1,mount:ga,markers:{show:!0,width:2,stroke:Ja,fill:Za,dash:"solid"},idx:null,idxs:null,values:[]};function $a(e,l){let i=e.cursor.points,n=ml(),o=i.size(e,l);Ye(n,Wn,o),Ye(n,Yn,o);let c=o/-2;Ye(n,"marginLeft",c),Ye(n,"marginTop",c);let u=i.width(e,l,o);return u&&Ye(n,"borderWidth",u),n}function Xa(e,l){let i=e.series[l].points;return i._fill||i._stroke}function eu(e,l){let i=e.series[l].points;return i._stroke||i._fill}function tu(e,l){return e.series[l].points.size}const Ns=[0,0];function lu(e,l,i){return Ns[0]=l,Ns[1]=i,Ns}function ls(e,l,i,n=!0){return o=>{o.button==0&&(!n||o.target==l)&&i(o)}}function Gs(e,l,i,n=!0){return o=>{(!n||o.target==l)&&i(o)}}const nu={show:!0,x:!0,y:!0,lock:!1,move:lu,points:{one:!1,show:$a,size:tu,width:0,stroke:eu,fill:Xa},bind:{mousedown:ls,mouseup:ls,click:ls,dblclick:ls,mousemove:Gs,mouseleave:Gs,mouseenter:Gs},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,i,n,o)=>n-o,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Wo={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},si=st({},Wo,{filter:Co}),Yo=st({},si,{size:10}),Uo=st({},Wo,{show:!1}),ii='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',qo="bold "+ii,Ko=1.5,so={show:!0,scale:"x",stroke:Js,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:qo,side:2,grid:si,ticks:Yo,border:Uo,font:ii,lineGap:Ko,rotate:0},su="Value",iu="Time",io={show:!0,scale:"x",auto:!1,sorted:1,min:Ge,max:-Ge,idxs:[]};function ou(e,l,i,n,o){return l.map(c=>c==null?"":ei(c))}function ru(e,l,i,n,o,c,u){let p=[],d=Zl.get(o)||0;i=u?i:ze(ps(i,o),d);for(let m=i;m<=n;m=ze(m+o,d))p.push(Object.is(m,-0)?0:m);return p}function Ys(e,l,i,n,o,c,u){const p=[],d=e.scales[e.axes[l].scale].log,m=d==10?Hl:Eo,x=ol(m(i));o=Tn(d,x),d==10&&(o=ln[yl(o,ln)]);let g=i,v=o*d;d==10&&(v=ln[yl(v,ln)]);do p.push(g),g=g+o,d==10&&!Zl.has(g)&&(g=ze(g,Zl.get(o))),g>=v&&(o=g,v=o*d,d==10&&(v=ln[yl(v,ln)]));while(g<=n);return p}function au(e,l,i,n,o,c,u){let d=e.scales[e.axes[l].scale].asinh,m=n>d?Ys(e,l,Bt(d,i),n,o):[d],x=n>=0&&i<=0?[0]:[];return(i<-d?Ys(e,l,Bt(d,-n),-i,o):[d]).reverse().map(v=>-v).concat(x,m)}const jo=/./,uu=/[12357]/,cu=/[125]/,oo=/1/,Us=(e,l,i,n)=>e.map((o,c)=>l==4&&o==0||c%n==0&&i.test(o.toExponential()[o<0?1:0])?o:null);function fu(e,l,i,n,o){let c=e.axes[i],u=c.scale,p=e.scales[u],d=e.valToPos,m=c._space,x=d(10,u),g=d(9,u)-x>=m?jo:d(7,u)-x>=m?uu:d(5,u)-x>=m?cu:oo;if(g==oo){let v=ht(d(1,u)-x);if(v<m)return Us(l.slice().reverse(),p.distr,g,gl(m/v)).reverse()}return Us(l,p.distr,g,1)}function pu(e,l,i,n,o){let c=e.axes[i],u=c.scale,p=c._space,d=e.valToPos,m=ht(d(1,u)-d(2,u));return m<p?Us(l.slice().reverse(),3,jo,gl(p/m)).reverse():l}function du(e,l,i,n){return n==null?Zs:l==null?"":ei(l)}const ro={show:!0,scale:"y",stroke:Js,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:qo,side:3,grid:si,ticks:Yo,border:Uo,font:ii,lineGap:Ko,rotate:0};function hu(e,l){let i=3+(e||1)*2;return ze(i*l,3)}function mu(e,l){let{scale:i,idxs:n}=e.series[0],o=e._data[0],c=e.valToPos(o[n[0]],i,!0),u=e.valToPos(o[n[1]],i,!0),p=ht(u-c),d=e.series[l],m=p/(d.points.space*Me);return n[1]-n[0]<=m}const ao={scale:null,auto:!0,sorted:0,min:Ge,max:-Ge},Jo=(e,l,i,n,o)=>o,uo={show:!0,auto:!0,sorted:0,gaps:Jo,alpha:1,facets:[st({},ao,{scale:"x"}),st({},ao,{scale:"y"})]},co={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:Jo,alpha:1,points:{show:mu,filter:null},values:null,min:Ge,max:-Ge,idxs:[],path:null,clip:null};function gu(e,l,i,n,o){return i/10}const Zo={time:Hr,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},vu=st({},Zo,{time:!1,ori:1}),fo={};function Qo(e,l){let i=fo[e];return i||(i={key:e,plots:[],sub(n){i.plots.push(n)},unsub(n){i.plots=i.plots.filter(o=>o!=n)},pub(n,o,c,u,p,d,m){for(let x=0;x<i.plots.length;x++)i.plots[x]!=o&&i.plots[x].pub(n,o,c,u,p,d,m)}},e!=null&&(fo[e]=i)),i}const Mn=1,qs=2;function un(e,l,i){const n=e.mode,o=e.series[l],c=n==2?e._data[l]:e._data,u=e.scales,p=e.bbox;let d=c[0],m=n==2?c[1]:c[l],x=n==2?u[o.facets[0].scale]:u[e.series[0].scale],g=n==2?u[o.facets[1].scale]:u[o.scale],v=p.left,V=p.top,T=p.width,F=p.height,Q=e.valToPosH,X=e.valToPosV;return x.ori==0?i(o,d,m,x,g,Q,X,v,V,T,F,ms,Dn,vs,Xo,tr):i(o,d,m,x,g,X,Q,V,v,F,T,gs,Ln,ai,er,lr)}function oi(e,l){let i=0,n=0,o=Te(e.bands,ti);for(let c=0;c<o.length;c++){let u=o[c];u.series[0]==l?i=u.dir:u.series[1]==l&&(u.dir==1?n|=1:n|=2)}return[i,n==1?-1:n==2?1:n==3?2:0]}function wu(e,l,i,n,o){let c=e.mode,u=e.series[l],p=c==2?u.facets[1].scale:u.scale,d=e.scales[p];return o==-1?d.min:o==1?d.max:d.distr==3?d.dir==1?d.min:d.max:0}function Bl(e,l,i,n,o,c){return un(e,l,(u,p,d,m,x,g,v,V,T,F,Q)=>{let X=u.pxRound;const S=m.dir*(m.ori==0?1:-1),W=m.ori==0?Dn:Ln;let C,se;S==1?(C=i,se=n):(C=n,se=i);let P=X(g(p[C],m,F,V)),re=X(v(d[C],x,Q,T)),ie=X(g(p[se],m,F,V)),pe=X(v(c==1?x.max:x.min,x,Q,T)),oe=new Path2D(o);return W(oe,ie,pe),W(oe,P,pe),W(oe,P,re),oe})}function hs(e,l,i,n,o,c){let u=null;if(e.length>0){u=new Path2D;const p=l==0?vs:ai;let d=i;for(let g=0;g<e.length;g++){let v=e[g];if(v[1]>v[0]){let V=v[0]-d;V>0&&p(u,d,n,V,n+c),d=v[1]}}let m=i+o-d,x=10;m>0&&p(u,d,n-x/2,m,n+c+x)}return u}function _u(e,l,i){let n=e[e.length-1];n&&n[0]==l?n[1]=i:e.push([l,i])}function ri(e,l,i,n,o,c,u){let p=[],d=e.length;for(let m=o==1?i:n;m>=i&&m<=n;m+=o)if(l[m]===null){let g=m,v=m;if(o==1)for(;++m<=n&&l[m]===null;)v=m;else for(;--m>=i&&l[m]===null;)v=m;let V=c(e[g]),T=v==g?V:c(e[v]),F=g-o;V=u<=0&&F>=0&&F<d?c(e[F]):V;let X=v+o;T=u>=0&&X>=0&&X<d?c(e[X]):T,T>=V&&p.push([V,T])}return p}function po(e){return e==0?Mo:e==1?pt:l=>tn(l,e)}function $o(e){let l=e==0?ms:gs,i=e==0?(o,c,u,p,d,m)=>{o.arcTo(c,u,p,d,m)}:(o,c,u,p,d,m)=>{o.arcTo(u,c,d,p,m)},n=e==0?(o,c,u,p,d)=>{o.rect(c,u,p,d)}:(o,c,u,p,d)=>{o.rect(u,c,d,p)};return(o,c,u,p,d,m=0,x=0)=>{m==0&&x==0?n(o,c,u,p,d):(m=kl(m,p/2,d/2),x=kl(x,p/2,d/2),l(o,c+m,u),i(o,c+p,u,c+p,u+d,m),i(o,c+p,u+d,c,u+d,x),i(o,c,u+d,c,u,x),i(o,c,u,c+p,u,m),o.closePath())}}const ms=(e,l,i)=>{e.moveTo(l,i)},gs=(e,l,i)=>{e.moveTo(i,l)},Dn=(e,l,i)=>{e.lineTo(l,i)},Ln=(e,l,i)=>{e.lineTo(i,l)},vs=$o(0),ai=$o(1),Xo=(e,l,i,n,o,c)=>{e.arc(l,i,n,o,c)},er=(e,l,i,n,o,c)=>{e.arc(i,l,n,o,c)},tr=(e,l,i,n,o,c,u)=>{e.bezierCurveTo(l,i,n,o,c,u)},lr=(e,l,i,n,o,c,u)=>{e.bezierCurveTo(i,l,o,n,u,c)};function nr(e){return(l,i,n,o,c)=>un(l,i,(u,p,d,m,x,g,v,V,T,F,Q)=>{let{pxRound:X,points:S}=u,W,C;m.ori==0?(W=ms,C=Xo):(W=gs,C=er);const se=ze(S.width*Me,3);let P=(S.size-S.width)/2*Me,re=ze(P*2,3),ie=new Path2D,pe=new Path2D,{left:oe,top:b,width:U,height:N}=l.bbox;vs(pe,oe-re,b-re,U+re*2,N+re*2);const q=L=>{if(d[L]!=null){let te=X(g(p[L],m,F,V)),G=X(v(d[L],x,Q,T));W(ie,te+P,G),C(ie,te,G,P,0,os*2)}};if(c)c.forEach(q);else for(let L=n;L<=o;L++)q(L);return{stroke:se>0?ie:null,fill:ie,clip:pe,flags:Mn|qs}})}function sr(e){return(l,i,n,o,c,u)=>{n!=o&&(c!=n&&u!=n&&e(l,i,n),c!=o&&u!=o&&e(l,i,o),e(l,i,u))}}const bu=sr(Dn),Su=sr(Ln);function ir(e){const l=Te(e?.alignGaps,0);return(i,n,o,c)=>un(i,n,(u,p,d,m,x,g,v,V,T,F,Q)=>{[o,c]=cs(d,o,c);let X=u.pxRound,S=N=>X(g(N,m,F,V)),W=N=>X(v(N,x,Q,T)),C,se;m.ori==0?(C=Dn,se=bu):(C=Ln,se=Su);const P=m.dir*(m.ori==0?1:-1),re={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Mn},ie=re.stroke;let pe=!1;if(c-o>=F*4){let N=Y=>i.posToVal(Y,m.key,!0),q=null,L=null,te,G,Ie,Ee=S(p[P==1?o:c]),de=S(p[o]),fe=S(p[c]),ae=N(P==1?de+1:fe-1);for(let Y=P==1?o:c;Y>=o&&Y<=c;Y+=P){let Le=p[Y],me=(P==1?Le<ae:Le>ae)?Ee:S(Le),ue=d[Y];me==Ee?ue!=null?(G=ue,q==null?(C(ie,me,W(G)),te=q=L=G):G<q?q=G:G>L&&(L=G)):ue===null&&(pe=!0):(q!=null&&se(ie,Ee,W(q),W(L),W(te),W(G)),ue!=null?(G=ue,C(ie,me,W(G)),q=L=te=G):(q=L=null,ue===null&&(pe=!0)),Ee=me,ae=N(Ee+P))}q!=null&&q!=L&&Ie!=Ee&&se(ie,Ee,W(q),W(L),W(te),W(G))}else for(let N=P==1?o:c;N>=o&&N<=c;N+=P){let q=d[N];q===null?pe=!0:q!=null&&C(ie,S(p[N]),W(q))}let[b,U]=oi(i,n);if(u.fill!=null||b!=0){let N=re.fill=new Path2D(ie),q=u.fillTo(i,n,u.min,u.max,b),L=W(q),te=S(p[o]),G=S(p[c]);P==-1&&([G,te]=[te,G]),C(N,G,L),C(N,te,L)}if(!u.spanGaps){let N=[];pe&&N.push(...ri(p,d,o,c,P,S,l)),re.gaps=N=u.gaps(i,n,o,c,N),re.clip=hs(N,m.ori,V,T,F,Q)}return U!=0&&(re.band=U==2?[Bl(i,n,o,c,ie,-1),Bl(i,n,o,c,ie,1)]:Bl(i,n,o,c,ie,U)),re})}function xu(e){const l=Te(e.align,1),i=Te(e.ascDesc,!1),n=Te(e.alignGaps,0),o=Te(e.extend,!1);return(c,u,p,d)=>un(c,u,(m,x,g,v,V,T,F,Q,X,S,W)=>{[p,d]=cs(g,p,d);let C=m.pxRound,{left:se,width:P}=c.bbox,re=de=>C(T(de,v,S,Q)),ie=de=>C(F(de,V,W,X)),pe=v.ori==0?Dn:Ln;const oe={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Mn},b=oe.stroke,U=v.dir*(v.ori==0?1:-1);let N=ie(g[U==1?p:d]),q=re(x[U==1?p:d]),L=q,te=q;o&&l==-1&&(te=se,pe(b,te,N)),pe(b,q,N);for(let de=U==1?p:d;de>=p&&de<=d;de+=U){let fe=g[de];if(fe==null)continue;let ae=re(x[de]),Y=ie(fe);l==1?pe(b,ae,N):pe(b,L,Y),pe(b,ae,Y),N=Y,L=ae}let G=L;o&&l==1&&(G=se+P,pe(b,G,N));let[Ie,Ee]=oi(c,u);if(m.fill!=null||Ie!=0){let de=oe.fill=new Path2D(b),fe=m.fillTo(c,u,m.min,m.max,Ie),ae=ie(fe);pe(de,G,ae),pe(de,te,ae)}if(!m.spanGaps){let de=[];de.push(...ri(x,g,p,d,U,re,n));let fe=m.width*Me/2,ae=i||l==1?fe:-fe,Y=i||l==-1?-fe:fe;de.forEach(Le=>{Le[0]+=ae,Le[1]+=Y}),oe.gaps=de=m.gaps(c,u,p,d,de),oe.clip=hs(de,v.ori,Q,X,S,W)}return Ee!=0&&(oe.band=Ee==2?[Bl(c,u,p,d,b,-1),Bl(c,u,p,d,b,1)]:Bl(c,u,p,d,b,Ee)),oe})}function ho(e,l,i,n,o,c,u=Ge){if(e.length>1){let p=null;for(let d=0,m=1/0;d<e.length;d++)if(l[d]!==void 0){if(p!=null){let x=ht(e[d]-e[p]);x<m&&(m=x,u=ht(i(e[d],n,o,c)-i(e[p],n,o,c)))}p=d}}return u}function yu(e){e=e||Kn;const l=Te(e.size,[.6,Ge,1]),i=e.align||0,n=e.gap||0;let o=e.radius;o=o==null?[0,0]:typeof o=="number"?[o,0]:o;const c=we(o),u=1-l[0],p=Te(l[1],Ge),d=Te(l[2],1),m=Te(e.disp,Kn),x=Te(e.each,V=>{}),{fill:g,stroke:v}=m;return(V,T,F,Q)=>un(V,T,(X,S,W,C,se,P,re,ie,pe,oe,b)=>{let U=X.pxRound,N=i,q=n*Me,L=p*Me,te=d*Me,G,Ie;C.ori==0?[G,Ie]=c(V,T):[Ie,G]=c(V,T);const Ee=C.dir*(C.ori==0?1:-1);let de=C.ori==0?vs:ai,fe=C.ori==0?x:(R,xe,Re,ul,wl,Pt,Qt)=>{x(R,xe,Re,wl,ul,Qt,Pt)},ae=Te(V.bands,ti).find(R=>R.series[0]==T),Y=ae!=null?ae.dir:0,Le=X.fillTo(V,T,X.min,X.max,Y),Ze=U(re(Le,se,b,pe)),me,ue,Ve,Pe=oe,_e=U(X.width*Me),it=!1,gt=null,tt=null,ot=null,Wt=null;g!=null&&(_e==0||v!=null)&&(it=!0,gt=g.values(V,T,F,Q),tt=new Map,new Set(gt).forEach(R=>{R!=null&&tt.set(R,new Path2D)}),_e>0&&(ot=v.values(V,T,F,Q),Wt=new Map,new Set(ot).forEach(R=>{R!=null&&Wt.set(R,new Path2D)})));let{x0:ge,size:Tt}=m;if(ge!=null&&Tt!=null){N=1,S=ge.values(V,T,F,Q),ge.unit==2&&(S=S.map(Re=>V.posToVal(ie+Re*oe,C.key,!0)));let R=Tt.values(V,T,F,Q);Tt.unit==2?ue=R[0]*oe:ue=P(R[0],C,oe,ie)-P(0,C,oe,ie),Pe=ho(S,W,P,C,oe,ie,Pe),Ve=Pe-ue+q}else Pe=ho(S,W,P,C,oe,ie,Pe),Ve=Pe*u+q,ue=Pe-Ve;Ve<1&&(Ve=0),_e>=ue/2&&(_e=0),Ve<5&&(U=Mo);let Rt=Ve>0,Yt=Pe-Ve-(Rt?_e:0);ue=U(Ws(Yt,te,L)),me=(N==0?ue/2:N==Ee?0:ue)-N*Ee*((N==0?q/2:0)+(Rt?_e/2:0));const Ne={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Ut=it?null:new Path2D;let qt=null;if(ae!=null)qt=V.data[ae.series[1]];else{let{y0:R,y1:xe}=m;R!=null&&xe!=null&&(W=xe.values(V,T,F,Q),qt=R.values(V,T,F,Q))}let al=G*ue,le=Ie*ue;for(let R=Ee==1?F:Q;R>=F&&R<=Q;R+=Ee){let xe=W[R];if(xe==null)continue;if(qt!=null){let vt=qt[R]??0;if(xe-vt==0)continue;Ze=re(vt,se,b,pe)}let Re=C.distr!=2||m!=null?S[R]:R,ul=P(Re,C,oe,ie),wl=re(Te(xe,Le),se,b,pe),Pt=U(ul-me),Qt=U(Bt(wl,Ze)),rt=U(kl(wl,Ze)),Et=Qt-rt;if(xe!=null){let vt=xe<0?le:al,at=xe<0?al:le;it?(_e>0&&ot[R]!=null&&de(Wt.get(ot[R]),Pt,rt+ol(_e/2),ue,Bt(0,Et-_e),vt,at),gt[R]!=null&&de(tt.get(gt[R]),Pt,rt+ol(_e/2),ue,Bt(0,Et-_e),vt,at)):de(Ut,Pt,rt+ol(_e/2),ue,Bt(0,Et-_e),vt,at),fe(V,T,R,Pt-_e/2,rt,ue+_e,Et)}}return _e>0?Ne.stroke=it?Wt:Ut:it||(Ne._fill=X.width==0?X._fill:X._stroke??X._fill,Ne.width=0),Ne.fill=it?tt:Ut,Ne})}function ku(e,l){const i=Te(l?.alignGaps,0);return(n,o,c,u)=>un(n,o,(p,d,m,x,g,v,V,T,F,Q,X)=>{[c,u]=cs(m,c,u);let S=p.pxRound,W=G=>S(v(G,x,Q,T)),C=G=>S(V(G,g,X,F)),se,P,re;x.ori==0?(se=ms,re=Dn,P=tr):(se=gs,re=Ln,P=lr);const ie=x.dir*(x.ori==0?1:-1);let pe=W(d[ie==1?c:u]),oe=pe,b=[],U=[];for(let G=ie==1?c:u;G>=c&&G<=u;G+=ie)if(m[G]!=null){let Ee=d[G],de=W(Ee);b.push(oe=de),U.push(C(m[G]))}const N={stroke:e(b,U,se,re,P,S),fill:null,clip:null,band:null,gaps:null,flags:Mn},q=N.stroke;let[L,te]=oi(n,o);if(p.fill!=null||L!=0){let G=N.fill=new Path2D(q),Ie=p.fillTo(n,o,p.min,p.max,L),Ee=C(Ie);re(G,oe,Ee),re(G,pe,Ee)}if(!p.spanGaps){let G=[];G.push(...ri(d,m,c,u,ie,W,i)),N.gaps=G=p.gaps(n,o,c,u,G),N.clip=hs(G,x.ori,T,F,Q,X)}return te!=0&&(N.band=te==2?[Bl(n,o,c,u,q,-1),Bl(n,o,c,u,q,1)]:Bl(n,o,c,u,q,te)),N})}function Tu(e){return ku(Eu,e)}function Eu(e,l,i,n,o,c){const u=e.length;if(u<2)return null;const p=new Path2D;if(i(p,e[0],l[0]),u==2)n(p,e[1],l[1]);else{let d=Array(u),m=Array(u-1),x=Array(u-1),g=Array(u-1);for(let v=0;v<u-1;v++)x[v]=l[v+1]-l[v],g[v]=e[v+1]-e[v],m[v]=x[v]/g[v];d[0]=m[0];for(let v=1;v<u-1;v++)m[v]===0||m[v-1]===0||m[v-1]>0!=m[v]>0?d[v]=0:(d[v]=3*(g[v-1]+g[v])/((2*g[v]+g[v-1])/m[v-1]+(g[v]+2*g[v-1])/m[v]),isFinite(d[v])||(d[v]=0));d[u-1]=m[u-2];for(let v=0;v<u-1;v++)o(p,e[v]+g[v]/3,l[v]+d[v]*g[v]/3,e[v+1]-g[v]/3,l[v+1]-d[v+1]*g[v]/3,e[v+1],l[v+1])}return p}const Ks=new Set;function mo(){for(let e of Ks)e.syncRect(!0)}Cn&&(rn(oa,kn,mo),rn(ra,kn,mo,!0),rn(rs,kn,()=>{et.pxRatio=Me}));const Au=ir(),Mu=nr();function go(e,l,i,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((c,u)=>js(c,u,l,i))}function Cu(e,l){return e.map((i,n)=>n==0?{}:st({},l,i))}function js(e,l,i,n){return st({},l==0?i:n,e)}function or(e,l,i){return l==null?En:[l,i]}const Du=or;function Lu(e,l,i){return l==null?En:as(l,i,Xs,!0)}function rr(e,l,i,n){return l==null?En:fs(l,i,e.scales[n].log,!1)}const Ru=rr;function ar(e,l,i,n){return l==null?En:$s(l,i,e.scales[n].log,!1)}const Pu=ar;function Fu(e,l,i,n,o){let c=Bt(Ki(e),Ki(l)),u=l-e,p=yl(o/n*u,i);do{let d=i[p],m=n*d/u;if(m>=o&&c+(d<5?Zl.get(d):0)<=17)return[d,m]}while(++p<i.length);return[0,0]}function vo(e){let l,i;return e=e.replace(/(\d+)px/,(n,o)=>(l=pt((i=+o)*Me))+"px"),[e,l,i]}function Ou(e){e.show&&[e.font,e.labelFont].forEach(l=>{let i=ze(l[2]*Me,1);l[0]=l[0].replace(/[0-9.]+px/,i+"px"),l[1]=i})}function et(e,l,i){const n={mode:Te(e.mode,1)},o=n.mode;function c(t,s,r,a){let f=s.valToPct(t);return a+r*(s.dir==-1?1-f:f)}function u(t,s,r,a){let f=s.valToPct(t);return a+r*(s.dir==-1?f:1-f)}function p(t,s,r,a){return s.ori==0?c(t,s,r,a):u(t,s,r,a)}n.valToPosH=c,n.valToPosV=u;let d=!1;n.status=0;const m=n.root=ml(Br);if(e.id!=null&&(m.id=e.id),il(m,e.class),e.title){let t=ml(Ur,m);t.textContent=e.title}const x=xl("canvas"),g=n.ctx=x.getContext("2d"),v=ml(qr,m);rn("click",v,t=>{t.target===T&&(He!=gn||qe!=vn)&&Mt.click(n,t)},!0);const V=n.under=ml(Kr,v);v.appendChild(x);const T=n.over=ml(jr,v);e=An(e);const F=+Te(e.pxAlign,1),Q=po(F);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(n,e)||e)});const X=e.ms||.001,S=n.series=o==1?go(e.series||[],io,co,!1):Cu(e.series||[null],uo),W=n.axes=go(e.axes||[],so,ro,!0),C=n.scales={},se=n.bands=e.bands||[];se.forEach(t=>{t.fill=we(t.fill||null),t.dir=Te(t.dir,-1)});const P=o==2?S[1].facets[0].scale:S[0].scale,re={axes:dr,series:cn},ie=(e.drawOrder||["axes","series"]).map(t=>re[t]);function pe(t){const s=t.distr==3?r=>Hl(r>0?r:t.clamp(n,r,t.min,t.max,t.key)):t.distr==4?r=>Fs(r,t.asinh):t.distr==100?r=>t.fwd(r):r=>r;return r=>{let a=s(r),{_min:f,_max:h}=t,_=h-f;return(a-f)/_}}function oe(t){let s=C[t];if(s==null){let r=(e.scales||Kn)[t]||Kn;if(r.from!=null){oe(r.from);let a=st({},C[r.from],r,{key:t});a.valToPct=pe(a),C[t]=a}else{s=C[t]=st({},t==P?Zo:vu,r),s.key=t;let a=s.time,f=s.range,h=Jl(f);if((t!=P||o==2&&!a)&&(h&&(f[0]==null||f[1]==null)&&(f={min:f[0]==null?Yi:{mode:1,hard:f[0],soft:f[0]},max:f[1]==null?Yi:{mode:1,hard:f[1],soft:f[1]}},h=!1),!h&&ds(f))){let _=f;f=(y,M,O)=>M==null?En:as(M,O,_)}s.range=we(f||(a?Du:t==P?s.distr==3?Ru:s.distr==4?Pu:or:s.distr==3?rr:s.distr==4?ar:Lu)),s.auto=we(h?!1:s.auto),s.clamp=we(s.clamp||gu),s._min=s._max=null,s.valToPct=pe(s)}}}oe("x"),oe("y"),o==1&&S.forEach(t=>{oe(t.scale)}),W.forEach(t=>{oe(t.scale)});for(let t in e.scales)oe(t);const b=C[P],U=b.distr;let N,q;b.ori==0?(il(m,Wr),N=c,q=u):(il(m,Yr),N=u,q=c);const L={};for(let t in C){let s=C[t];(s.min!=null||s.max!=null)&&(L[t]={min:s.min,max:s.max},s.min=s.max=null)}const te=e.tzDate||(t=>new Date(pt(t/X))),G=e.fmtDate||li,Ie=X==1?Wa(te):qa(te),Ee=to(te,eo(X==1?Ba:Ua,G)),de=no(te,lo(ja,G)),fe=[],ae=n.legend=st({},Qa,e.legend),Y=n.cursor=st({},nu,{drag:{y:o==2}},e.cursor),Le=ae.show,Ze=Y.show,me=ae.markers;ae.idxs=fe,me.width=we(me.width),me.dash=we(me.dash),me.stroke=we(me.stroke),me.fill=we(me.fill);let ue,Ve,Pe,_e=[],it=[],gt,tt=!1,ot={};if(ae.live){const t=S[1]?S[1].values:null;tt=t!=null,gt=tt?t(n,1,0):{_:0};for(let s in gt)ot[s]=Zs}if(Le)if(ue=xl("table",ea,m),Pe=xl("tbody",null,ue),ae.mount(n,ue),tt){Ve=xl("thead",null,ue,Pe);let t=xl("tr",null,Ve);xl("th",null,t);for(var Wt in gt)xl("th",Li,t).textContent=Wt}else il(ue,la),ae.live&&il(ue,ta);const ge={show:!0},Tt={show:!1};function Rt(t,s){if(s==0&&(tt||!ae.live||o==2))return En;let r=[],a=xl("tr",na,Pe,Pe.childNodes[s]);il(a,t.class),t.show||il(a,on);let f=xl("th",null,a);if(me.show){let y=ml(sa,f);if(s>0){let M=me.width(n,s);M&&(y.style.border=M+"px "+me.dash(n,s)+" "+me.stroke(n,s)),y.style.background=me.fill(n,s)}}let h=ml(Li,f);t.label instanceof HTMLElement?h.appendChild(t.label):h.textContent=t.label,s>0&&(me.show||(h.style.color=t.width>0?me.stroke(n,s):me.fill(n,s)),Ne("click",f,y=>{if(Y._lock)return;Xt(y);let M=S.indexOf(t);if((y.ctrlKey||y.metaKey)!=ae.isolate){let O=S.some((z,B)=>B>0&&B!=M&&z.show);S.forEach((z,B)=>{B>0&&Dl(B,O?B==M?ge:Tt:ge,!0,nt.setSeries)})}else Dl(M,{show:!t.show},!0,nt.setSeries)},!1),_l&&Ne(Oi,f,y=>{Y._lock||(Xt(y),Dl(S.indexOf(t),_n,!0,nt.setSeries))},!1));for(var _ in gt){let y=xl("td",ia,a);y.textContent="--",r.push(y)}return[a,r]}const Yt=new Map;function Ne(t,s,r,a=!0){const f=Yt.get(s)||{},h=Y.bind[t](n,s,r,a);h&&(rn(t,s,f[t]=h),Yt.set(s,f))}function Ut(t,s,r){const a=Yt.get(s)||{};for(let f in a)(t==null||f==t)&&(Bs(f,s,a[f]),delete a[f]);t==null&&Yt.delete(s)}let qt=0,al=0,le=0,R=0,xe=0,Re=0,ul=xe,wl=Re,Pt=le,Qt=R,rt=0,Et=0,vt=0,at=0;n.bbox={};let Tl=!1,El=!1,$t=!1,Kt=!1,jt=!1,ut=!1;function Wl(t,s,r){(r||t!=n.width||s!=n.height)&&Yl(t,s),pn(!1),$t=!0,El=!0,dn()}function Yl(t,s){n.width=qt=le=t,n.height=al=R=s,xe=Re=0,Pn(),fl();let r=n.bbox;rt=r.left=tn(xe*Me,.5),Et=r.top=tn(Re*Me,.5),vt=r.width=tn(le*Me,.5),at=r.height=tn(R*Me,.5)}const Rn=3;function cl(){let t=!1,s=0;for(;!t;){s++;let r=fr(s),a=pr(s);t=s==Rn||r&&a,t||(Yl(n.width,n.height),El=!0)}}function Ql({width:t,height:s}){Wl(t,s)}n.setSize=Ql;function Pn(){let t=!1,s=!1,r=!1,a=!1;W.forEach((f,h)=>{if(f.show&&f._show){let{side:_,_size:y}=f,M=_%2,O=f.label!=null?f.labelSize:0,z=y+O;z>0&&(M?(le-=z,_==3?(xe+=z,a=!0):r=!0):(R-=z,_==0?(Re+=z,t=!0):s=!0))}}),At[0]=t,At[1]=r,At[2]=s,At[3]=a,le-=Ue[1]+Ue[3],xe+=Ue[3],R-=Ue[2]+Ue[0],Re+=Ue[0]}function fl(){let t=xe+le,s=Re+R,r=xe,a=Re;function f(h,_){switch(h){case 1:return t+=_,t-_;case 2:return s+=_,s-_;case 3:return r-=_,r+_;case 0:return a-=_,a+_}}W.forEach((h,_)=>{if(h.show&&h._show){let y=h.side;h._pos=f(y,h._size),h.label!=null&&(h._lpos=f(y,h.labelSize))}})}if(Y.dataIdx==null){let t=Y.hover,s=t.skip=new Set(t.skip??[]);s.add(void 0);let r=t.prox=we(t.prox),a=t.bias??=0;Y.dataIdx=(f,h,_,y)=>{if(h==0)return _;let M=_,O=r(f,h,_,y)??Ge,z=O>=0&&O<Ge,B=b.ori==0?le:R,ce=Y.left,Ae=l[0],ke=l[h];if(s.has(ke[_])){M=null;let ve=null,ne=null,$;if(a==0||a==-1)for($=_;ve==null&&$-- >0;)s.has(ke[$])||(ve=$);if(a==0||a==1)for($=_;ne==null&&$++<ke.length;)s.has(ke[$])||(ne=$);if(ve!=null||ne!=null)if(z){let We=ve==null?-1/0:N(Ae[ve],b,B,0),Qe=ne==null?1/0:N(Ae[ne],b,B,0),kt=ce-We,Oe=Qe-ce;kt<=Oe?kt<=O&&(M=ve):Oe<=O&&(M=ne)}else M=ne==null?ve:ve==null?ne:_-ve<=ne-_?ve:ne}else z&&ht(ce-N(Ae[_],b,B,0))>O&&(M=null);return M}}const Xt=t=>{Y.event=t};Y.idxs=fe,Y._lock=!1;let lt=Y.points;lt.show=we(lt.show),lt.size=we(lt.size),lt.stroke=we(lt.stroke),lt.width=we(lt.width),lt.fill=we(lt.fill);const ct=n.focus=st({},e.focus||{alpha:.3},Y.focus),_l=ct.prox>=0,Xe=_l&&lt.one;let ye=[],ft=[],Jt=[];function Al(t,s){let r=lt.show(n,s);if(r instanceof HTMLElement)return il(r,Xr),il(r,t.class),Fl(r,-10,-10,le,R),T.insertBefore(r,ye[s]),r}function wt(t,s){if(o==1||s>0){let r=o==1&&C[t.scale].time,a=t.value;t.value=r?Zi(a)?no(te,lo(a,G)):a||de:a||du,t.label=t.label||(r?iu:su)}if(Xe||s>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Au||va,t.fillTo=we(t.fillTo||wu),t.pxAlign=+Te(t.pxAlign,F),t.pxRound=po(t.pxAlign),t.stroke=we(t.stroke||null),t.fill=we(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=hu(Bt(1,t.width),1),a=t.points=st({},{size:r,width:Bt(1,r*.2),stroke:t.stroke,space:r*2,paths:Mu,_stroke:null,_fill:null},t.points);a.show=we(a.show),a.filter=we(a.filter),a.fill=we(a.fill),a.stroke=we(a.stroke),a.paths=we(a.paths),a.pxAlign=t.pxAlign}if(Le){let r=Rt(t,s);_e.splice(s,0,r[0]),it.splice(s,0,r[1]),ae.values.push(null)}if(Ze){fe.splice(s,0,null);let r=null;Xe?s==0&&(r=Al(t,s)):s>0&&(r=Al(t,s)),ye.splice(s,0,r),ft.splice(s,0,0),Jt.splice(s,0,0)}yt("addSeries",s)}function Ft(t,s){s=s??S.length,t=o==1?js(t,s,io,co):js(t,s,{},uo),S.splice(s,0,t),wt(S[s],s)}n.addSeries=Ft;function Ot(t){if(S.splice(t,1),Le){ae.values.splice(t,1),it.splice(t,1);let s=_e.splice(t,1)[0];Ut(null,s.firstChild),s.remove()}Ze&&(fe.splice(t,1),ye.splice(t,1)[0].remove(),ft.splice(t,1),Jt.splice(t,1)),yt("delSeries",t)}n.delSeries=Ot;const At=[!1,!1,!1,!1];function Ol(t,s){if(t._show=t.show,t.show){let r=t.side%2,a=C[t.scale];a==null&&(t.scale=r?S[1].scale:P,a=C[t.scale]);let f=a.time;t.size=we(t.size),t.space=we(t.space),t.rotate=we(t.rotate),Jl(t.incrs)&&t.incrs.forEach(_=>{!Zl.has(_)&&Zl.set(_,Lo(_))}),t.incrs=we(t.incrs||(a.distr==2?Ia:f?X==1?Ha:Ya:ln)),t.splits=we(t.splits||(f&&a.distr==1?Ie:a.distr==3?Ys:a.distr==4?au:ru)),t.stroke=we(t.stroke),t.grid.stroke=we(t.grid.stroke),t.ticks.stroke=we(t.ticks.stroke),t.border.stroke=we(t.border.stroke);let h=t.values;t.values=Jl(h)&&!Jl(h[0])?we(h):f?Jl(h)?to(te,eo(h,G)):Zi(h)?Ka(te,h):h||Ee:h||ou,t.filter=we(t.filter||(a.distr>=3&&a.log==10?fu:a.distr==3&&a.log==2?pu:Co)),t.font=vo(t.font),t.labelFont=vo(t.labelFont),t._size=t.size(n,null,s,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(At[s]=!0,t._el=ml(Jr,v))}}function el(t,s,r,a){let[f,h,_,y]=r,M=s%2,O=0;return M==0&&(y||h)&&(O=s==0&&!f||s==2&&!_?pt(so.size/3):0),M==1&&(f||_)&&(O=s==1&&!h||s==3&&!y?pt(ro.size/2):0),O}const Ml=n.padding=(e.padding||[el,el,el,el]).map(t=>we(Te(t,el))),Ue=n._padding=Ml.map((t,s)=>t(n,s,At,0));let k,E=null,D=null;const H=o==1?S[0].idxs:null;let j=null,I=!1;function A(t,s){if(l=t??[],n.data=n._data=l,o==2){k=0;for(let r=1;r<S.length;r++)k+=l[r][0].length}else{l.length==0&&(n.data=n._data=l=[[]]),j=l[0],k=j.length;let r=l;if(U==2){r=l.slice();let a=r[0]=Array(k);for(let f=0;f<k;f++)a[f]=f}n._data=l=r}if(pn(!0),yt("setData"),U==2&&($t=!0),s!==!1){let r=b;r.auto(n,I)?J():ql(P,r.min,r.max),Kt=Kt||Y.left>=0,ut=!0,dn()}}n.setData=A;function J(){I=!0;let t,s;o==1&&(k>0?(E=H[0]=0,D=H[1]=k-1,t=l[0][E],s=l[0][D],U==2?(t=E,s=D):t==s&&(U==3?[t,s]=fs(t,t,b.log,!1):U==4?[t,s]=$s(t,t,b.log,!1):b.time?s=t+pt(86400/X):[t,s]=as(t,s,Xs,!0))):(E=H[0]=t=null,D=H[1]=s=null)),ql(P,t,s)}let be,Se,_t,Ct,Zt,Nt,Dt,Gt,pl,Fe;function je(t,s,r,a,f,h){t??=Pi,r??=ti,a??="butt",f??=Pi,h??="round",t!=be&&(g.strokeStyle=be=t),f!=Se&&(g.fillStyle=Se=f),s!=_t&&(g.lineWidth=_t=s),h!=Zt&&(g.lineJoin=Zt=h),a!=Nt&&(g.lineCap=Nt=a),r!=Ct&&g.setLineDash(Ct=r)}function Ce(t,s,r,a){s!=Se&&(g.fillStyle=Se=s),t!=Dt&&(g.font=Dt=t),r!=Gt&&(g.textAlign=Gt=r),a!=pl&&(g.textBaseline=pl=a)}function bt(t,s,r,a,f=0){if(a.length>0&&t.auto(n,I)&&(s==null||s.min==null)){let h=Te(E,0),_=Te(D,a.length-1),y=r.min==null?fa(a,h,_,f,t.distr==3):[r.min,r.max];t.min=kl(t.min,r.min=y[0]),t.max=Bt(t.max,r.max=y[1])}}const tl={min:null,max:null};function Cl(){for(let a in C){let f=C[a];L[a]==null&&(f.min==null||L[P]!=null&&f.auto(n,I))&&(L[a]=tl)}for(let a in C){let f=C[a];L[a]==null&&f.from!=null&&L[f.from]!=null&&(L[a]=tl)}L[P]!=null&&pn(!0);let t={};for(let a in L){let f=L[a];if(f!=null){let h=t[a]=An(C[a],ba);if(f.min!=null)st(h,f);else if(a!=P||o==2)if(k==0&&h.from==null){let _=h.range(n,null,null,a);h.min=_[0],h.max=_[1]}else h.min=Ge,h.max=-Ge}}if(k>0){S.forEach((a,f)=>{if(o==1){let h=a.scale,_=L[h];if(_==null)return;let y=t[h];if(f==0){let M=y.range(n,y.min,y.max,h);y.min=M[0],y.max=M[1],E=yl(y.min,l[0]),D=yl(y.max,l[0]),D-E>1&&(l[0][E]<y.min&&E++,l[0][D]>y.max&&D--),a.min=j[E],a.max=j[D]}else a.show&&a.auto&&bt(y,_,a,l[f],a.sorted);a.idxs[0]=E,a.idxs[1]=D}else if(f>0&&a.show&&a.auto){let[h,_]=a.facets,y=h.scale,M=_.scale,[O,z]=l[f],B=t[y],ce=t[M];B!=null&&bt(B,L[y],h,O,h.sorted),ce!=null&&bt(ce,L[M],_,z,_.sorted),a.min=_.min,a.max=_.max}});for(let a in t){let f=t[a],h=L[a];if(f.from==null&&(h==null||h.min==null)){let _=f.range(n,f.min==Ge?null:f.min,f.max==-Ge?null:f.max,a);f.min=_[0],f.max=_[1]}}}for(let a in t){let f=t[a];if(f.from!=null){let h=t[f.from];if(h.min==null)f.min=f.max=null;else{let _=f.range(n,h.min,h.max,a);f.min=_[0],f.max=_[1]}}}let s={},r=!1;for(let a in t){let f=t[a],h=C[a];if(h.min!=f.min||h.max!=f.max){h.min=f.min,h.max=f.max;let _=h.distr;h._min=_==3?Hl(h.min):_==4?Fs(h.min,h.asinh):_==100?h.fwd(h.min):h.min,h._max=_==3?Hl(h.max):_==4?Fs(h.max,h.asinh):_==100?h.fwd(h.max):h.max,s[a]=r=!0}}if(r){S.forEach((a,f)=>{o==2?f>0&&s.y&&(a._paths=null):s[a.scale]&&(a._paths=null)});for(let a in s)$t=!0,yt("setScale",a);Ze&&Y.left>=0&&(Kt=ut=!0)}for(let a in L)L[a]=null}function Nl(t){let s=Ws(E-1,0,k-1),r=Ws(D+1,0,k-1);for(;t[s]==null&&s>0;)s--;for(;t[r]==null&&r<k-1;)r++;return[s,r]}function cn(){if(k>0){let t=S.some(s=>s._focus)&&Fe!=ct.alpha;t&&(g.globalAlpha=Fe=ct.alpha),S.forEach((s,r)=>{if(r>0&&s.show&&(fn(r,!1),fn(r,!0),s._paths==null)){let a=Fe;Fe!=s.alpha&&(g.globalAlpha=Fe=s.alpha);let f=o==2?[0,l[r][0].length-1]:Nl(l[r]);s._paths=s.paths(n,r,f[0],f[1]),Fe!=a&&(g.globalAlpha=Fe=a)}}),S.forEach((s,r)=>{if(r>0&&s.show){let a=Fe;Fe!=s.alpha&&(g.globalAlpha=Fe=s.alpha),s._paths!=null&&zt(r,!1);{let f=s._paths!=null?s._paths.gaps:null,h=s.points.show(n,r,E,D,f),_=s.points.filter(n,r,h,f);(h||_)&&(s.points._paths=s.points.paths(n,r,E,D,_),zt(r,!0))}Fe!=a&&(g.globalAlpha=Fe=a),yt("drawSeries",r)}}),t&&(g.globalAlpha=Fe=1)}}function fn(t,s){let r=s?S[t].points:S[t];r._stroke=r.stroke(n,t),r._fill=r.fill(n,t)}function zt(t,s){let r=s?S[t].points:S[t],{stroke:a,fill:f,clip:h,flags:_,_stroke:y=r._stroke,_fill:M=r._fill,_width:O=r.width}=r._paths;O=ze(O*Me,3);let z=null,B=O%2/2;s&&M==null&&(M=O>0?"#fff":y);let ce=r.pxAlign==1&&B>0;if(ce&&g.translate(B,B),!s){let Ae=rt-O/2,ke=Et-O/2,ve=vt+O,ne=at+O;z=new Path2D,z.rect(Ae,ke,ve,ne)}s?ws(y,O,r.dash,r.cap,M,a,f,_,h):ur(t,y,O,r.dash,r.cap,M,a,f,_,z,h),ce&&g.translate(-B,-B)}function ur(t,s,r,a,f,h,_,y,M,O,z){let B=!1;M!=0&&se.forEach((ce,Ae)=>{if(ce.series[0]==t){let ke=S[ce.series[1]],ve=l[ce.series[1]],ne=(ke._paths||Kn).band;Jl(ne)&&(ne=ce.dir==1?ne[0]:ne[1]);let $,We=null;ke.show&&ne&&da(ve,E,D)?(We=ce.fill(n,Ae)||h,$=ke._paths.clip):ne=null,ws(s,r,a,f,We,_,y,M,O,z,$,ne),B=!0}}),B||ws(s,r,a,f,h,_,y,M,O,z)}const ui=Mn|qs;function ws(t,s,r,a,f,h,_,y,M,O,z,B){je(t,s,r,a,f),(M||O||B)&&(g.save(),M&&g.clip(M),O&&g.clip(O)),B?(y&ui)==ui?(g.clip(B),z&&g.clip(z),Zn(f,_),Jn(t,h,s)):y&qs?(Zn(f,_),g.clip(B),Jn(t,h,s)):y&Mn&&(g.save(),g.clip(B),z&&g.clip(z),Zn(f,_),g.restore(),Jn(t,h,s)):(Zn(f,_),Jn(t,h,s)),(M||O||B)&&g.restore()}function Jn(t,s,r){r>0&&(s instanceof Map?s.forEach((a,f)=>{g.strokeStyle=be=f,g.stroke(a)}):s!=null&&t&&g.stroke(s))}function Zn(t,s){s instanceof Map?s.forEach((r,a)=>{g.fillStyle=Se=a,g.fill(r)}):s!=null&&t&&g.fill(s)}function cr(t,s,r,a){let f=W[t],h;if(a<=0)h=[0,0];else{let _=f._space=f.space(n,t,s,r,a),y=f._incrs=f.incrs(n,t,s,r,a,_);h=Fu(s,r,y,a,_)}return f._found=h}function _s(t,s,r,a,f,h,_,y,M,O){let z=_%2/2;F==1&&g.translate(z,z),je(y,_,M,O,y),g.beginPath();let B,ce,Ae,ke,ve=f+(a==0||a==3?-h:h);r==0?(ce=f,ke=ve):(B=f,Ae=ve);for(let ne=0;ne<t.length;ne++)s[ne]!=null&&(r==0?B=Ae=t[ne]:ce=ke=t[ne],g.moveTo(B,ce),g.lineTo(Ae,ke));g.stroke(),F==1&&g.translate(-z,-z)}function fr(t){let s=!0;return W.forEach((r,a)=>{if(!r.show)return;let f=C[r.scale];if(f.min==null){r._show&&(s=!1,r._show=!1,pn(!1));return}else r._show||(s=!1,r._show=!0,pn(!1));let h=r.side,_=h%2,{min:y,max:M}=f,[O,z]=cr(a,y,M,_==0?le:R);if(z==0)return;let B=f.distr==2,ce=r._splits=r.splits(n,a,y,M,O,z,B),Ae=f.distr==2?ce.map($=>j[$]):ce,ke=f.distr==2?j[ce[1]]-j[ce[0]]:O,ve=r._values=r.values(n,r.filter(n,Ae,a,z,ke),a,z,ke);r._rotate=h==2?r.rotate(n,ve,a,z):0;let ne=r._size;r._size=gl(r.size(n,ve,a,t)),ne!=null&&r._size!=ne&&(s=!1)}),s}function pr(t){let s=!0;return Ml.forEach((r,a)=>{let f=r(n,a,At,t);f!=Ue[a]&&(s=!1),Ue[a]=f}),s}function dr(){for(let t=0;t<W.length;t++){let s=W[t];if(!s.show||!s._show)continue;let r=s.side,a=r%2,f,h,_=s.stroke(n,t),y=r==0||r==3?-1:1,[M,O]=s._found;if(s.label!=null){let Vt=s.labelGap*y,sl=pt((s._lpos+Vt)*Me);Ce(s.labelFont[0],_,"center",r==2?Vn:Ri),g.save(),a==1?(f=h=0,g.translate(sl,pt(Et+at/2)),g.rotate((r==3?-os:os)/2)):(f=pt(rt+vt/2),h=sl);let en=Ao(s.label)?s.label(n,t,M,O):s.label;g.fillText(en,f,h),g.restore()}if(O==0)continue;let z=C[s.scale],B=a==0?vt:at,ce=a==0?rt:Et,Ae=s._splits,ke=z.distr==2?Ae.map(Vt=>j[Vt]):Ae,ve=z.distr==2?j[Ae[1]]-j[Ae[0]]:M,ne=s.ticks,$=s.border,We=ne.show?ne.size:0,Qe=pt(We*Me),kt=pt((s.alignTo==2?s._size-We-s.gap:s.gap)*Me),Oe=s._rotate*-os/180,$e=Q(s._pos*Me),ll=(Qe+kt)*y,It=$e+ll;h=a==0?It:0,f=a==1?It:0;let dl=s.font[0],bl=s.align==1?xn:s.align==2?Ls:Oe>0?xn:Oe<0?Ls:a==0?"center":r==3?Ls:xn,Rl=Oe||a==1?"middle":r==2?Vn:Ri;Ce(dl,_,bl,Rl);let nl=s.font[1]*s.lineGap,hl=Ae.map(Vt=>Q(p(Vt,z,B,ce))),Sl=s._values;for(let Vt=0;Vt<Sl.length;Vt++){let sl=Sl[Vt];if(sl!=null){a==0?f=hl[Vt]:h=hl[Vt],sl=""+sl;let en=sl.indexOf(`
`)==-1?[sl]:sl.split(/\n/gm);for(let Ht=0;Ht<en.length;Ht++){let Mi=en[Ht];Oe?(g.save(),g.translate(f,h+Ht*nl),g.rotate(Oe),g.fillText(Mi,0,0),g.restore()):g.fillText(Mi,f,h+Ht*nl)}}}ne.show&&_s(hl,ne.filter(n,ke,t,O,ve),a,r,$e,Qe,ze(ne.width*Me,3),ne.stroke(n,t),ne.dash,ne.cap);let Pl=s.grid;Pl.show&&_s(hl,Pl.filter(n,ke,t,O,ve),a,a==0?2:1,a==0?Et:rt,a==0?at:vt,ze(Pl.width*Me,3),Pl.stroke(n,t),Pl.dash,Pl.cap),$.show&&_s([$e],[1],a==0?1:0,a==0?1:2,a==1?Et:rt,a==1?at:vt,ze($.width*Me,3),$.stroke(n,t),$.dash,$.cap)}yt("drawAxes")}function pn(t){S.forEach((s,r)=>{r>0&&(s._paths=null,t&&(o==1?(s.min=null,s.max=null):s.facets.forEach(a=>{a.min=null,a.max=null})))})}let Qn=!1,bs=!1,Fn=[];function hr(){bs=!1;for(let t=0;t<Fn.length;t++)yt(...Fn[t]);Fn.length=0}function dn(){Qn||(Aa(ci),Qn=!0)}function mr(t,s=!1){Qn=!0,bs=s,t(n),ci(),s&&Fn.length>0&&queueMicrotask(hr)}n.batch=mr;function ci(){if(Tl&&(Cl(),Tl=!1),$t&&(cl(),$t=!1),El){if(Ye(V,xn,xe),Ye(V,Vn,Re),Ye(V,Wn,le),Ye(V,Yn,R),Ye(T,xn,xe),Ye(T,Vn,Re),Ye(T,Wn,le),Ye(T,Yn,R),Ye(v,Wn,qt),Ye(v,Yn,al),x.width=pt(qt*Me),x.height=pt(al*Me),W.forEach(({_el:t,_show:s,_size:r,_pos:a,side:f})=>{if(t!=null)if(s){let h=f===3||f===0?r:0,_=f%2==1;Ye(t,_?"left":"top",a-h),Ye(t,_?"width":"height",r),Ye(t,_?"top":"left",_?Re:xe),Ye(t,_?"height":"width",_?R:le),Hs(t,on)}else il(t,on)}),be=Se=_t=Zt=Nt=Dt=Gt=pl=Ct=null,Fe=1,Gn(!0),xe!=ul||Re!=wl||le!=Pt||R!=Qt){pn(!1);let t=le/Pt,s=R/Qt;if(Ze&&!Kt&&Y.left>=0){Y.left*=t,Y.top*=s,hn&&Fl(hn,pt(Y.left),0,le,R),mn&&Fl(mn,0,pt(Y.top),le,R);for(let r=0;r<ye.length;r++){let a=ye[r];a!=null&&(ft[r]*=t,Jt[r]*=s,Fl(a,gl(ft[r]),gl(Jt[r]),le,R))}}if(Be.show&&!jt&&Be.left>=0&&Be.width>0){Be.left*=t,Be.width*=t,Be.top*=s,Be.height*=s;for(let r in Es)Ye(wn,r,Be[r])}ul=xe,wl=Re,Pt=le,Qt=R}yt("setSize"),El=!1}qt>0&&al>0&&(g.clearRect(0,0,x.width,x.height),yt("drawClear"),ie.forEach(t=>t()),yt("draw")),Be.show&&jt&&($n(Be),jt=!1),Ze&&Kt&&(Xl(null,!0,!1),Kt=!1),ae.show&&ae.live&&ut&&(ks(),ut=!1),d||(d=!0,n.status=1,yt("ready")),I=!1,Qn=!1}n.redraw=(t,s)=>{$t=s||!1,t!==!1?ql(P,b.min,b.max):dn()};function Ss(t,s){let r=C[t];if(r.from==null){if(k==0){let a=r.range(n,s.min,s.max,t);s.min=a[0],s.max=a[1]}if(s.min>s.max){let a=s.min;s.min=s.max,s.max=a}if(k>1&&s.min!=null&&s.max!=null&&s.max-s.min<1e-16)return;t==P&&r.distr==2&&k>0&&(s.min=yl(s.min,l[0]),s.max=yl(s.max,l[0]),s.min==s.max&&s.max++),L[t]=s,Tl=!0,dn()}}n.setScale=Ss;let xs,ys,hn,mn,fi,pi,gn,vn,di,hi,He,qe,Ul=!1;const Mt=Y.drag;let St=Mt.x,xt=Mt.y;Ze&&(Y.x&&(xs=ml(Qr,T)),Y.y&&(ys=ml($r,T)),b.ori==0?(hn=xs,mn=ys):(hn=ys,mn=xs),He=Y.left,qe=Y.top);const Be=n.select=st({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),wn=Be.show?ml(Zr,Be.over?T:V):null;function $n(t,s){if(Be.show){for(let r in t)Be[r]=t[r],r in Es&&Ye(wn,r,t[r]);s!==!1&&yt("setSelect")}}n.setSelect=$n;function gr(t){if(S[t].show)Le&&Hs(_e[t],on);else if(Le&&il(_e[t],on),Ze){let r=Xe?ye[0]:ye[t];r!=null&&Fl(r,-10,-10,le,R)}}function ql(t,s,r){Ss(t,{min:s,max:r})}function Dl(t,s,r,a){s.focus!=null&&Sr(t),s.show!=null&&S.forEach((f,h)=>{h>0&&(t==h||t==null)&&(f.show=s.show,gr(h),o==2?(ql(f.facets[0].scale,null,null),ql(f.facets[1].scale,null,null)):ql(f.scale,null,null),dn())}),r!==!1&&yt("setSeries",t,s),a&&zn("setSeries",n,t,s)}n.setSeries=Dl;function vr(t,s){st(se[t],s)}function wr(t,s){t.fill=we(t.fill||null),t.dir=Te(t.dir,-1),s=s??se.length,se.splice(s,0,t)}function _r(t){t==null?se.length=0:se.splice(t,1)}n.addBand=wr,n.setBand=vr,n.delBand=_r;function br(t,s){S[t].alpha=s,Ze&&ye[t]!=null&&(ye[t].style.opacity=s),Le&&_e[t]&&(_e[t].style.opacity=s)}let Gl,Kl,$l;const _n={focus:!0};function Sr(t){if(t!=$l){let s=t==null,r=ct.alpha!=1;S.forEach((a,f)=>{if(o==1||f>0){let h=s||f==0||f==t;a._focus=s?null:h,r&&br(f,h?1:ct.alpha)}}),$l=t,r&&dn()}}Le&&_l&&Ne(Ni,ue,t=>{Y._lock||(Xt(t),$l!=null&&Dl(null,_n,!0,nt.setSeries))});function Ll(t,s,r){let a=C[s];r&&(t=t/Me-(a.ori==1?Re:xe));let f=le;a.ori==1&&(f=R,t=f-t),a.dir==-1&&(t=f-t);let h=a._min,_=a._max,y=t/f,M=h+(_-h)*y,O=a.distr;return O==3?Tn(10,M):O==4?ma(M,a.asinh):O==100?a.bwd(M):M}function xr(t,s){let r=Ll(t,P,s);return yl(r,l[0],E,D)}n.valToIdx=t=>yl(t,l[0]),n.posToIdx=xr,n.posToVal=Ll,n.valToPos=(t,s,r)=>C[s].ori==0?c(t,C[s],r?vt:le,r?rt:0):u(t,C[s],r?at:R,r?Et:0),n.setCursor=(t,s,r)=>{He=t.left,qe=t.top,Xl(null,s,r)};function mi(t,s){Ye(wn,xn,Be.left=t),Ye(wn,Wn,Be.width=s)}function gi(t,s){Ye(wn,Vn,Be.top=t),Ye(wn,Yn,Be.height=s)}let On=b.ori==0?mi:gi,Nn=b.ori==1?mi:gi;function yr(){if(Le&&ae.live)for(let t=o==2?1:0;t<S.length;t++){if(t==0&&tt)continue;let s=ae.values[t],r=0;for(let a in s)it[t][r++].firstChild.nodeValue=s[a]}}function ks(t,s){if(t!=null&&(t.idxs?t.idxs.forEach((r,a)=>{fe[a]=r}):_a(t.idx)||fe.fill(t.idx),ae.idx=fe[0]),Le&&ae.live){for(let r=0;r<S.length;r++)(r>0||o==1&&!tt)&&kr(r,fe[r]);yr()}ut=!1,s!==!1&&yt("setLegend")}n.setLegend=ks;function kr(t,s){let r=S[t],a=t==0&&U==2?j:l[t],f;tt?f=r.values(n,t,s)??ot:(f=r.value(n,s==null?null:a[s],t,s),f=f==null?ot:{_:f}),ae.values[t]=f}function Xl(t,s,r){di=He,hi=qe,[He,qe]=Y.move(n,He,qe),Y.left=He,Y.top=qe,Ze&&(hn&&Fl(hn,pt(He),0,le,R),mn&&Fl(mn,0,pt(qe),le,R));let a,f=E>D;Gl=Ge,Kl=null;let h=b.ori==0?le:R,_=b.ori==1?le:R;if(He<0||k==0||f){a=Y.idx=null;for(let y=0;y<S.length;y++){let M=ye[y];M!=null&&Fl(M,-10,-10,le,R)}_l&&Dl(null,_n,!0,t==null&&nt.setSeries),ae.live&&(fe.fill(a),ut=!0)}else{let y,M,O;o==1&&(y=b.ori==0?He:qe,M=Ll(y,P),a=Y.idx=yl(M,l[0],E,D),O=N(l[0][a],b,h,0));let z=-10,B=-10,ce=0,Ae=0,ke=!0,ve="",ne="";for(let $=o==2?1:0;$<S.length;$++){let We=S[$],Qe=fe[$],kt=Qe==null?null:o==1?l[$][Qe]:l[$][1][Qe],Oe=Y.dataIdx(n,$,a,M),$e=Oe==null?null:o==1?l[$][Oe]:l[$][1][Oe];if(ut=ut||$e!=kt||Oe!=Qe,fe[$]=Oe,$>0&&We.show){let ll=Oe==null?-10:Oe==a?O:N(o==1?l[0][Oe]:l[$][0][Oe],b,h,0),It=$e==null?-10:q($e,o==1?C[We.scale]:C[We.facets[1].scale],_,0);if(_l&&$e!=null){let dl=b.ori==1?He:qe,bl=ht(ct.dist(n,$,Oe,It,dl));if(bl<Gl){let Rl=ct.bias;if(Rl!=0){let nl=Ll(dl,We.scale),hl=$e>=0?1:-1,Sl=nl>=0?1:-1;Sl==hl&&(Sl==1?Rl==1?$e>=nl:$e<=nl:Rl==1?$e<=nl:$e>=nl)&&(Gl=bl,Kl=$)}else Gl=bl,Kl=$}}if(ut||Xe){let dl,bl;b.ori==0?(dl=ll,bl=It):(dl=It,bl=ll);let Rl,nl,hl,Sl,Pl,Vt,sl=!0,en=lt.bbox;if(en!=null){sl=!1;let Ht=en(n,$);hl=Ht.left,Sl=Ht.top,Rl=Ht.width,nl=Ht.height}else hl=dl,Sl=bl,Rl=nl=lt.size(n,$);if(Vt=lt.fill(n,$),Pl=lt.stroke(n,$),Xe)$==Kl&&Gl<=ct.prox&&(z=hl,B=Sl,ce=Rl,Ae=nl,ke=sl,ve=Vt,ne=Pl);else{let Ht=ye[$];Ht!=null&&(ft[$]=hl,Jt[$]=Sl,Wi(Ht,Rl,nl,sl),Hi(Ht,Vt,Pl),Fl(Ht,gl(hl),gl(Sl),le,R))}}}}if(Xe){let $=ct.prox,We=$l==null?Gl<=$:Gl>$||Kl!=$l;if(ut||We){let Qe=ye[0];Qe!=null&&(ft[0]=z,Jt[0]=B,Wi(Qe,ce,Ae,ke),Hi(Qe,ve,ne),Fl(Qe,gl(z),gl(B),le,R))}}}if(Be.show&&Ul)if(t!=null){let[y,M]=nt.scales,[O,z]=nt.match,[B,ce]=t.cursor.sync.scales,Ae=t.cursor.drag;if(St=Ae._x,xt=Ae._y,St||xt){let{left:ke,top:ve,width:ne,height:$}=t.select,We=t.scales[B].ori,Qe=t.posToVal,kt,Oe,$e,ll,It,dl=y!=null&&O(y,B),bl=M!=null&&z(M,ce);dl&&St?(We==0?(kt=ke,Oe=ne):(kt=ve,Oe=$),$e=C[y],ll=N(Qe(kt,B),$e,h,0),It=N(Qe(kt+Oe,B),$e,h,0),On(kl(ll,It),ht(It-ll))):On(0,h),bl&&xt?(We==1?(kt=ke,Oe=ne):(kt=ve,Oe=$),$e=C[M],ll=q(Qe(kt,ce),$e,_,0),It=q(Qe(kt+Oe,ce),$e,_,0),Nn(kl(ll,It),ht(It-ll))):Nn(0,_)}else As()}else{let y=ht(di-fi),M=ht(hi-pi);if(b.ori==1){let ce=y;y=M,M=ce}St=Mt.x&&y>=Mt.dist,xt=Mt.y&&M>=Mt.dist;let O=Mt.uni;O!=null?St&&xt&&(St=y>=O,xt=M>=O,!St&&!xt&&(M>y?xt=!0:St=!0)):Mt.x&&Mt.y&&(St||xt)&&(St=xt=!0);let z,B;St&&(b.ori==0?(z=gn,B=He):(z=vn,B=qe),On(kl(z,B),ht(B-z)),xt||Nn(0,_)),xt&&(b.ori==1?(z=gn,B=He):(z=vn,B=qe),Nn(kl(z,B),ht(B-z)),St||On(0,h)),!St&&!xt&&(On(0,0),Nn(0,0))}if(Mt._x=St,Mt._y=xt,t==null){if(r){if(Ai!=null){let[y,M]=nt.scales;nt.values[0]=y!=null?Ll(b.ori==0?He:qe,y):null,nt.values[1]=M!=null?Ll(b.ori==1?He:qe,M):null}zn(Rs,n,He,qe,le,R,a)}if(_l){let y=r&&nt.setSeries,M=ct.prox;$l==null?Gl<=M&&Dl(Kl,_n,!0,y):Gl>M?Dl(null,_n,!0,y):Kl!=$l&&Dl(Kl,_n,!0,y)}}ut&&(ae.idx=a,ks()),s!==!1&&yt("setCursor")}let jl=null;Object.defineProperty(n,"rect",{get(){return jl==null&&Gn(!1),jl}});function Gn(t=!1){t?jl=null:(jl=T.getBoundingClientRect(),yt("syncRect",jl))}function vi(t,s,r,a,f,h,_){Y._lock||Ul&&t!=null&&t.movementX==0&&t.movementY==0||(Ts(t,s,r,a,f,h,_,!1,t!=null),t!=null?Xl(null,!0,!0):Xl(s,!0,!1))}function Ts(t,s,r,a,f,h,_,y,M){if(jl==null&&Gn(!1),Xt(t),t!=null)r=t.clientX-jl.left,a=t.clientY-jl.top;else{if(r<0||a<0){He=-10,qe=-10;return}let[O,z]=nt.scales,B=s.cursor.sync,[ce,Ae]=B.values,[ke,ve]=B.scales,[ne,$]=nt.match,We=s.axes[0].side%2==1,Qe=b.ori==0?le:R,kt=b.ori==1?le:R,Oe=We?h:f,$e=We?f:h,ll=We?a:r,It=We?r:a;if(ke!=null?r=ne(O,ke)?p(ce,C[O],Qe,0):-10:r=Qe*(ll/Oe),ve!=null?a=$(z,ve)?p(Ae,C[z],kt,0):-10:a=kt*(It/$e),b.ori==1){let dl=r;r=a,a=dl}}M&&(s==null||s.cursor.event.type==Rs)&&((r<=1||r>=le-1)&&(r=tn(r,le)),(a<=1||a>=R-1)&&(a=tn(a,R))),y?(fi=r,pi=a,[gn,vn]=Y.move(n,r,a)):(He=r,qe=a)}const Es={width:0,height:0,left:0,top:0};function As(){$n(Es,!1)}let wi,_i,bi,Si;function xi(t,s,r,a,f,h,_){Ul=!0,St=xt=Mt._x=Mt._y=!1,Ts(t,s,r,a,f,h,_,!0,!1),t!=null&&(Ne(Ps,Is,yi,!1),zn(Fi,n,gn,vn,le,R,null));let{left:y,top:M,width:O,height:z}=Be;wi=y,_i=M,bi=O,Si=z}function yi(t,s,r,a,f,h,_){Ul=Mt._x=Mt._y=!1,Ts(t,s,r,a,f,h,_,!1,!0);let{left:y,top:M,width:O,height:z}=Be,B=O>0||z>0,ce=wi!=y||_i!=M||bi!=O||Si!=z;if(B&&ce&&$n(Be),Mt.setScale&&B&&ce){let Ae=y,ke=O,ve=M,ne=z;if(b.ori==1&&(Ae=M,ke=z,ve=y,ne=O),St&&ql(P,Ll(Ae,P),Ll(Ae+ke,P)),xt)for(let $ in C){let We=C[$];$!=P&&We.from==null&&We.min!=Ge&&ql($,Ll(ve+ne,$),Ll(ve,$))}As()}else Y.lock&&(Y._lock=!Y._lock,Xl(s,!0,t!=null));t!=null&&(Ut(Ps,Is),zn(Ps,n,He,qe,le,R,null))}function Tr(t,s,r,a,f,h,_){if(Y._lock)return;Xt(t);let y=Ul;if(Ul){let M=!0,O=!0,z=10,B,ce;b.ori==0?(B=St,ce=xt):(B=xt,ce=St),B&&ce&&(M=He<=z||He>=le-z,O=qe<=z||qe>=R-z),B&&M&&(He=He<gn?0:le),ce&&O&&(qe=qe<vn?0:R),Xl(null,!0,!0),Ul=!1}He=-10,qe=-10,fe.fill(null),Xl(null,!0,!0),y&&(Ul=y)}function ki(t,s,r,a,f,h,_){Y._lock||(Xt(t),J(),As(),t!=null&&zn(Gi,n,He,qe,le,R,null))}function Ti(){W.forEach(Ou),Wl(n.width,n.height,!0)}rn(rs,kn,Ti);const bn={};bn.mousedown=xi,bn.mousemove=vi,bn.mouseup=yi,bn.dblclick=ki,bn.setSeries=(t,s,r,a)=>{let f=nt.match[2];r=f(n,s,r),r!=-1&&Dl(r,a,!0,!1)},Ze&&(Ne(Fi,T,xi),Ne(Rs,T,vi),Ne(Oi,T,t=>{Xt(t),Gn(!1)}),Ne(Ni,T,Tr),Ne(Gi,T,ki),Ks.add(n),n.syncRect=Gn);const Xn=n.hooks=e.hooks||{};function yt(t,s,r){bs?Fn.push([t,s,r]):t in Xn&&Xn[t].forEach(a=>{a.call(null,n,s,r)})}(e.plugins||[]).forEach(t=>{for(let s in t.hooks)Xn[s]=(Xn[s]||[]).concat(t.hooks[s])});const Ei=(t,s,r)=>r,nt=st({key:null,setSeries:!1,filters:{pub:ji,sub:ji},scales:[P,S[1]?S[1].scale:null],match:[Ji,Ji,Ei],values:[null,null]},Y.sync);nt.match.length==2&&nt.match.push(Ei),Y.sync=nt;const Ai=nt.key,Ms=Qo(Ai);function zn(t,s,r,a,f,h,_){nt.filters.pub(t,s,r,a,f,h,_)&&Ms.pub(t,s,r,a,f,h,_)}Ms.sub(n);function Er(t,s,r,a,f,h,_){nt.filters.sub(t,s,r,a,f,h,_)&&bn[t](null,s,r,a,f,h,_)}n.pub=Er;function Ar(){Ms.unsub(n),Ks.delete(n),Yt.clear(),Bs(rs,kn,Ti),m.remove(),ue?.remove(),yt("destroy")}n.destroy=Ar;function Cs(){yt("init",e,l),A(l||e.data,!1),L[P]?Ss(P,L[P]):J(),jt=Be.show&&(Be.width>0||Be.height>0),Kt=ut=!0,Wl(e.width,e.height)}return S.forEach(wt),W.forEach(Ol),i?i instanceof HTMLElement?(i.appendChild(m),Cs()):i(n,Cs):Cs(),n}et.assign=st;et.fmtNum=ei;et.rangeNum=as;et.rangeLog=fs;et.rangeAsinh=$s;et.orient=un;et.pxRatio=Me;et.join=Ea;et.fmtDate=li,et.tzDate=Ga;et.sync=Qo;{et.addGap=_u,et.clipGaps=hs;let e=et.paths={points:nr};e.linear=ir,e.stepped=xu,e.bars=yu,e.spline=Tu}var Nu=Lt('<input type="text" class="og-input svelte-3wi8ix" placeholder="1.050" maxlength="5"/>'),Gu=Lt('<span class="estimated-badge svelte-3wi8ix">est</span>'),zu=Lt('<button type="button" class="og-btn svelte-3wi8ix"><span> </span> <!> <svg class="edit-icon svelte-3wi8ix" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg></button>'),Iu=Lt('<span class="estimated-badge svelte-3wi8ix">est</span>'),Vu=Lt("<span> </span> <!>",1),Hu=Lt('<div class="stat-pill prediction-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">ETA</span> <span class="stat-value prediction svelte-3wi8ix"> </span> <span class="prediction-badge svelte-3wi8ix">pred</span></div>'),Bu=Lt('<div class="stats-panel svelte-3wi8ix"><div class="stats-grid svelte-3wi8ix"><div class="stats-column svelte-3wi8ix"><h4 class="stats-header svelte-3wi8ix"> </h4> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Current</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Start</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">High</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Low</span> <span class="stat-value svelte-3wi8ix"> </span></div></div> <div class="stats-column svelte-3wi8ix"><h4 class="stats-header svelte-3wi8ix">Temperature</h4> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Current</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Average</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">High</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Low</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div></div></div> <div class="stats-bottom svelte-3wi8ix"><div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Rate</span> <span> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Duration</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">At SG</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill og-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">OG</span> <!></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Atten.</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">ABV</span> <span class="stat-value svelte-3wi8ix"> </span></div> <!></div></div>'),Wu=Lt('<div class="stats-empty svelte-3wi8ix"><span>Not enough data for statistics</span></div>');function Yu(e,l){_o(l,!0);const i=.5,n=1.2,o=0,c=100;function u(b,U){const N=[...b].sort((G,Ie)=>G-Ie),q=U/100*(N.length-1),L=Math.floor(q),te=Math.ceil(q);return L===te?N[L]:N[L]+(N[te]-N[L])*(q-L)}let p=ss(l,"trend",3,null),d=Je(!1),m=Je(""),x=Je(null),g=Il(()=>is.config.temp_units==="C"),v=Il(Ir),V=Il(xo),T=Il(()=>{if(l.readings.length===0)return null;const b=l.readings.filter(ge=>ge.status!=="invalid");if(b.length===0)return null;const U=[...b].sort((ge,Tt)=>new Date(ge.timestamp).getTime()-new Date(Tt.timestamp).getTime()),N=U[0],q=U[U.length-1],L=U.map(ge=>ge.sg_calibrated??ge.sg_raw).filter(ge=>ge!==null&&ge>=i&&ge<=n),te=U.map(ge=>ge.temp_calibrated??ge.temp_raw).filter(ge=>ge!==null&&ge>=o&&ge<=c);if(L.length===0)return null;const G=L[L.length-1],Ie=L[0],Ee=u(L,95),de=u(L,5),fe=new Date(N.timestamp).getTime(),ae=new Date(q.timestamp).getTime(),Le=(ae-fe)/(1e3*60*60*24),Ze=Le>0?(G-Ie)/Le:0;let me=null,ue=null,Ve=null,Pe=null;if(te.length>0){const ge=te[te.length-1],Tt=te.reduce((Ne,Ut)=>Ne+Ut,0)/te.length,Rt=u(te,95),Yt=u(te,5);me=w(g)?ge:ge*9/5+32,ue=w(g)?Tt:Tt*9/5+32,Ve=w(g)?Rt:Rt*9/5+32,Pe=w(g)?Yt:Yt*9/5+32}let _e=0;const it=.001;for(let ge=L.length-2;ge>=0;ge--)if(Math.abs(L[ge]-G)>it){const Tt=new Date(U[ge+1].timestamp).getTime();_e=(ae-Tt)/(1e3*60*60*24);break}let gt=null,tt=null;const ot=l.originalGravity??Ee,Wt=l.originalGravity===null;return ot>1&&ot>G&&(gt=(ot-G)/(ot-1)*100,tt=(ot-G)*131.25),{currentSg:G,firstSg:Ie,highSg:Ee,lowSg:de,currentTemp:me,avgTemp:ue,highTemp:Ve,lowTemp:Pe,fermRate:Ze,durationDays:Le,daysAtCurrentSg:_e,apparentAttenuation:gt,abv:tt,ogIsEstimated:Wt,effectiveOg:ot}});function F(){he(m,l.originalGravity?.toFixed(3)??"",!0),he(d,!0),setTimeout(()=>w(x)?.focus(),0)}function Q(){const b=w(m).trim();if(!b)l.onOgChange?.(null);else{const U=parseFloat(b);!isNaN(U)&&U>=.99&&U<=1.2&&l.onOgChange?.(U)}he(d,!1)}function X(b){b.key==="Enter"?Q():b.key==="Escape"&&he(d,!1)}function S(b){return Bn(b)}function W(b){return`${b>=0?"+":""}${b.toFixed(4)}`}function C(b){return b<1?`${(b*24).toFixed(1)}h`:`${b.toFixed(1)}d`}function se(b){return b===null?"--":b.toFixed(1)}function P(b){return b===null?"--":`${b.toFixed(1)}%`}var re=zs(),ie=ns(re);{var pe=b=>{var U=Bu(),N=Z(U),q=Z(N),L=Z(q),te=Z(L,!0);K(L);var G=ee(L,2),Ie=ee(Z(G),2),Ee=Z(Ie,!0);K(Ie),K(G);var de=ee(G,2),fe=ee(Z(de),2),ae=Z(fe,!0);K(fe),K(de);var Y=ee(de,2),Le=ee(Z(Y),2),Ze=Z(Le,!0);K(Le),K(Y);var me=ee(Y,2),ue=ee(Z(me),2),Ve=Z(ue,!0);K(ue),K(me),K(q);var Pe=ee(q,2),_e=ee(Z(Pe),2),it=ee(Z(_e),2),gt=Z(it,!0),tt=ee(gt),ot=Z(tt,!0);K(tt),K(it),K(_e);var Wt=ee(_e,2),ge=ee(Z(Wt),2),Tt=Z(ge,!0),Rt=ee(Tt),Yt=Z(Rt,!0);K(Rt),K(ge),K(Wt);var Ne=ee(Wt,2),Ut=ee(Z(Ne),2),qt=Z(Ut,!0),al=ee(qt),le=Z(al,!0);K(al),K(Ut),K(Ne);var R=ee(Ne,2),xe=ee(Z(R),2),Re=Z(xe,!0),ul=ee(Re),wl=Z(ul,!0);K(ul),K(xe),K(R),K(Pe),K(N);var Pt=ee(N,2),Qt=Z(Pt),rt=ee(Z(Qt),2);let Et;var vt=Z(rt);K(rt),K(Qt);var at=ee(Qt,2),Tl=ee(Z(at),2),El=Z(Tl,!0);K(Tl),K(at);var $t=ee(at,2),Kt=ee(Z($t),2),jt=Z(Kt,!0);K(Kt),K($t);var ut=ee($t,2),Wl=ee(Z(ut),2);{var Yl=Xe=>{var ye=Nu();Lr(ye),ye.__keydown=X,So(ye,ft=>he(x,ft),()=>w(x)),Mr("blur",ye,Q),Vr(ye,()=>w(m),ft=>he(m,ft)),dt(Xe,ye)},Rn=Xe=>{var ye=zs(),ft=ns(ye);{var Jt=wt=>{var Ft=zu();Ft.__click=F;var Ot=Z(Ft);let At;var Ol=Z(Ot,!0);K(Ot);var el=ee(Ot,2);{var Ml=Ue=>{var k=Gu();dt(Ue,k)};vl(el,Ue=>{w(T).ogIsEstimated&&Ue(Ml)})}nn(2),K(Ft),Vl(Ue=>{sn(Ft,"title",w(T).ogIsEstimated?"Estimated from high reading - click to set actual OG":"Click to edit Original Gravity"),At=zl(Ot,1,"stat-value svelte-3wi8ix",null,At,{estimated:w(T).ogIsEstimated}),Ke(Ol,Ue)},[()=>S(w(T).effectiveOg)]),dt(wt,Ft)},Al=wt=>{var Ft=Vu(),Ot=ns(Ft);let At;var Ol=Z(Ot,!0);K(Ot);var el=ee(Ot,2);{var Ml=Ue=>{var k=Iu();dt(Ue,k)};vl(el,Ue=>{w(T).ogIsEstimated&&Ue(Ml)})}Vl(Ue=>{At=zl(Ot,1,"stat-value svelte-3wi8ix",null,At,{estimated:w(T).ogIsEstimated}),Ke(Ol,Ue)},[()=>S(w(T).effectiveOg)]),dt(wt,Ft)};vl(ft,wt=>{l.onOgChange?wt(Jt):wt(Al,!1)},!0)}dt(Xe,ye)};vl(Wl,Xe=>{l.onOgChange&&w(d)?Xe(Yl):Xe(Rn,!1)})}K(ut);var cl=ee(ut,2),Ql=ee(Z(cl),2),Pn=Z(Ql,!0);K(Ql),K(cl);var fl=ee(cl,2),Xt=ee(Z(fl),2),lt=Z(Xt,!0);K(Xt),K(fl);var ct=ee(fl,2);{var _l=Xe=>{var ye=Hu(),ft=ee(Z(ye),2),Jt=Z(ft,!0);K(ft),nn(2),K(ye),Vl((Al,wt)=>{sn(ye,"title",`Estimated time until target FG (R=${Al??""})`),Ke(Jt,wt)},[()=>p().r2.toFixed(2),()=>C(p().daysToFg)]),dt(Xe,ye)};vl(ct,Xe=>{p()?.daysToFg!==null&&p()?.daysToFg!==void 0&&Xe(_l)})}K(Pt),K(U),Vl((Xe,ye,ft,Jt,Al,wt,Ft,Ot,At,Ol,el,Ml,Ue)=>{Ke(te,w(V)==="SG"?"Gravity":w(V)==="P"?"Plato":"Brix"),Ke(Ee,Xe),Ke(ae,ye),Ke(Ze,ft),Ke(Ve,Jt),Ke(gt,Al),Ke(ot,w(v)),Ke(Tt,wt),Ke(Yt,w(v)),Ke(qt,Ft),Ke(le,w(v)),Ke(Re,Ot),Ke(wl,w(v)),Et=zl(rt,1,"stat-value rate svelte-3wi8ix",null,Et,{fermenting:w(T).fermRate<0}),Ke(vt,`${At??""}/day`),Ke(El,Ol),Ke(jt,el),Ke(Pn,Ml),Ke(lt,Ue)},[()=>S(w(T).currentSg),()=>S(w(T).firstSg),()=>S(w(T).highSg),()=>S(w(T).lowSg),()=>se(w(T).currentTemp),()=>se(w(T).avgTemp),()=>se(w(T).highTemp),()=>se(w(T).lowTemp),()=>W(w(T).fermRate),()=>C(w(T).durationDays),()=>C(w(T).daysAtCurrentSg),()=>P(w(T).apparentAttenuation),()=>P(w(T).abv)]),dt(b,U)},oe=b=>{var U=Wu();dt(b,U)};vl(ie,b=>{w(T)?b(pe):b(oe,!1)})}dt(e,re),bo()}wo(["keydown","click"]);var Uu=Lt('<button type="button"> </button>'),qu=Lt("<option> </option>"),Ku=Lt('<button type="button"><span class="legend-dot anomaly-dot svelte-12kwequ"></span> <span> </span></button>'),ju=Lt('<button type="button"><span class="legend-line legend-line-dotted svelte-12kwequ"></span> <span>Battery</span></button>'),Ju=Lt('<div class="loading-overlay svelte-12kwequ"><div class="loading-spinner svelte-12kwequ"></div></div>'),Zu=Lt('<div class="chart-error svelte-12kwequ"><span>Failed to load chart</span> <button type="button" class="retry-btn svelte-12kwequ">Retry</button></div>'),Qu=Lt('<div class="chart-empty svelte-12kwequ"><span>No historical data yet</span> <span class="text-xs opacity-60">Data will appear as readings are logged</span></div>'),$u=Lt('<div class="chart-wrapper svelte-12kwequ"><div class="chart-controls svelte-12kwequ"><div class="flex items-center gap-1.5"></div> <div class="controls-right svelte-12kwequ"><div class="refresh-control svelte-12kwequ"><label for="refreshInterval" class="svelte-12kwequ">Refresh</label> <select id="refreshInterval" class="refresh-select svelte-12kwequ"></select></div> <div class="chart-legend svelte-12kwequ"><span class="legend-item svelte-12kwequ"><span class="legend-dot svelte-12kwequ" style="background: var(--tilt-yellow);"></span> <span>SG</span></span> <span class="legend-item svelte-12kwequ"><span class="legend-line svelte-12kwequ"></span> <span>Wort</span></span> <button type="button"><span class="legend-line legend-line-dotted svelte-12kwequ"></span> <span>Ambient</span></button> <button type="button"><span class="legend-line legend-line-dashed svelte-12kwequ"></span> <span>Chamber</span></button> <button type="button"><span class="legend-line legend-line-dashed svelte-12kwequ"></span> <span>Trend</span></button> <!> <!></div></div></div> <div class="chart-container svelte-12kwequ"><!> <!></div> <!></div>');function pc(e,l){_o(l,!0);const i="brewsignal_chart_refresh_minutes",n=[{label:"Off",value:0},{label:"1 min",value:1},{label:"3 min",value:3},{label:"5 min",value:5},{label:"10 min",value:10}];let o=Il(()=>is.config.smoothing_enabled),c=Il(()=>is.config.smoothing_samples),u=Je("UTC"),p=Je(0),d=Je(3),m=ss(l,"deviceColor",3,"BLACK"),x=ss(l,"originalGravity",3,null),g=ss(l,"controlEvents",19,()=>[]),v=Il(()=>is.config.temp_units==="C"),V=Il(xo),T,F=null,Q=Je(!0),X=Je(null),S=Je(24),W=Je(In([])),C=Je(In([])),se=Je(In([])),P=Je(null),re=Je(null),ie=Je(!1);const pe={RED:"#f43f5e",GREEN:"#10b981",BLACK:"#6b7280",PURPLE:"#a78bfa",ORANGE:"#fb923c",BLUE:"#60a5fa",YELLOW:"#facc15",PINK:"#f472b6"},oe="#facc15",b="rgba(250, 204, 21, 0.3)",U="#71717a",N="#a1a1aa",q="rgba(255, 255, 255, 0.04)",L="#22d3ee",te="#a78bfa",G="rgba(250, 204, 21, 0.5)",Ie="#ef4444",Ee="#22c55e",de="brewsignal_chart_trend_enabled";let fe=Je(!0);const ae="brewsignal_chart_ambient_enabled",Y="brewsignal_chart_chamber_enabled",Le="brewsignal_chart_anomaly_enabled",Ze="brewsignal_chart_battery_enabled";let me=Je(!0),ue=Je(!0),Ve=Je(!0),Pe=Je(!0),_e=Je(!1),it=Je(In([])),gt=Je(In([]));function tt(k,E,D=1.01){const H=[];for(let je=0;je<k.length;je++)E[je]!==null&&H.push([k[je],E[je]]);if(H.length<10)return null;const j=H.length;let I=0,A=0,J=0,be=0;for(const[je,Ce]of H)I+=je,A+=Ce,J+=je*Ce,be+=je*je;const Se=j*be-I*I;if(Math.abs(Se)<1e-10)return null;const _t=(j*J-I*A)/Se,Ct=(A-_t*I)/j,Zt=A/j;let Nt=0,Dt=0;for(const[je,Ce]of H){const bt=_t*je+Ct;Nt+=(Ce-bt)**2,Dt+=(Ce-Zt)**2}const Gt=Dt>0?1-Nt/Dt:0;let pl=null,Fe=null;if(_t<0&&Gt>.3){const je=k[k.length-1],Ce=(D-Ct)/_t;Ce>je&&(Fe=(Ce-je)/(1440*60),Fe>0&&Fe<60?pl=D:Fe=null)}return{slope:_t,intercept:Ct,r2:Gt,predictedFg:pl,daysToFg:Fe}}function ot(k){const E=[];let D=null,H=null;for(const I of k){const A=Ne(I.timestamp);I.action==="heat_on"?D=A:I.action==="heat_off"&&D!==null?(E.push({type:"heating",startTime:D,endTime:A}),D=null):I.action==="cool_on"?H=A:I.action==="cool_off"&&H!==null&&(E.push({type:"cooling",startTime:H,endTime:A}),H=null)}const j=Date.now()/1e3;return D!==null&&E.push({type:"heating",startTime:D,endTime:j}),H!==null&&E.push({type:"cooling",startTime:H,endTime:j}),E}function Wt(k,E){return k.map(D=>E.slope*D+E.intercept)}function ge(k,E,D){const H=new Date(k*1e3);try{return D?H.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:E}):H.toLocaleDateString("en-AU",{month:"short",day:"numeric",timeZone:E})}catch(j){return console.warn("Invalid timezone:",E,j),D?H.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!1}):H.toLocaleDateString("en-AU",{month:"short",day:"numeric"})}}function Tt(k,E,D){const H=oe,j=pe[m()]||N;return{width:k,height:220,padding:[16,12,0,0],cursor:{show:!0,x:!0,y:!0,drag:{x:!1,y:!1,setScale:!1}},legend:{show:!0,live:!0,markers:{show:!1}},hooks:{setCursor:[I=>{const A=I.cursor.idx;if(A==null)return;const J=I.root.querySelector(".u-legend");J&&(J.style.cssText=`
							position: absolute;
							top: 12px;
							left: 12px;
							background: rgba(24, 24, 27, 0.95);
							border: 1px solid var(--border-default);
							border-radius: 0.5rem;
							padding: 0.75rem;
							font-family: 'JetBrains Mono', monospace;
							font-size: 0.6875rem;
							pointer-events: none;
							box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3);
							backdrop-filter: blur(8px);
						`)}]},scales:{x:{time:!0},sg:{auto:!0,range:(I,A,J)=>{const be=(J-A)*.1||.005;return[A-be,J+be]}},temp:{auto:!0,range:(I,A,J)=>{const be=J-A,Se=10;if(be<Se){const Ct=(J+A)/2;return[Ct-Se/2,Ct+Se/2]}const _t=be*.1;return[A-_t,J+_t]}},battery:{auto:!1,range:[0,105]}},axes:[{stroke:U,grid:{stroke:q,width:1},ticks:{stroke:q,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(I,A)=>A.map(J=>ge(J,D,w(S)<=24))},{scale:"sg",stroke:H,grid:{stroke:q,width:1},ticks:{stroke:q,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(I,A)=>A.map(J=>Bn(J)),side:3},{scale:"temp",stroke:j,grid:{show:!1},ticks:{stroke:q,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(I,A)=>A.map(J=>J.toFixed(0)+""),side:1}],series:[{value:(I,A)=>ge(A,D,!1)+" "+ge(A,D,!0)},{label:w(V)==="SG"?"Gravity":w(V)==="P"?"Plato":"Brix",scale:"sg",stroke:H,width:2,value:(I,A)=>A!==null?Bn(A):"--",fill:(I,A)=>{const J=I.ctx.createLinearGradient(0,I.bbox.top,0,I.bbox.top+I.bbox.height);return J.addColorStop(0,b),J.addColorStop(1,"transparent"),J},points:{show:!1},paths:et.paths.spline?.()},{label:"Wort",scale:"temp",stroke:j,width:1.5,dash:[4,4],value:(I,A)=>A!==null?A.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.()},{label:"Ambient",scale:"temp",stroke:L,width:1.5,dash:[2,4],value:(I,A)=>A!==null?A.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(me)},{label:"Chamber",scale:"temp",stroke:te,width:1.5,dash:[4,2],value:(I,A)=>A!==null?A.toFixed(1)+"":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(ue)},{label:"Trend",scale:"sg",stroke:G,width:2,dash:[8,4],value:(I,A)=>A!==null?Bn(A):"--",points:{show:!1},show:w(fe)},{label:"Anomaly",scale:"sg",stroke:Ie,width:2,value:(I,A)=>A!==null?Bn(A)+" ":"--",points:{show:!0,size:10,fill:Ie,stroke:"#ffffff",width:2},paths:()=>null,show:w(Ve)},{label:"Battery",scale:"battery",stroke:Ee,width:1.5,dash:[2,2],value:(I,A)=>A!==null?A.toFixed(0)+"%":"--",points:{show:!1},paths:et.paths.spline?.(),show:w(Pe)}]}}function Rt(k,E){if(E<=1)return k;const D=[];for(let H=0;H<k.length;H++){const j=[],I=Math.floor(E/2);for(let A=Math.max(0,H-I);A<=Math.min(k.length-1,H+I);A++){const J=k[A];J!==null&&j.push(J)}j.length>0?D.push(j.reduce((A,J)=>A+J,0)/j.length):D.push(null)}return D}function Yt(k,E,D,H,j,I,A){if(k.length<=A)return[k,E,D,H,j,I];const J=Math.ceil(k.length/A),be=[],Se=[],_t=[],Ct=[],Zt=[],Nt=[];for(let Dt=0;Dt<k.length;Dt+=J){const Gt=Math.min(Dt+J,k.length);let pl=0,Fe=0,je=0,Ce=0,bt=0,tl=0,Cl=0,Nl=0,cn=0,fn=0;for(let zt=Dt;zt<Gt;zt++)E[zt]!==null&&(pl+=E[zt],Fe++),D[zt]!==null&&(je+=D[zt],Ce++),H[zt]!==null&&(bt+=H[zt],tl++),j[zt]!==null&&(Cl+=j[zt],Nl++),I[zt]!==null&&(cn+=I[zt],fn++);be.push(k[Math.floor((Dt+Gt-1)/2)]),Se.push(Fe>0?pl/Fe:null),_t.push(Ce>0?je/Ce:null),Ct.push(tl>0?bt/tl:null),Zt.push(Nl>0?Cl/Nl:null),Nt.push(fn>0?cn/fn:null)}return[be,Se,_t,Ct,Zt,Nt]}function Ne(k){return!k.endsWith("Z")&&!k.match(/[+-]\d{2}:\d{2}$/)&&(k=k+"Z"),new Date(k).getTime()/1e3}function Ut(k,E,D){if(k.length===0||E.length===0)return E.map(()=>null);const H=[...k].sort((A,J)=>Ne(A.timestamp)-Ne(J.timestamp)),j=H.map(A=>Ne(A.timestamp)),I=H.map(A=>A.temperature===null?null:D?A.temperature:A.temperature*9/5+32);return E.map(A=>{let J=null,be=null;for(let Se=0;Se<j.length;Se++)if(j[Se]<=A&&(J={time:j[Se],temp:I[Se]}),j[Se]>=A&&be===null){be={time:j[Se],temp:I[Se]};break}if(J&&be&&J.temp!==null&&be.temp!==null){if(J.time===be.time)return J.temp;const Se=(A-J.time)/(be.time-J.time);return J.temp+Se*(be.temp-J.temp)}return J!==null&&J.temp!==null?J.temp:be!==null&&be.temp!==null?be.temp:null})}function qt(k,E,D,H){const j=[...k].reverse();let I=[],A=[],J=[],be=[],Se=[];const _t=[];let Ct=!1;for(const Ce of j){const bt=Ne(Ce.timestamp),tl=Ce.sg_calibrated??Ce.sg_raw;if(I.push(bt),A.push(tl),Ce.is_anomaly&&tl!==null){Se.push(tl);let Nl=[];if(Ce.anomaly_reasons)try{Nl=JSON.parse(Ce.anomaly_reasons)}catch{Nl=Ce.anomaly_reasons.split(",").map(cn=>cn.trim())}_t.push({timestamp:bt,sg:tl,reasons:Nl})}else Se.push(null);const Cl=Ce.temp_calibrated??Ce.temp_raw;Cl!==null?J.push(H?Cl:Cl*9/5+32):J.push(null),Ce.battery_percent!==null&&Ce.battery_percent!==void 0?(be.push(Ce.battery_percent),Ct=!0):be.push(null)}he(_e,Ct,!0),he(it,_t,!0);let Zt=Ut(E,I,H),Nt=Ut(D,I,H);w(o)&&w(c)>1&&(A=Rt(A,w(c)),J=Rt(J,w(c)),Zt=Rt(Zt,w(c)),Nt=Rt(Nt,w(c)));const Dt=500,Gt=[...I],pl=[...Se];[I,A,J,Zt,Nt,be]=Yt(I,A,J,Zt,Nt,be,Dt),Se=I.map(Ce=>{for(let bt=0;bt<Gt.length;bt++)if(pl[bt]!==null){const tl=Math.abs(Gt[bt]-Ce),Cl=(Gt[Gt.length-1]-Gt[0])/Dt;if(tl<=Cl)return pl[bt]}return null});const Fe=tt(I,A);he(P,Fe,!0);const je=Fe?Wt(I,Fe):I.map(()=>null);return[I,A,J,Zt,Nt,je,Se,be]}const al=3e4;async function le(k=!1){const D=Date.now()-w(p);if(!(!k&&w(p)>0&&D<al)){he(Q,!0),he(X,null);try{if(!w(re)){const H=await Or(l.batchId);he(re,H.device_id??null,!0),he(ie,["completed","conditioning","archived"].includes(H.status),!0),w(ie)&&w(S)!==0&&he(S,0)}if(w(re)){const H=w(S)>0?w(S):void 0,[j,I,A]=await Promise.all([Nr(w(re),H,l.batchId),Gr(H??720).catch(()=>[]),zr(H??720).catch(()=>[])]);he(W,j,!0),he(C,I,!0),he(se,A,!0),R()}else he(W,[],!0),he(C,[],!0),he(se,[],!0),he(X,"No device assigned to this batch")}catch(H){he(X,H instanceof Error?H.message:"Failed to load data",!0)}finally{he(p,Date.now(),!0),he(Q,!1)}}}function R(){if(!T||w(W).length===0)return;const k=qt(w(W),w(C),w(se),w(v)),E=Tt(T.clientWidth,w(v),w(u));F&&F.destroy(),F=new et(E,k,T)}function xe(){F&&T&&F.setSize({width:T.clientWidth,height:220})}let Re=null;function ul(){if(Re&&(clearInterval(Re),Re=null),w(d)>0){const k=w(d)*60*1e3;Re=setInterval(()=>{w(Q)||le(!1)},k)}}Cr(async()=>{const k=localStorage.getItem(i);if(k!==null){const A=parseInt(k,10);Number.isNaN(A)||he(d,A,!0)}const E=localStorage.getItem(de);E!==null&&he(fe,E==="true");const D=localStorage.getItem(ae);D!==null&&he(me,D==="true");const H=localStorage.getItem(Y);H!==null&&he(ue,H==="true");const j=localStorage.getItem(Le);j!==null&&he(Ve,j==="true");const I=localStorage.getItem(Ze);I!==null&&he(Pe,I==="true");try{const A=await fetch("/api/system/timezone");if(A.ok){const J=await A.json();he(u,J.timezone||"UTC",!0)}}catch{console.warn("Failed to fetch system timezone, using UTC")}await le(!0),window.addEventListener("resize",xe),ul()}),Dr(()=>{F?.destroy(),window.removeEventListener("resize",xe),Re&&clearInterval(Re)}),Ds(()=>{g()&&g().length>0?he(gt,ot(g()),!0):he(gt,[],!0)}),Ds(()=>{w(v)!==void 0&&w(W).length>0&&T&&R()}),Ds(()=>{w(o),w(c),w(W).length>0&&T&&R()});function wl(k){const E=Number(k.target.value);he(d,E,!0),localStorage.setItem(i,String(E)),ul(),le(!0)}function Pt(){he(fe,!w(fe)),localStorage.setItem(de,String(w(fe))),F&&F.setSeries(5,{show:w(fe)})}function Qt(){he(me,!w(me)),localStorage.setItem(ae,String(w(me))),F&&F.setSeries(3,{show:w(me)})}function rt(){he(ue,!w(ue)),localStorage.setItem(Y,String(w(ue))),F&&F.setSeries(4,{show:w(ue)})}function Et(){he(Ve,!w(Ve)),localStorage.setItem(Le,String(w(Ve))),F&&F.setSeries(6,{show:w(Ve)})}function vt(){he(Pe,!w(Pe)),localStorage.setItem(Ze,String(w(Pe))),F&&F.setSeries(7,{show:w(Pe)})}var at=$u(),Tl=Z(at),El=Z(Tl);Ci(El,21,()=>Fr,Di,(k,E)=>{var D=Uu();let H;D.__click=()=>{w(S)!==w(E).hours&&(he(S,w(E).hours,!0),le(!0))};var j=Z(D,!0);K(D),Vl(()=>{H=zl(D,1,"range-btn svelte-12kwequ",null,H,{active:w(S)===w(E).hours}),Ke(j,w(E).label)}),dt(k,D)}),K(El);var $t=ee(El,2),Kt=Z($t),jt=ee(Z(Kt),2);jt.__change=wl,Ci(jt,21,()=>n,Di,(k,E)=>{var D=qu(),H=Z(D,!0);K(D);var j={};Vl(()=>{Ke(H,w(E).label),j!==(j=w(E).value)&&(D.value=(D.__value=w(E).value)??"")}),dt(k,D)}),K(jt);var ut;Rr(jt),K(Kt);var Wl=ee(Kt,2),Yl=ee(Z(Wl),2),Rn=Z(Yl);nn(2),K(Yl);var cl=ee(Yl,2);let Ql;cl.__click=Qt;var Pn=Z(cl);Sn(Pn,"background: #22d3ee;"),nn(2),K(cl);var fl=ee(cl,2);let Xt;fl.__click=rt;var lt=Z(fl);Sn(lt,"background: #a78bfa;"),nn(2),K(fl);var ct=ee(fl,2);let _l;ct.__click=Pt;var Xe=Z(ct);Sn(Xe,"background: rgba(250, 204, 21, 0.5);"),nn(2),K(ct);var ye=ee(ct,2);{var ft=k=>{var E=Ku();let D;E.__click=Et;var H=Z(E);Sn(H,"background: #ef4444;");var j=ee(H,2),I=Z(j);K(j),K(E),Vl(()=>{D=zl(E,1,"legend-item legend-toggle anomaly-toggle svelte-12kwequ",null,D,{"legend-disabled":!w(Ve)}),sn(E,"title",w(Ve)?"Hide anomaly markers":"Show anomaly markers"),Ke(I,`Anomalies (${w(it).length??""})`)}),dt(k,E)};vl(ye,k=>{w(it).length>0&&k(ft)})}var Jt=ee(ye,2);{var Al=k=>{var E=ju();let D;E.__click=vt;var H=Z(E);Sn(H,"background: #22c55e;"),nn(2),K(E),Vl(()=>{D=zl(E,1,"legend-item legend-toggle svelte-12kwequ",null,D,{"legend-disabled":!w(Pe)}),sn(E,"title",w(Pe)?"Hide battery level":"Show battery level")}),dt(k,E)};vl(Jt,k=>{w(_e)&&k(Al)})}K(Wl),K($t),K(Tl);var wt=ee(Tl,2),Ft=Z(wt);{var Ot=k=>{var E=Ju();dt(k,E)};vl(Ft,k=>{w(Q)&&k(Ot)})}var At=ee(Ft,2);{var Ol=k=>{var E=Zu(),D=ee(Z(E),2);D.__click=()=>le(!0),K(E),dt(k,E)},el=k=>{var E=zs(),D=ns(E);{var H=j=>{var I=Qu();dt(j,I)};vl(D,j=>{w(W).length===0&&j(H)},!0)}dt(k,E)};vl(At,k=>{w(X)?k(Ol):k(el,!1)})}K(wt),So(wt,k=>T=k,()=>T);var Ml=ee(wt,2);{var Ue=k=>{{let E=Il(()=>w(P)?{predictedFg:w(P).predictedFg,daysToFg:w(P).daysToFg,r2:w(P).r2}:null);Yu(k,{get readings(){return w(W)},get originalGravity(){return x()},get trend(){return w(E)}})}};vl(Ml,k=>{w(W).length>0&&k(Ue)})}K(at),Vl(()=>{ut!==(ut=w(d))&&(jt.value=(jt.__value=w(d))??"",Pr(jt,w(d))),Sn(Rn,`background: ${(pe[m()]||"var(--text-secondary)")??""};`),Ql=zl(cl,1,"legend-item legend-toggle svelte-12kwequ",null,Ql,{"legend-disabled":!w(me)}),sn(cl,"title",w(me)?"Hide ambient temp":"Show ambient temp"),Xt=zl(fl,1,"legend-item legend-toggle svelte-12kwequ",null,Xt,{"legend-disabled":!w(ue)}),sn(fl,"title",w(ue)?"Hide chamber temp":"Show chamber temp"),_l=zl(ct,1,"legend-item legend-toggle svelte-12kwequ",null,_l,{"legend-disabled":!w(fe)}),sn(ct,"title",w(fe)?"Hide trend line":"Show trend line")}),dt(e,at),bo()}wo(["click","change"]);export{pc as F};
