import{d as ya,f as d,a as v,s as g,c as Pe,e as ut}from"../chunks/orbuQWWI.js";import{a as xa,s as j,p as ne,o as wa,f as oe,d as s,e as r,h as e,c as l,t as D,g as Ca,A as Aa,ax as Fa,r as a,n as La,i as _t,u as fe,ay as gt}from"../chunks/pAodAtlG.js";import{e as ce,i as at}from"../chunks/0whDC7Rl.js";import{i as w}from"../chunks/ucc1DXe2.js";import{h as Pa}from"../chunks/DJBMpqSf.js";import{r as Z}from"../chunks/CYuZshLQ.js";import{s as De}from"../chunks/Cpbxxhlc.js";import{s as mt}from"../chunks/C-5oeV0L.js";import{b as J,a as Da}from"../chunks/Dh5hCwq1.js";import{b as ke}from"../chunks/RboyDiSx.js";import{t as Ha,v as Oa,w as Ma,g as $a,x as ja,h as Ta,y as Ba,z as Sa,A as Ea,B as Ya,C as Ra,D as Na,E as Va,F as Wa,G as qa,H as Ia}from"../chunks/DsM_eXzM.js";var Ga=d("<option> </option>"),za=d('<select class="filter-select svelte-c8k2rg"><option>All Types</option><option>Ale</option><option>Lager</option><option>Wine</option><option>Wild</option></select> <select class="filter-select svelte-c8k2rg"><option>All Producers</option><!></select>',1),Qa=d("<option> </option>"),Ua=d('<select class="filter-select svelte-c8k2rg"><option>All Purposes</option><option>Bittering</option><option>Aroma</option><option>Dual Purpose</option></select> <select class="filter-select svelte-c8k2rg"><option>All Origins</option><!></select>',1),Ja=d("<option> </option>"),Ka=d("<option> </option>"),Xa=d('<select class="filter-select svelte-c8k2rg"><option>All Types</option><!></select> <select class="filter-select svelte-c8k2rg"><option>All Maltsters</option><!></select>',1),Za=d('<div class="loading-state svelte-c8k2rg"><div class="spinner svelte-c8k2rg"></div> <p>Loading library...</p></div>'),er=d('<div class="error-state svelte-c8k2rg"><p class="error-message svelte-c8k2rg"> </p> <button type="button" class="retry-btn svelte-c8k2rg">Retry</button></div>'),tr=d('<div class="empty-state svelte-c8k2rg"><p class="empty-description svelte-c8k2rg">No yeasts match your filters</p></div>'),ar=d('<button type="button" class="delete-btn svelte-c8k2rg" aria-label="Delete"><svg class="icon-sm svelte-c8k2rg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),rr=d('<span class="item-type svelte-c8k2rg"> </span>'),sr=d('<span class="item-form svelte-c8k2rg"> </span>'),lr=d('<span class="custom-badge svelte-c8k2rg">custom</span>'),or=d('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Flocculation</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),ir=d('<p class="item-description svelte-c8k2rg"> </p>'),vr=d('<div><div class="item-header svelte-c8k2rg"><h3 class="item-name svelte-c8k2rg"> </h3> <!></div> <div class="item-meta svelte-c8k2rg"><!> <!> <!></div> <div class="item-specs svelte-c8k2rg"><div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Attenuation</span> <span class="spec-value svelte-c8k2rg"> </span></div> <div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Temp Range</span> <span class="spec-value svelte-c8k2rg"> </span></div> <!></div> <!></div>'),nr=d('<div class="group svelte-c8k2rg"><h2 class="group-name svelte-c8k2rg"> <span class="group-count svelte-c8k2rg"> </span></h2> <div class="items-grid svelte-c8k2rg"></div></div>'),cr=d('<div class="items-list svelte-c8k2rg"></div>'),dr=d('<div class="empty-state svelte-c8k2rg"><p class="empty-description svelte-c8k2rg">No hops match your filters</p></div>'),pr=d('<button type="button" class="delete-btn svelte-c8k2rg" aria-label="Delete"><svg class="icon-sm svelte-c8k2rg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),ur=d('<span class="item-type svelte-c8k2rg"> </span>'),_r=d('<span class="custom-badge svelte-c8k2rg">custom</span>'),gr=d('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Beta Acid</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),mr=d('<p class="item-description svelte-c8k2rg"> </p>'),fr=d('<div><div class="item-header svelte-c8k2rg"><h3 class="item-name svelte-c8k2rg"> </h3> <!></div> <div class="item-meta svelte-c8k2rg"><!> <!></div> <div class="item-specs svelte-c8k2rg"><div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Alpha Acid</span> <span class="spec-value svelte-c8k2rg"> </span></div> <!></div> <!></div>'),kr=d('<div class="group svelte-c8k2rg"><h2 class="group-name svelte-c8k2rg"> <span class="group-count svelte-c8k2rg"> </span></h2> <div class="items-grid svelte-c8k2rg"></div></div>'),br=d('<div class="items-list svelte-c8k2rg"></div>'),hr=d('<div class="empty-state svelte-c8k2rg"><p class="empty-description svelte-c8k2rg">No fermentables match your filters</p></div>'),yr=d('<button type="button" class="delete-btn svelte-c8k2rg" aria-label="Delete"><svg class="icon-sm svelte-c8k2rg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),xr=d('<span class="item-form svelte-c8k2rg"> </span>'),wr=d('<span class="item-form svelte-c8k2rg"> </span>'),Cr=d('<span class="custom-badge svelte-c8k2rg">custom</span>'),Ar=d('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Color</span> <span class="spec-value svelte-c8k2rg" style="display: flex; align-items: center; gap: 4px;"><span class="color-swatch svelte-c8k2rg"></span> </span></div>'),Fr=d('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Potential</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),Lr=d('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Max %</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),Pr=d('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Diastatic</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),Dr=d('<p class="item-description svelte-c8k2rg"> </p>'),Hr=d('<div><div class="item-header svelte-c8k2rg"><h3 class="item-name svelte-c8k2rg"> </h3> <!></div> <div class="item-meta svelte-c8k2rg"><!> <!> <!></div> <div class="item-specs svelte-c8k2rg"><!> <!> <!> <!></div> <!></div>'),Or=d('<div class="group svelte-c8k2rg"><h2 class="group-name svelte-c8k2rg"> <span class="group-count svelte-c8k2rg"> </span></h2> <div class="items-grid svelte-c8k2rg"></div></div>'),Mr=d('<div class="items-list svelte-c8k2rg"></div>'),$r=d('<div class="modal-overlay svelte-c8k2rg" role="presentation"><div class="modal svelte-c8k2rg" role="dialog" aria-modal="true" aria-labelledby="add-yeast-title" tabindex="-1"><h2 id="add-yeast-title" class="modal-title svelte-c8k2rg">Add Custom Yeast</h2> <form class="modal-form svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="yeast-name" class="svelte-c8k2rg">Name *</label> <input id="yeast-name" type="text" required class="svelte-c8k2rg"/></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="yeast-producer" class="svelte-c8k2rg">Producer</label> <input id="yeast-producer" type="text" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="yeast-type" class="svelte-c8k2rg">Type</label> <select id="yeast-type" class="svelte-c8k2rg"><option>Ale</option><option>Lager</option><option>Wine</option><option>Wild</option></select></div></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="yeast-atten-low" class="svelte-c8k2rg">Attenuation Low (%)</label> <input id="yeast-atten-low" type="number" step="1" min="50" max="100" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="yeast-atten-high" class="svelte-c8k2rg">Attenuation High (%)</label> <input id="yeast-atten-high" type="number" step="1" min="50" max="100" class="svelte-c8k2rg"/></div></div> <div class="form-group svelte-c8k2rg"><label for="yeast-desc" class="svelte-c8k2rg">Description</label> <textarea id="yeast-desc" rows="2" class="svelte-c8k2rg"></textarea></div> <div class="modal-actions svelte-c8k2rg"><button type="button" class="btn-cancel svelte-c8k2rg">Cancel</button> <button type="submit" class="btn-submit svelte-c8k2rg"> </button></div></form></div></div>'),jr=d('<div class="modal-overlay svelte-c8k2rg" role="presentation"><div class="modal svelte-c8k2rg" role="dialog" aria-modal="true" aria-labelledby="add-hop-title" tabindex="-1"><h2 id="add-hop-title" class="modal-title svelte-c8k2rg">Add Custom Hop</h2> <form class="modal-form svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="hop-name" class="svelte-c8k2rg">Name *</label> <input id="hop-name" type="text" required class="svelte-c8k2rg"/></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="hop-origin" class="svelte-c8k2rg">Origin</label> <input id="hop-origin" type="text" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="hop-purpose" class="svelte-c8k2rg">Purpose</label> <select id="hop-purpose" class="svelte-c8k2rg"><option>Bittering</option><option>Aroma</option><option>Dual Purpose</option></select></div></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="hop-alpha-low" class="svelte-c8k2rg">Alpha Acid Low (%)</label> <input id="hop-alpha-low" type="number" step="0.1" min="0" max="30" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="hop-alpha-high" class="svelte-c8k2rg">Alpha Acid High (%)</label> <input id="hop-alpha-high" type="number" step="0.1" min="0" max="30" class="svelte-c8k2rg"/></div></div> <div class="form-group svelte-c8k2rg"><label for="hop-aroma" class="svelte-c8k2rg">Aroma Profile</label> <textarea id="hop-aroma" rows="2" class="svelte-c8k2rg"></textarea></div> <div class="modal-actions svelte-c8k2rg"><button type="button" class="btn-cancel svelte-c8k2rg">Cancel</button> <button type="submit" class="btn-submit svelte-c8k2rg"> </button></div></form></div></div>'),Tr=d('<div class="modal-overlay svelte-c8k2rg" role="presentation"><div class="modal svelte-c8k2rg" role="dialog" aria-modal="true" aria-labelledby="add-fermentable-title" tabindex="-1"><h2 id="add-fermentable-title" class="modal-title svelte-c8k2rg">Add Custom Fermentable</h2> <form class="modal-form svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="ferm-name" class="svelte-c8k2rg">Name *</label> <input id="ferm-name" type="text" required class="svelte-c8k2rg"/></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="ferm-type" class="svelte-c8k2rg">Type</label> <select id="ferm-type" class="svelte-c8k2rg"><option>Base</option><option>Specialty</option><option>Adjunct</option><option>Sugar</option><option>Extract</option><option>Fruit</option><option>Other</option></select></div> <div class="form-group svelte-c8k2rg"><label for="ferm-maltster" class="svelte-c8k2rg">Maltster</label> <input id="ferm-maltster" type="text" class="svelte-c8k2rg"/></div></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="ferm-color" class="svelte-c8k2rg">Color (SRM)</label> <input id="ferm-color" type="number" step="0.1" min="0" max="600" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="ferm-potential" class="svelte-c8k2rg">Potential SG</label> <input id="ferm-potential" type="number" step="0.001" min="1.000" max="1.100" class="svelte-c8k2rg"/></div></div> <div class="form-group svelte-c8k2rg"><label for="ferm-flavor" class="svelte-c8k2rg">Flavor Profile</label> <textarea id="ferm-flavor" rows="2" class="svelte-c8k2rg"></textarea></div> <div class="modal-actions svelte-c8k2rg"><button type="button" class="btn-cancel svelte-c8k2rg">Cancel</button> <button type="submit" class="btn-submit svelte-c8k2rg"> </button></div></form></div></div>'),Br=d('<div class="modal-overlay svelte-c8k2rg" role="presentation"><div class="modal svelte-c8k2rg" role="dialog" aria-modal="true" aria-labelledby="delete-library-title" tabindex="-1"><h2 id="delete-library-title" class="modal-title svelte-c8k2rg"> </h2> <p class="modal-text svelte-c8k2rg"> </p> <div class="modal-actions svelte-c8k2rg"><button type="button" class="btn-cancel svelte-c8k2rg">Cancel</button> <button type="button" class="btn-delete svelte-c8k2rg"> </button></div></div></div>'),Sr=d('<div class="page-container svelte-c8k2rg"><div class="page-header svelte-c8k2rg"><div class="header-left"><h1 class="page-title svelte-c8k2rg">Ingredient Library</h1></div> <div class="header-actions svelte-c8k2rg"><button type="button" class="refresh-btn svelte-c8k2rg"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> </button> <button type="button" class="add-btn svelte-c8k2rg"><svg class="icon svelte-c8k2rg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg> Add Custom</button></div></div> <div class="tabs svelte-c8k2rg"><button type="button">Yeast <span class="tab-count svelte-c8k2rg"> </span></button> <button type="button">Hops <span class="tab-count svelte-c8k2rg"> </span></button> <button type="button">Fermentables <span class="tab-count svelte-c8k2rg"> </span></button></div> <div class="filters-bar svelte-c8k2rg"><input type="text" placeholder="Search..." class="search-input svelte-c8k2rg"/> <!> <label class="custom-toggle svelte-c8k2rg"><input type="checkbox" class="svelte-c8k2rg"/> <span>Custom only</span></label></div> <!></div> <!> <!> <!> <!>',1);function Ur(Nt,Vt){xa(Vt,!0);let te=j("yeast"),rt=j(!0),de=j(null),K=j(""),He=j(!1),Re=j(!1),ye=j(ne([])),ft=j(ne([])),Ne=j(""),Ve=j(""),Oe=j(!1),z=j(ne({name:"",producer:"",type:"ale",form:"dry",attenuation_low:void 0,attenuation_high:void 0,temp_low:void 0,temp_high:void 0,flocculation:"medium",description:""})),xe=j(ne([])),kt=j(ne([])),We=j(""),qe=j(""),Me=j(!1),Q=j(ne({name:"",origin:"",alpha_acid_low:void 0,alpha_acid_high:void 0,beta_acid_low:void 0,beta_acid_high:void 0,purpose:"dual",aroma_profile:"",substitutes:"",description:""})),we=j(ne([])),bt=j(ne([])),ht=j(ne([])),Ie=j(""),Ge=j(""),$e=j(!1),U=j(ne({name:"",type:"base",origin:"",maltster:"",color_srm:void 0,potential_sg:void 0,max_in_batch_percent:void 0,diastatic_power:void 0,flavor_profile:"",substitutes:"",description:""})),Y=j(null),et=j(!1),ae=j(!1),yt=fe(()=>()=>e(ye).filter(t=>{const o=!e(K)||t.name.toLowerCase().includes(e(K).toLowerCase())||t.producer?.toLowerCase().includes(e(K).toLowerCase()),i=!e(Ne)||t.type===e(Ne),m=!e(Ve)||t.producer===e(Ve),h=!e(He)||t.is_custom;return o&&i&&m&&h})),xt=fe(()=>()=>e(xe).filter(t=>{const o=!e(K)||t.name.toLowerCase().includes(e(K).toLowerCase())||t.origin?.toLowerCase().includes(e(K).toLowerCase())||t.aroma_profile?.toLowerCase().includes(e(K).toLowerCase()),i=!e(We)||t.purpose===e(We),m=!e(qe)||t.origin===e(qe),h=!e(He)||t.is_custom;return o&&i&&m&&h})),wt=fe(()=>()=>e(we).filter(t=>{const o=!e(K)||t.name.toLowerCase().includes(e(K).toLowerCase())||t.maltster?.toLowerCase().includes(e(K).toLowerCase())||t.flavor_profile?.toLowerCase().includes(e(K).toLowerCase()),i=!e(Ie)||t.type===e(Ie),m=!e(Ge)||t.maltster===e(Ge),h=!e(He)||t.is_custom;return o&&i&&m&&h})),Wt=fe(()=>()=>{const t={};for(const o of e(yt)()){const i=o.producer||"Other";t[i]||(t[i]=[]),t[i].push(o)}return Object.fromEntries(Object.entries(t).sort(([o],[i])=>o.localeCompare(i)))}),qt=fe(()=>()=>{const t={};for(const o of e(xt)()){const i=o.origin||"Unknown";t[i]||(t[i]=[]),t[i].push(o)}return Object.fromEntries(Object.entries(t).sort(([o],[i])=>o.localeCompare(i)))}),It=fe(()=>()=>{const t={};for(const i of e(wt)()){const m=i.type||"Other";t[m]||(t[m]=[]),t[m].push(i)}const o=["base","specialty","adjunct","sugar","extract","fruit","other"];return Object.fromEntries(Object.entries(t).sort(([i],[m])=>{const h=o.indexOf(i.toLowerCase()),f=o.indexOf(m.toLowerCase());return h===-1&&f===-1?i.localeCompare(m):h===-1?1:f===-1?-1:h-f}))});async function st(){l(rt,!0),l(de,null);try{const[t,o,i,m,h,f,C]=await Promise.all([$a({limit:500}),ja(),Ta({limit:500}),Ba(),Sa({limit:500}),Ea(),Ya()]);l(ye,t,!0),l(ft,o.producers,!0),l(xe,i,!0),l(kt,m.origins,!0),l(we,h,!0),l(bt,f.types,!0),l(ht,C.maltsters,!0)}catch(t){l(de,t instanceof Error?t.message:"Failed to load library data",!0)}finally{l(rt,!1)}}async function Gt(){l(Re,!0);try{e(te)==="yeast"?await Ha():e(te)==="hops"?await Oa():await Ma(),await st()}catch(t){l(de,t instanceof Error?t.message:"Failed to refresh",!0)}finally{l(Re,!1)}}async function zt(){if(e(z).name.trim()){l(ae,!0);try{const t=await Ra(e(z));l(ye,[t,...e(ye)],!0),l(Oe,!1),l(z,{name:"",producer:"",type:"ale",form:"dry",attenuation_low:void 0,attenuation_high:void 0,temp_low:void 0,temp_high:void 0,flocculation:"medium",description:""},!0)}catch(t){l(de,t instanceof Error?t.message:"Failed to add yeast",!0)}finally{l(ae,!1)}}}async function Qt(){if(e(Q).name.trim()){l(ae,!0);try{const t=await Na(e(Q));l(xe,[t,...e(xe)],!0),l(Me,!1),l(Q,{name:"",origin:"",alpha_acid_low:void 0,alpha_acid_high:void 0,beta_acid_low:void 0,beta_acid_high:void 0,purpose:"dual",aroma_profile:"",substitutes:"",description:""},!0)}catch(t){l(de,t instanceof Error?t.message:"Failed to add hop",!0)}finally{l(ae,!1)}}}async function Ut(){if(e(U).name.trim()){l(ae,!0);try{const t=await Va(e(U));l(we,[t,...e(we)],!0),l($e,!1),l(U,{name:"",type:"base",origin:"",maltster:"",color_srm:void 0,potential_sg:void 0,max_in_batch_percent:void 0,diastatic_power:void 0,flavor_profile:"",substitutes:"",description:""},!0)}catch(t){l(de,t instanceof Error?t.message:"Failed to add fermentable",!0)}finally{l(ae,!1)}}}async function Jt(){if(e(Y)){l(et,!0);try{e(Y).type==="yeast"?(await Wa(e(Y).id),l(ye,e(ye).filter(t=>t.id!==e(Y).id),!0)):e(Y).type==="hops"?(await qa(e(Y).id),l(xe,e(xe).filter(t=>t.id!==e(Y).id),!0)):(await Ia(e(Y).id),l(we,e(we).filter(t=>t.id!==e(Y).id),!0)),l(Y,null)}catch(t){l(de,t instanceof Error?t.message:"Failed to delete",!0)}finally{l(et,!1)}}}function Kt(){l(K,""),l(He,!1),l(Ne,""),l(Ve,""),l(We,""),l(qe,""),l(Ie,""),l(Ge,"")}function lt(t){l(te,t,!0),Kt()}function Xt(t,o){return t==null&&o==null?"--":t!=null&&o!=null?`${t.toFixed(0)}-${o.toFixed(0)}째C`:t!=null?`>${t.toFixed(0)}째C`:`<${o.toFixed(0)}째C`}function Zt(t,o){return t==null&&o==null?"--":t!=null&&o!=null?t===o?`${t.toFixed(0)}%`:`${t.toFixed(0)}-${o.toFixed(0)}%`:t!=null?`>${t.toFixed(0)}%`:`<${o.toFixed(0)}%`}function Ct(t,o){return t==null&&o==null?"--":t!=null&&o!=null?`${t.toFixed(1)}-${o.toFixed(1)}%`:t!=null?`${t.toFixed(1)}%`:`${o.toFixed(1)}%`}function ea(t){switch(t){case"ale":return"var(--positive)";case"lager":return"var(--info)";case"wine":return"var(--warning)";case"wild":return"var(--negative)";default:return"var(--text-secondary)"}}function ta(t){switch(t){case"bittering":return"var(--warning)";case"aroma":return"var(--positive)";case"dual":return"var(--info)";default:return"var(--text-secondary)"}}function aa(t){return t==null?"--":`${t.toFixed(1)} SRM`}function ra(t){return t==null?"var(--text-muted)":t<=2?"#F8F4B4":t<=4?"#D9C939":t<=8?"#BF923B":t<=15?"#A85A3F":t<=25?"#6B3A2C":t<=40?"#4A2517":"#1A0C0A"}wa(st);var At=Sr();Pa("c8k2rg",t=>{Aa(()=>{Fa.title="Library | BrewSignal"})});var ot=oe(At),it=s(ot),Ft=r(s(it),2),ze=s(Ft);ze.__click=Gt;var Lt=s(ze);let Pt;var sa=r(Lt);a(ze);var la=r(ze,2);la.__click=()=>{e(te)==="yeast"?l(Oe,!0):e(te)==="hops"?l(Me,!0):l($e,!0)},a(Ft),a(it);var vt=r(it,2),Qe=s(vt);let Dt;Qe.__click=()=>lt("yeast");var Ht=r(s(Qe)),oa=s(Ht,!0);a(Ht),a(Qe);var Ue=r(Qe,2);let Ot;Ue.__click=()=>lt("hops");var Mt=r(s(Ue)),ia=s(Mt,!0);a(Mt),a(Ue);var tt=r(Ue,2);let $t;tt.__click=()=>lt("fermentables");var jt=r(s(tt)),va=s(jt,!0);a(jt),a(tt),a(vt);var nt=r(vt,2),ct=s(nt);Z(ct);var Tt=r(ct,2);{var na=t=>{var o=za(),i=oe(o),m=s(i);m.value=m.__value="";var h=r(m);h.value=h.__value="ale";var f=r(h);f.value=f.__value="lager";var C=r(f);C.value=C.__value="wine";var y=r(C);y.value=y.__value="wild",a(i);var O=r(i,2),M=s(O);M.value=M.__value="";var P=r(M);ce(P,17,()=>e(ft),at,(k,B)=>{var A=Ga(),T=s(A,!0);a(A);var p={};D(()=>{g(T,e(B)),p!==(p=e(B))&&(A.value=(A.__value=e(B))??"")}),v(k,A)}),a(O),ke(i,()=>e(Ne),k=>l(Ne,k)),ke(O,()=>e(Ve),k=>l(Ve,k)),v(t,o)},ca=t=>{var o=Pe(),i=oe(o);{var m=f=>{var C=Ua(),y=oe(C),O=s(y);O.value=O.__value="";var M=r(O);M.value=M.__value="bittering";var P=r(M);P.value=P.__value="aroma";var k=r(P);k.value=k.__value="dual",a(y);var B=r(y,2),A=s(B);A.value=A.__value="";var T=r(A);ce(T,17,()=>e(kt),at,(p,H)=>{var $=Qa(),W=s($,!0);a($);var R={};D(()=>{g(W,e(H)),R!==(R=e(H))&&($.value=($.__value=e(H))??"")}),v(p,$)}),a(B),ke(y,()=>e(We),p=>l(We,p)),ke(B,()=>e(qe),p=>l(qe,p)),v(f,C)},h=f=>{var C=Xa(),y=oe(C),O=s(y);O.value=O.__value="";var M=r(O);ce(M,17,()=>e(bt),at,(A,T)=>{var p=Ja(),H=s(p,!0);a(p);var $={};D(()=>{g(H,e(T)),$!==($=e(T))&&(p.value=(p.__value=e(T))??"")}),v(A,p)}),a(y);var P=r(y,2),k=s(P);k.value=k.__value="";var B=r(k);ce(B,17,()=>e(ht),at,(A,T)=>{var p=Ka(),H=s(p,!0);a(p);var $={};D(()=>{g(H,e(T)),$!==($=e(T))&&(p.value=(p.__value=e(T))??"")}),v(A,p)}),a(P),ke(y,()=>e(Ie),A=>l(Ie,A)),ke(P,()=>e(Ge),A=>l(Ge,A)),v(f,C)};w(i,f=>{e(te)==="hops"?f(m):f(h,!1)},!0)}v(t,o)};w(Tt,t=>{e(te)==="yeast"?t(na):t(ca,!1)})}var Bt=r(Tt,2),St=s(Bt);Z(St),La(2),a(Bt),a(nt);var da=r(nt,2);{var pa=t=>{var o=Za();v(t,o)},ua=t=>{var o=Pe(),i=oe(o);{var m=f=>{var C=er(),y=s(C),O=s(y,!0);a(y);var M=r(y,2);M.__click=st,a(C),D(()=>g(O,e(de))),v(f,C)},h=f=>{var C=Pe(),y=oe(C);{var O=P=>{var k=Pe(),B=oe(k);{var A=p=>{var H=tr();v(p,H)},T=p=>{var H=cr();ce(H,21,()=>Object.entries(e(Wt)()),([$,W])=>$,($,W)=>{var R=fe(()=>gt(e(W),2));let S=()=>e(R)[0],E=()=>e(R)[1];var N=nr(),V=s(N),q=s(V),x=r(q),F=s(x);a(x),a(V);var X=r(V,2);ce(X,21,E,ee=>ee.id,(ee,c)=>{var ie=vr();let je;var pe=s(ie),re=s(pe),_=s(re,!0);a(re);var se=r(re,2);{var Ce=n=>{var u=ar();u.__click=()=>l(Y,{type:"yeast",id:e(c).id,name:e(c).name},!0),v(n,u)};w(se,n=>{e(c).is_custom&&n(Ce)})}a(pe);var le=r(pe,2),ve=s(le);{var Je=n=>{var u=rr(),I=s(u,!0);a(u),D(me=>{mt(u,`color: ${me??""}`),g(I,e(c).type)},[()=>ea(e(c).type)]),v(n,u)};w(ve,n=>{e(c).type&&n(Je)})}var Te=r(ve,2);{var Ke=n=>{var u=sr(),I=s(u,!0);a(u),D(()=>g(I,e(c).form)),v(n,u)};w(Te,n=>{e(c).form&&n(Ke)})}var ue=r(Te,2);{var Ae=n=>{var u=lr();v(n,u)};w(ue,n=>{e(c).is_custom&&n(Ae)})}a(le);var Fe=r(le,2),be=s(Fe),Be=r(s(be),2),Le=s(Be,!0);a(Be),a(be);var _e=r(be,2),ge=r(s(_e),2),Se=s(ge,!0);a(ge),a(_e);var Xe=r(_e,2);{var Ee=n=>{var u=or(),I=r(s(u),2),me=s(I,!0);a(I),a(u),D(()=>g(me,e(c).flocculation)),v(n,u)};w(Xe,n=>{e(c).flocculation&&n(Ee)})}a(Fe);var Ze=r(Fe,2);{var Ye=n=>{var u=ir(),I=s(u,!0);a(u),D(()=>g(I,e(c).description)),v(n,u)};w(Ze,n=>{e(c).description&&n(Ye)})}a(ie),D((n,u)=>{je=De(ie,1,"item-card svelte-c8k2rg",null,je,{custom:e(c).is_custom}),g(_,e(c).name),g(Le,n),g(Se,u)},[()=>Zt(e(c).attenuation_low,e(c).attenuation_high),()=>Xt(e(c).temp_low,e(c).temp_high)]),v(ee,ie)}),a(X),a(N),D(()=>{g(q,`${S()??""} `),g(F,`(${E().length??""})`)}),v($,N)}),a(H),v(p,H)};w(B,p=>{e(yt)().length===0?p(A):p(T,!1)})}v(P,k)},M=P=>{var k=Pe(),B=oe(k);{var A=p=>{var H=Pe(),$=oe(H);{var W=S=>{var E=dr();v(S,E)},R=S=>{var E=br();ce(E,21,()=>Object.entries(e(qt)()),([N,V])=>N,(N,V)=>{var q=fe(()=>gt(e(V),2));let x=()=>e(q)[0],F=()=>e(q)[1];var X=kr(),ee=s(X),c=s(ee),ie=r(c),je=s(ie);a(ie),a(ee);var pe=r(ee,2);ce(pe,21,F,re=>re.id,(re,_)=>{var se=fr();let Ce;var le=s(se),ve=s(le),Je=s(ve,!0);a(ve);var Te=r(ve,2);{var Ke=n=>{var u=pr();u.__click=()=>l(Y,{type:"hops",id:e(_).id,name:e(_).name},!0),v(n,u)};w(Te,n=>{e(_).is_custom&&n(Ke)})}a(le);var ue=r(le,2),Ae=s(ue);{var Fe=n=>{var u=ur(),I=s(u,!0);a(u),D(me=>{mt(u,`color: ${me??""}`),g(I,e(_).purpose)},[()=>ta(e(_).purpose)]),v(n,u)};w(Ae,n=>{e(_).purpose&&n(Fe)})}var be=r(Ae,2);{var Be=n=>{var u=_r();v(n,u)};w(be,n=>{e(_).is_custom&&n(Be)})}a(ue);var Le=r(ue,2),_e=s(Le),ge=r(s(_e),2),Se=s(ge,!0);a(ge),a(_e);var Xe=r(_e,2);{var Ee=n=>{var u=gr(),I=r(s(u),2),me=s(I,!0);a(I),a(u),D(dt=>g(me,dt),[()=>Ct(e(_).beta_acid_low,e(_).beta_acid_high)]),v(n,u)};w(Xe,n=>{(e(_).beta_acid_low||e(_).beta_acid_high)&&n(Ee)})}a(Le);var Ze=r(Le,2);{var Ye=n=>{var u=mr(),I=s(u,!0);a(u),D(()=>g(I,e(_).aroma_profile)),v(n,u)};w(Ze,n=>{e(_).aroma_profile&&n(Ye)})}a(se),D(n=>{Ce=De(se,1,"item-card svelte-c8k2rg",null,Ce,{custom:e(_).is_custom}),g(Je,e(_).name),g(Se,n)},[()=>Ct(e(_).alpha_acid_low,e(_).alpha_acid_high)]),v(re,se)}),a(pe),a(X),D(()=>{g(c,`${x()??""} `),g(je,`(${F().length??""})`)}),v(N,X)}),a(E),v(S,E)};w($,S=>{e(xt)().length===0?S(W):S(R,!1)})}v(p,H)},T=p=>{var H=Pe(),$=oe(H);{var W=S=>{var E=hr();v(S,E)},R=S=>{var E=Mr();ce(E,21,()=>Object.entries(e(It)()),([N,V])=>N,(N,V)=>{var q=fe(()=>gt(e(V),2));let x=()=>e(q)[0],F=()=>e(q)[1];var X=Or(),ee=s(X),c=s(ee),ie=r(c),je=s(ie);a(ie),a(ee);var pe=r(ee,2);ce(pe,21,F,re=>re.id,(re,_)=>{var se=Hr();let Ce;var le=s(se),ve=s(le),Je=s(ve,!0);a(ve);var Te=r(ve,2);{var Ke=b=>{var L=yr();L.__click=()=>l(Y,{type:"fermentables",id:e(_).id,name:e(_).name},!0),v(b,L)};w(Te,b=>{e(_).is_custom&&b(Ke)})}a(le);var ue=r(le,2),Ae=s(ue);{var Fe=b=>{var L=xr(),G=s(L,!0);a(L),D(()=>g(G,e(_).maltster)),v(b,L)};w(Ae,b=>{e(_).maltster&&b(Fe)})}var be=r(Ae,2);{var Be=b=>{var L=wr(),G=s(L,!0);a(L),D(()=>g(G,e(_).origin)),v(b,L)};w(be,b=>{e(_).origin&&b(Be)})}var Le=r(be,2);{var _e=b=>{var L=Cr();v(b,L)};w(Le,b=>{e(_).is_custom&&b(_e)})}a(ue);var ge=r(ue,2),Se=s(ge);{var Xe=b=>{var L=Ar(),G=r(s(L),2),he=s(G),pt=r(he);a(G),a(L),D((ba,ha)=>{mt(he,`background: ${ba??""};`),g(pt,` ${ha??""}`)},[()=>ra(e(_).color_srm),()=>aa(e(_).color_srm)]),v(b,L)};w(Se,b=>{e(_).color_srm!=null&&b(Xe)})}var Ee=r(Se,2);{var Ze=b=>{var L=Fr(),G=r(s(L),2),he=s(G,!0);a(G),a(L),D(pt=>g(he,pt),[()=>e(_).potential_sg.toFixed(3)]),v(b,L)};w(Ee,b=>{e(_).potential_sg!=null&&b(Ze)})}var Ye=r(Ee,2);{var n=b=>{var L=Lr(),G=r(s(L),2),he=s(G);a(G),a(L),D(()=>g(he,`${e(_).max_in_batch_percent??""}%`)),v(b,L)};w(Ye,b=>{e(_).max_in_batch_percent!=null&&b(n)})}var u=r(Ye,2);{var I=b=>{var L=Pr(),G=r(s(L),2),he=s(G);a(G),a(L),D(()=>g(he,`${e(_).diastatic_power??""}째L`)),v(b,L)};w(u,b=>{e(_).diastatic_power!=null&&b(I)})}a(ge);var me=r(ge,2);{var dt=b=>{var L=Dr(),G=s(L,!0);a(L),D(()=>g(G,e(_).flavor_profile)),v(b,L)};w(me,b=>{e(_).flavor_profile&&b(dt)})}a(se),D(()=>{Ce=De(se,1,"item-card svelte-c8k2rg",null,Ce,{custom:e(_).is_custom}),g(Je,e(_).name)}),v(re,se)}),a(pe),a(X),D(()=>{g(c,`${x()??""} `),g(je,`(${F().length??""})`)}),v(N,X)}),a(E),v(S,E)};w($,S=>{e(wt)().length===0?S(W):S(R,!1)})}v(p,H)};w(B,p=>{e(te)==="hops"?p(A):p(T,!1)},!0)}v(P,k)};w(y,P=>{e(te)==="yeast"?P(O):P(M,!1)},!0)}v(f,C)};w(i,f=>{e(de)?f(m):f(h,!1)},!0)}v(t,o)};w(da,t=>{e(rt)?t(pa):t(ua,!1)})}a(ot);var Et=r(ot,2);{var _a=t=>{var o=$r();o.__click=()=>l(Oe,!1),o.__keydown=F=>F.key==="Escape"&&l(Oe,!1);var i=s(o);i.__click=F=>F.stopPropagation(),i.__keydown=F=>F.stopPropagation();var m=r(s(i),2),h=s(m),f=r(s(h),2);Z(f),a(h);var C=r(h,2),y=s(C),O=r(s(y),2);Z(O),a(y);var M=r(y,2),P=r(s(M),2),k=s(P);k.value=k.__value="ale";var B=r(k);B.value=B.__value="lager";var A=r(B);A.value=A.__value="wine";var T=r(A);T.value=T.__value="wild",a(P),a(M),a(C);var p=r(C,2),H=s(p),$=r(s(H),2);Z($),a(H);var W=r(H,2),R=r(s(W),2);Z(R),a(W),a(p);var S=r(p,2),E=r(s(S),2);_t(E),a(S);var N=r(S,2),V=s(N);V.__click=()=>l(Oe,!1);var q=r(V,2),x=s(q,!0);a(q),a(N),a(m),a(i),a(o),D(F=>{q.disabled=F,g(x,e(ae)?"Adding...":"Add Yeast")},[()=>e(ae)||!e(z).name.trim()]),ut("submit",m,F=>{F.preventDefault(),zt()}),J(f,()=>e(z).name,F=>e(z).name=F),J(O,()=>e(z).producer,F=>e(z).producer=F),ke(P,()=>e(z).type,F=>e(z).type=F),J($,()=>e(z).attenuation_low,F=>e(z).attenuation_low=F),J(R,()=>e(z).attenuation_high,F=>e(z).attenuation_high=F),J(E,()=>e(z).description,F=>e(z).description=F),v(t,o)};w(Et,t=>{e(Oe)&&t(_a)})}var Yt=r(Et,2);{var ga=t=>{var o=jr();o.__click=()=>l(Me,!1),o.__keydown=x=>x.key==="Escape"&&l(Me,!1);var i=s(o);i.__click=x=>x.stopPropagation(),i.__keydown=x=>x.stopPropagation();var m=r(s(i),2),h=s(m),f=r(s(h),2);Z(f),a(h);var C=r(h,2),y=s(C),O=r(s(y),2);Z(O),a(y);var M=r(y,2),P=r(s(M),2),k=s(P);k.value=k.__value="bittering";var B=r(k);B.value=B.__value="aroma";var A=r(B);A.value=A.__value="dual",a(P),a(M),a(C);var T=r(C,2),p=s(T),H=r(s(p),2);Z(H),a(p);var $=r(p,2),W=r(s($),2);Z(W),a($),a(T);var R=r(T,2),S=r(s(R),2);_t(S),a(R);var E=r(R,2),N=s(E);N.__click=()=>l(Me,!1);var V=r(N,2),q=s(V,!0);a(V),a(E),a(m),a(i),a(o),D(x=>{V.disabled=x,g(q,e(ae)?"Adding...":"Add Hop")},[()=>e(ae)||!e(Q).name.trim()]),ut("submit",m,x=>{x.preventDefault(),Qt()}),J(f,()=>e(Q).name,x=>e(Q).name=x),J(O,()=>e(Q).origin,x=>e(Q).origin=x),ke(P,()=>e(Q).purpose,x=>e(Q).purpose=x),J(H,()=>e(Q).alpha_acid_low,x=>e(Q).alpha_acid_low=x),J(W,()=>e(Q).alpha_acid_high,x=>e(Q).alpha_acid_high=x),J(S,()=>e(Q).aroma_profile,x=>e(Q).aroma_profile=x),v(t,o)};w(Yt,t=>{e(Me)&&t(ga)})}var Rt=r(Yt,2);{var ma=t=>{var o=Tr();o.__click=()=>l($e,!1),o.__keydown=c=>c.key==="Escape"&&l($e,!1);var i=s(o);i.__click=c=>c.stopPropagation(),i.__keydown=c=>c.stopPropagation();var m=r(s(i),2),h=s(m),f=r(s(h),2);Z(f),a(h);var C=r(h,2),y=s(C),O=r(s(y),2),M=s(O);M.value=M.__value="base";var P=r(M);P.value=P.__value="specialty";var k=r(P);k.value=k.__value="adjunct";var B=r(k);B.value=B.__value="sugar";var A=r(B);A.value=A.__value="extract";var T=r(A);T.value=T.__value="fruit";var p=r(T);p.value=p.__value="other",a(O),a(y);var H=r(y,2),$=r(s(H),2);Z($),a(H),a(C);var W=r(C,2),R=s(W),S=r(s(R),2);Z(S),a(R);var E=r(R,2),N=r(s(E),2);Z(N),a(E),a(W);var V=r(W,2),q=r(s(V),2);_t(q),a(V);var x=r(V,2),F=s(x);F.__click=()=>l($e,!1);var X=r(F,2),ee=s(X,!0);a(X),a(x),a(m),a(i),a(o),D(c=>{X.disabled=c,g(ee,e(ae)?"Adding...":"Add Fermentable")},[()=>e(ae)||!e(U).name.trim()]),ut("submit",m,c=>{c.preventDefault(),Ut()}),J(f,()=>e(U).name,c=>e(U).name=c),ke(O,()=>e(U).type,c=>e(U).type=c),J($,()=>e(U).maltster,c=>e(U).maltster=c),J(S,()=>e(U).color_srm,c=>e(U).color_srm=c),J(N,()=>e(U).potential_sg,c=>e(U).potential_sg=c),J(q,()=>e(U).flavor_profile,c=>e(U).flavor_profile=c),v(t,o)};w(Rt,t=>{e($e)&&t(ma)})}var fa=r(Rt,2);{var ka=t=>{var o=Br();o.__click=()=>l(Y,null),o.__keydown=k=>k.key==="Escape"&&l(Y,null);var i=s(o);i.__click=k=>k.stopPropagation(),i.__keydown=k=>k.stopPropagation();var m=s(i),h=s(m);a(m);var f=r(m,2),C=s(f);a(f);var y=r(f,2),O=s(y);O.__click=()=>l(Y,null);var M=r(O,2);M.__click=Jt;var P=s(M,!0);a(M),a(y),a(i),a(o),D(()=>{g(h,`Delete ${e(Y).type==="yeast"?"Yeast":e(Y).type==="hops"?"Hop":"Fermentable"}?`),g(C,`Are you sure you want to delete "${e(Y).name??""}"? This cannot be undone.`),M.disabled=e(et),g(P,e(et)?"Deleting...":"Delete")}),v(t,o)};w(fa,t=>{e(Y)&&t(ka)})}D(()=>{ze.disabled=e(Re),Pt=De(Lt,0,"icon svelte-c8k2rg",null,Pt,{spinning:e(Re)}),g(sa,` ${e(Re)?"Refreshing...":"Refresh DB"}`),Dt=De(Qe,1,"tab svelte-c8k2rg",null,Dt,{active:e(te)==="yeast"}),g(oa,e(ye).length),Ot=De(Ue,1,"tab svelte-c8k2rg",null,Ot,{active:e(te)==="hops"}),g(ia,e(xe).length),$t=De(tt,1,"tab svelte-c8k2rg",null,$t,{active:e(te)==="fermentables"}),g(va,e(we).length)}),J(ct,()=>e(K),t=>l(K,t)),Da(St,()=>e(He),t=>l(He,t)),v(Nt,At),Ca()}ya(["click","keydown"]);export{Ur as component};
