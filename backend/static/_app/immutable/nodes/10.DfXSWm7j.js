import{c as ie,a as n,f as c,s as d,d as Xe}from"../chunks/CsQfwH0S.js";import{ah as ue,at as le,aj as ge,ak as s,al as a,c as e,an as t,ar as g,as as Ze,ai as oe,aw as et,ao as tt,ay as at,s as D,aq as ve,am as rt}from"../chunks/fKkNMI8q.js";import{i as p}from"../chunks/BvBRaQNg.js";import{h as st}from"../chunks/DLseniaC.js";import{s as vt}from"../chunks/DbN3nGCc.js";import{s as lt,a as it}from"../chunks/C51ud8ec.js";import{g as Ce}from"../chunks/HEJTfQlf.js";import{p as ot}from"../chunks/U_qLtK4Q.js";import{b as nt,o as dt}from"../chunks/i8VL_lOf.js";import{e as _e,i as pe}from"../chunks/COk1ZY4R.js";const ct=!1,Zt=Object.freeze(Object.defineProperty({__proto__:null,prerender:ct},Symbol.toStringTag,{value:"Module"}));var _t=c('<span class="origin svelte-2e1ash"> </span>'),pt=c('<div class="supplier svelte-2e1ash"> </div>'),ut=c('<tr class="svelte-2e1ash"><td class="name svelte-2e1ash"> <!> <!></td><td class="svelte-2e1ash"> </td><td class="svelte-2e1ash"> </td><td class="svelte-2e1ash"> </td><td class="svelte-2e1ash"> </td></tr>'),gt=c('<div class="fermentables svelte-2e1ash"><h3 class="svelte-2e1ash">Grain Bill</h3> <table class="svelte-2e1ash"><thead><tr><th class="svelte-2e1ash">Fermentable</th><th class="svelte-2e1ash">Type</th><th class="svelte-2e1ash">Amount</th><th class="svelte-2e1ash">%</th><th class="svelte-2e1ash">Color</th></tr></thead><tbody class="svelte-2e1ash"></tbody><tfoot class="svelte-2e1ash"><tr><td colspan="2" class="svelte-2e1ash"><strong>Total</strong></td><td class="svelte-2e1ash"><strong> </strong></td><td class="svelte-2e1ash">100%</td><td class="svelte-2e1ash">--</td></tr></tfoot></table></div>');function yt(te,L){ue(L,!0);let q=oe(()=>L.fermentables.reduce((u,i)=>u+(i.amount_kg||0),0));function ae(u){return!u||!e(q)?"--":(u/e(q)*100).toFixed(1)+"%"}function X(u){return u==null?"--":u.toFixed(2)+" kg"}function v(u){return u==null?"--":u.toFixed(0)+"°L"}var K=ie(),T=le(K);{var S=u=>{var i=gt(),y=s(a(i),2),h=s(a(y));_e(h,21,()=>L.fermentables,pe,(I,k)=>{var _=ut(),m=a(_),C=a(m),A=s(C);{var B=w=>{var $=_t(),U=a($);t($),g(()=>d(U,`(${e(k).origin??""})`)),n(w,$)};p(A,w=>{e(k).origin&&w(B)})}var z=s(A,2);{var b=w=>{var $=pt(),U=a($,!0);t($),g(()=>d(U,e(k).supplier)),n(w,$)};p(z,w=>{e(k).supplier&&w(b)})}t(m);var x=s(m),P=a(x,!0);t(x);var M=s(x),E=a(M,!0);t(M);var G=s(M),N=a(G,!0);t(G);var V=s(G),J=a(V,!0);t(V),t(_),g((w,$,U)=>{d(C,`${e(k).name??""} `),d(P,e(k).type||"--"),d(E,w),d(N,$),d(J,U)},[()=>X(e(k).amount_kg),()=>ae(e(k).amount_kg),()=>v(e(k).color_lovibond)]),n(I,_)}),t(h);var O=s(h),R=a(O),Y=s(a(R)),Z=a(Y),re=a(Z,!0);t(Z),t(Y),Ze(2),t(R),t(O),t(y),t(i),g(I=>d(re,I),[()=>X(e(q))]),n(u,i)};p(T,u=>{L.fermentables.length>0&&u(S)})}n(te,K),ge()}var ht=c('<div class="hop-type svelte-1iyzc0d"> </div>'),ft=c('<tr class="svelte-1iyzc0d"><td class="hop-name svelte-1iyzc0d"> <!></td><td class="svelte-1iyzc0d"> </td><td class="svelte-1iyzc0d"> </td><td class="svelte-1iyzc0d"> </td><td class="svelte-1iyzc0d"> </td></tr>'),mt=c('<div class="hop-group svelte-1iyzc0d"><h4 class="svelte-1iyzc0d"> </h4> <table class="svelte-1iyzc0d"><thead><tr><th class="svelte-1iyzc0d">Hop</th><th class="svelte-1iyzc0d">Amount</th><th class="svelte-1iyzc0d">AA%</th><th class="svelte-1iyzc0d">Time</th><th class="svelte-1iyzc0d">Form</th></tr></thead><tbody class="svelte-1iyzc0d"></tbody></table></div>'),bt=c('<div class="hop-schedule svelte-1iyzc0d"><h3 class="svelte-1iyzc0d">Hop Schedule</h3> <!></div>');function xt(te,L){ue(L,!0);let q=oe(()=>{const i={};for(const y of L.hops){const h=y.timing?.use||"Other";i[h]||(i[h]=[]),i[h].push(y)}for(const[y,h]of Object.entries(i))(y==="add_to_boil"||y==="Boil")&&h.sort((O,R)=>(R.timing?.duration?.value||0)-(O.timing?.duration?.value||0));return i});function ae(i){return i==null?"--":i.toFixed(0)+"g"}function X(i){return i==null?"--":i.toFixed(1)+"%"}function v(i){if(!i?.duration?.value)return"--";const y=i.duration.value,h=i.use;return h==="dry_hop"||h==="add_to_fermentation"?y===0?"At packaging":`Day ${y}`:`${y} ${i.duration.unit||"min"}`}function K(i){return i?{add_to_boil:"Boil",dry_hop:"Dry Hop",add_to_fermentation:"Fermentation",whirlpool:"Whirlpool",first_wort:"First Wort",mash:"Mash",aroma:"Aroma"}[i]||i.replace(/_/g," ").replace(/\b\w/g,h=>h.toUpperCase()):"Other"}var T=ie(),S=le(T);{var u=i=>{var y=bt(),h=s(a(y),2);_e(h,17,()=>Object.entries(e(q)),pe,(O,R)=>{var Y=oe(()=>et(e(R),2));let Z=()=>e(Y)[0],re=()=>e(Y)[1];var I=mt(),k=a(I),_=a(k,!0);t(k);var m=s(k,2),C=s(a(m));_e(C,21,re,pe,(A,B)=>{var z=ft(),b=a(z),x=a(b),P=s(x);{var M=Q=>{var W=ht(),ee=a(W,!0);t(W),g(()=>d(ee,e(B).origin)),n(Q,W)};p(P,Q=>{e(B).origin&&Q(M)})}t(b);var E=s(b),G=a(E,!0);t(E);var N=s(E),V=a(N,!0);t(N);var J=s(N),w=a(J,!0);t(J);var $=s(J),U=a($,!0);t($),t(z),g((Q,W,ee)=>{d(x,`${e(B).name??""} `),d(G,Q),d(V,W),d(w,ee),d(U,e(B).form||"--")},[()=>ae(e(B).amount_grams),()=>X(e(B).alpha_acid_percent),()=>v(e(B).timing)]),n(A,z)}),t(C),t(m),t(I),g(A=>d(_,A),[()=>K(Z())]),n(O,I)}),t(y),n(i,y)};p(S,i=>{L.hops.length>0&&i(u)})}n(te,T),ge()}var kt=c('<div class="loading-state svelte-1r2e3yg"><div class="spinner svelte-1r2e3yg"></div> <p>Loading recipe...</p></div>'),zt=c('<div class="error-state svelte-1r2e3yg"><p class="error-message svelte-1r2e3yg"> </p></div>'),Ft=c('<p class="recipe-author svelte-1r2e3yg"> </p>'),wt=c('<p class="recipe-type svelte-1r2e3yg"> </p>'),$t=c('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Original Gravity</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),Bt=c('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Final Gravity</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),At=c('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">ABV</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),Dt=c('<div class="param svelte-1r2e3yg"><span class="param-label svelte-1r2e3yg">Attenuation</span> <span class="param-value svelte-1r2e3yg"> </span></div>'),Ct=c('<p class="yeast-name svelte-1r2e3yg"> </p>'),Mt=c('<p class="yeast-lab svelte-1r2e3yg"> </p>'),jt=c('<p class="yeast-temp svelte-1r2e3yg"> </p>'),Ht=c('<div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Yeast</h2> <div class="yeast-info svelte-1r2e3yg"><!> <!> <!></div></div>'),Lt=c('<div class="section svelte-1r2e3yg"><!></div>'),Tt=c('<div class="section svelte-1r2e3yg"><!></div>'),Rt=c('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">Batch Size</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),St=c('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">IBU</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),Ot=c('<div class="detail svelte-1r2e3yg"><span class="detail-label svelte-1r2e3yg">SRM</span> <span class="detail-value svelte-1r2e3yg"> </span></div>'),It=c('<div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Notes</h2> <p class="notes svelte-1r2e3yg"> </p></div>'),Pt=c('<div class="recipe-container svelte-1r2e3yg"><div class="recipe-header svelte-1r2e3yg"><div class="header-left svelte-1r2e3yg"><h1 class="recipe-title svelte-1r2e3yg"> </h1> <!> <!></div> <div class="header-actions svelte-1r2e3yg"><a class="edit-btn svelte-1r2e3yg"><svg class="icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> Edit</a> <button type="button" class="delete-btn svelte-1r2e3yg"><svg class="icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> Delete</button></div></div> <div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Fermentation Parameters</h2> <div class="param-grid svelte-1r2e3yg"><!> <!> <!> <!></div></div> <!> <!> <!> <div class="section svelte-1r2e3yg"><h2 class="section-title svelte-1r2e3yg">Batch Details</h2> <div class="details-grid svelte-1r2e3yg"><!> <!> <!></div></div> <!> <div class="section svelte-1r2e3yg"><p class="created-date svelte-1r2e3yg"> </p></div> <div class="actions svelte-1r2e3yg"><button type="button" class="brew-btn svelte-1r2e3yg"><svg class="icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Brew This Recipe</button></div></div>'),Et=c('<div class="modal-overlay svelte-1r2e3yg"><div class="modal svelte-1r2e3yg"><h2 class="modal-title svelte-1r2e3yg">Delete Recipe?</h2> <p class="modal-text svelte-1r2e3yg"> </p> <div class="modal-actions svelte-1r2e3yg"><button type="button" class="modal-btn cancel svelte-1r2e3yg">Cancel</button> <button type="button" class="modal-btn delete svelte-1r2e3yg"> </button></div></div></div>'),Gt=c('<div class="page-container svelte-1r2e3yg"><div class="back-link svelte-1r2e3yg"><a href="/recipes" class="back-btn svelte-1r2e3yg"><svg class="back-icon svelte-1r2e3yg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg> Back to Recipes</a></div> <!></div> <!>',1);function ea(te,L){ue(L,!0);const q=()=>it(ot,"$page",ae),[ae,X]=lt();let v=ve(null),K=ve(!0),T=ve(null),S=ve(!1),u=ve(!1),i=oe(()=>{const _=parseInt(q().params.id||"",10);return isNaN(_)||_<=0?null:_});tt(async()=>{if(!e(i)){D(T,"Invalid recipe ID"),D(K,!1);return}try{D(v,await nt(e(i)),!0)}catch(_){D(T,_ instanceof Error?_.message:"Failed to load recipe",!0)}finally{D(K,!1)}});async function y(){if(e(v)){D(u,!0);try{await dt(e(v).id),Ce("/recipes")}catch(_){D(T,_ instanceof Error?_.message:"Failed to delete recipe",!0),D(u,!1),D(S,!1)}}}function h(){e(v)&&Ce(`/batches/new?recipe_id=${e(v).id}`)}var O=Gt();st("1r2e3yg",_=>{at(()=>{rt.title=`${(e(v)?.name||"Recipe")??""} | BrewSignal`})});var R=le(O),Y=s(a(R),2);{var Z=_=>{var m=kt();n(_,m)},re=_=>{var m=ie(),C=le(m);{var A=z=>{var b=zt(),x=a(b),P=a(x,!0);t(x),t(b),g(()=>d(P,e(T))),n(z,b)},B=z=>{var b=ie(),x=le(b);{var P=M=>{var E=Pt(),G=a(E),N=a(G),V=a(N),J=a(V,!0);t(V);var w=s(V,2);{var $=r=>{var l=Ft(),o=a(l);t(l),g(()=>d(o,`by ${e(v).author??""}`)),n(r,l)};p(w,r=>{e(v).author&&r($)})}var U=s(w,2);{var Q=r=>{var l=wt(),o=a(l,!0);t(l),g(()=>d(o,e(v).type)),n(r,l)};p(U,r=>{e(v).type&&r(Q)})}t(N);var W=s(N,2),ee=a(W),Me=s(ee,2);Me.__click=()=>D(S,!0),t(W),t(G);var ne=s(G,2),ye=s(a(ne),2),he=a(ye);{var je=r=>{var l=$t(),o=s(a(l),2),f=a(o,!0);t(o),t(l),g(F=>d(f,F),[()=>e(v).og.toFixed(3)]),n(r,l)};p(he,r=>{e(v).og&&r(je)})}var fe=s(he,2);{var He=r=>{var l=Bt(),o=s(a(l),2),f=a(o,!0);t(o),t(l),g(F=>d(f,F),[()=>e(v).fg.toFixed(3)]),n(r,l)};p(fe,r=>{e(v).fg&&r(He)})}var me=s(fe,2);{var Le=r=>{var l=At(),o=s(a(l),2),f=a(o);t(o),t(l),g(F=>d(f,`${F??""}%`),[()=>e(v).abv.toFixed(1)]),n(r,l)};p(me,r=>{e(v).abv&&r(Le)})}var Te=s(me,2);{var Re=r=>{var l=Dt(),o=s(a(l),2),f=a(o);t(o),t(l),g(F=>d(f,`${F??""}%`),[()=>e(v).yeast_attenuation.toFixed(0)]),n(r,l)};p(Te,r=>{e(v).yeast_attenuation&&r(Re)})}t(ye),t(ne);var be=s(ne,2);{var Se=r=>{var l=Ht(),o=s(a(l),2),f=a(o);{var F=j=>{var H=Ct(),se=a(H,!0);t(H),g(()=>d(se,e(v).yeast_name)),n(j,H)};p(f,j=>{e(v).yeast_name&&j(F)})}var De=s(f,2);{var We=j=>{var H=Mt(),se=a(H,!0);t(H),g(()=>d(se,e(v).yeast_lab)),n(j,H)};p(De,j=>{e(v).yeast_lab&&j(We)})}var qe=s(De,2);{var Ye=j=>{var H=jt(),se=a(H);t(H),g((Je,Qe)=>d(se,`Temperature: ${Je??""}-${Qe??""}°C`),[()=>e(v).yeast_temp_min.toFixed(0),()=>e(v).yeast_temp_max.toFixed(0)]),n(j,H)};p(qe,j=>{e(v).yeast_temp_min!=null&&e(v).yeast_temp_max!=null&&j(Ye)})}t(o),t(l),n(r,l)};p(be,r=>{(e(v).yeast_name||e(v).yeast_temp_min||e(v).yeast_temp_max)&&r(Se)})}var xe=s(be,2);{var Oe=r=>{var l=Lt(),o=a(l);yt(o,{get fermentables(){return e(v).fermentables}}),t(l),n(r,l)};p(xe,r=>{e(v).fermentables&&e(v).fermentables.length>0&&r(Oe)})}var ke=s(xe,2);{var Ie=r=>{var l=Tt(),o=a(l);xt(o,{get hops(){return e(v).hops}}),t(l),n(r,l)};p(ke,r=>{e(v).hops&&e(v).hops.length>0&&r(Ie)})}var de=s(ke,2),ze=s(a(de),2),Fe=a(ze);{var Pe=r=>{var l=Rt(),o=s(a(l),2),f=a(o);t(o),t(l),g(F=>d(f,`${F??""} L`),[()=>e(v).batch_size_liters.toFixed(1)]),n(r,l)};p(Fe,r=>{e(v).batch_size_liters&&r(Pe)})}var we=s(Fe,2);{var Ee=r=>{var l=St(),o=s(a(l),2),f=a(o,!0);t(o),t(l),g(F=>d(f,F),[()=>e(v).ibu.toFixed(0)]),n(r,l)};p(we,r=>{e(v).ibu&&r(Ee)})}var Ge=s(we,2);{var Ne=r=>{var l=Ot(),o=s(a(l),2),f=a(o,!0);t(o),t(l),g(F=>d(f,F),[()=>e(v).color_srm.toFixed(1)]),n(r,l)};p(Ge,r=>{e(v).color_srm&&r(Ne)})}t(ze),t(de);var $e=s(de,2);{var Ue=r=>{var l=It(),o=s(a(l),2),f=a(o,!0);t(o),t(l),g(()=>d(f,e(v).notes)),n(r,l)};p($e,r=>{e(v).notes&&r(Ue)})}var ce=s($e,2),Be=a(ce),Ke=a(Be);t(Be),t(ce);var Ae=s(ce,2),Ve=a(Ae);Ve.__click=h,t(Ae),t(E),g(r=>{d(J,e(v).name),vt(ee,"href",`/recipes/${e(v).id??""}/edit`),d(Ke,`Created ${r??""}`)},[()=>new Date(e(v).created_at).toLocaleDateString()]),n(M,E)};p(x,M=>{e(v)&&M(P)},!0)}n(z,b)};p(C,z=>{e(T)?z(A):z(B,!1)},!0)}n(_,m)};p(Y,_=>{e(K)?_(Z):_(re,!1)})}t(R);var I=s(R,2);{var k=_=>{var m=Et();m.__click=()=>D(S,!1);var C=a(m);C.__click=M=>M.stopPropagation();var A=s(a(C),2),B=a(A);t(A);var z=s(A,2),b=a(z);b.__click=()=>D(S,!1);var x=s(b,2);x.__click=y;var P=a(x,!0);t(x),t(z),t(C),t(m),g(()=>{d(B,`Are you sure you want to delete "${e(v)?.name??""}"? This cannot be undone.`),b.disabled=e(u),x.disabled=e(u),d(P,e(u)?"Deleting...":"Delete Recipe")}),n(_,m)};p(I,_=>{e(S)&&_(k)})}n(te,O),ge(),X()}Xe(["click"]);export{ea as component,Zt as universal};
