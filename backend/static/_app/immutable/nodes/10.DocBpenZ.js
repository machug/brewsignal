import{d as ya,f as c,a as i,s as g,c as De,e as ut}from"../chunks/D3BGmjiQ.js";import{a as xa,s as j,p as ne,o as wa,f as oe,d as s,g as r,i as e,c as l,t as L,h as Ca,e as Aa,aw as Fa,j as a,n as La,k as _t,l as fe,ax as gt}from"../chunks/qPFz7rcR.js";import{e as ce,i as at}from"../chunks/fEN5jtvK.js";import{i as y}from"../chunks/VWvnMYpw.js";import{h as Da}from"../chunks/DUkqxoKv.js";import{r as Z}from"../chunks/D6lThKhy.js";import{s as Pe}from"../chunks/B1LnsfEN.js";import{s as mt}from"../chunks/DiFo9CWT.js";import{b as J,a as Pa}from"../chunks/DzkFo9Qc.js";import{b as ke}from"../chunks/Dx7-pTgU.js";import{t as Ha,v as Oa,w as Ma,g as $a,x as ja,h as Ta,y as Ba,z as Sa,A as Ya,B as Ea,C as Ra,D as Na,E as Va,F as Wa,G as qa,H as Ia}from"../chunks/EAXntHjR.js";var Ga=c("<option> </option>"),za=c('<select class="filter-select svelte-c8k2rg"><option>All Types</option><option>Ale</option><option>Lager</option><option>Wine</option><option>Wild</option></select> <select class="filter-select svelte-c8k2rg"><option>All Producers</option><!></select>',1),Qa=c("<option> </option>"),Ua=c('<select class="filter-select svelte-c8k2rg"><option>All Purposes</option><option>Bittering</option><option>Aroma</option><option>Dual Purpose</option></select> <select class="filter-select svelte-c8k2rg"><option>All Origins</option><!></select>',1),Ja=c("<option> </option>"),Ka=c("<option> </option>"),Xa=c('<select class="filter-select svelte-c8k2rg"><option>All Types</option><!></select> <select class="filter-select svelte-c8k2rg"><option>All Maltsters</option><!></select>',1),Za=c('<div class="loading-state svelte-c8k2rg"><div class="spinner svelte-c8k2rg"></div> <p>Loading library...</p></div>'),er=c('<div class="error-state svelte-c8k2rg"><p class="error-message svelte-c8k2rg"> </p> <button type="button" class="retry-btn svelte-c8k2rg">Retry</button></div>'),tr=c('<div class="empty-state svelte-c8k2rg"><p class="empty-description svelte-c8k2rg">No yeasts match your filters</p></div>'),ar=c('<button type="button" class="delete-btn svelte-c8k2rg" aria-label="Delete"><svg class="icon-sm svelte-c8k2rg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),rr=c('<span class="item-type svelte-c8k2rg"> </span>'),sr=c('<span class="item-form svelte-c8k2rg"> </span>'),lr=c('<span class="custom-badge svelte-c8k2rg">custom</span>'),or=c('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Flocculation</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),ir=c('<p class="item-description svelte-c8k2rg"> </p>'),vr=c('<div><div class="item-header svelte-c8k2rg"><h3 class="item-name svelte-c8k2rg"> </h3> <!></div> <div class="item-meta svelte-c8k2rg"><!> <!> <!></div> <div class="item-specs svelte-c8k2rg"><div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Attenuation</span> <span class="spec-value svelte-c8k2rg"> </span></div> <div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Temp Range</span> <span class="spec-value svelte-c8k2rg"> </span></div> <!></div> <!></div>'),nr=c('<div class="group svelte-c8k2rg"><h2 class="group-name svelte-c8k2rg"> <span class="group-count svelte-c8k2rg"> </span></h2> <div class="items-grid svelte-c8k2rg"></div></div>'),cr=c('<div class="items-list svelte-c8k2rg"></div>'),dr=c('<div class="empty-state svelte-c8k2rg"><p class="empty-description svelte-c8k2rg">No hops match your filters</p></div>'),pr=c('<button type="button" class="delete-btn svelte-c8k2rg" aria-label="Delete"><svg class="icon-sm svelte-c8k2rg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),ur=c('<span class="item-type svelte-c8k2rg"> </span>'),_r=c('<span class="custom-badge svelte-c8k2rg">custom</span>'),gr=c('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Beta Acid</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),mr=c('<p class="item-description svelte-c8k2rg"> </p>'),fr=c('<div><div class="item-header svelte-c8k2rg"><h3 class="item-name svelte-c8k2rg"> </h3> <!></div> <div class="item-meta svelte-c8k2rg"><!> <!></div> <div class="item-specs svelte-c8k2rg"><div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Alpha Acid</span> <span class="spec-value svelte-c8k2rg"> </span></div> <!></div> <!></div>'),kr=c('<div class="group svelte-c8k2rg"><h2 class="group-name svelte-c8k2rg"> <span class="group-count svelte-c8k2rg"> </span></h2> <div class="items-grid svelte-c8k2rg"></div></div>'),br=c('<div class="items-list svelte-c8k2rg"></div>'),hr=c('<div class="empty-state svelte-c8k2rg"><p class="empty-description svelte-c8k2rg">No fermentables match your filters</p></div>'),yr=c('<button type="button" class="delete-btn svelte-c8k2rg" aria-label="Delete"><svg class="icon-sm svelte-c8k2rg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),xr=c('<span class="item-form svelte-c8k2rg"> </span>'),wr=c('<span class="item-form svelte-c8k2rg"> </span>'),Cr=c('<span class="custom-badge svelte-c8k2rg">custom</span>'),Ar=c('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Color</span> <span class="spec-value svelte-c8k2rg" style="display: flex; align-items: center; gap: 4px;"><span class="color-swatch svelte-c8k2rg"></span> </span></div>'),Fr=c('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Potential</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),Lr=c('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Max %</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),Dr=c('<div class="spec svelte-c8k2rg"><span class="spec-label svelte-c8k2rg">Diastatic</span> <span class="spec-value svelte-c8k2rg"> </span></div>'),Pr=c('<p class="item-description svelte-c8k2rg"> </p>'),Hr=c('<div><div class="item-header svelte-c8k2rg"><h3 class="item-name svelte-c8k2rg"> </h3> <!></div> <div class="item-meta svelte-c8k2rg"><!> <!> <!></div> <div class="item-specs svelte-c8k2rg"><!> <!> <!> <!></div> <!></div>'),Or=c('<div class="group svelte-c8k2rg"><h2 class="group-name svelte-c8k2rg"> <span class="group-count svelte-c8k2rg"> </span></h2> <div class="items-grid svelte-c8k2rg"></div></div>'),Mr=c('<div class="items-list svelte-c8k2rg"></div>'),$r=c('<div class="modal-overlay svelte-c8k2rg" role="dialog" aria-modal="true"><div class="modal svelte-c8k2rg"><h2 class="modal-title svelte-c8k2rg">Add Custom Yeast</h2> <form class="modal-form svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="yeast-name" class="svelte-c8k2rg">Name *</label> <input id="yeast-name" type="text" required class="svelte-c8k2rg"/></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="yeast-producer" class="svelte-c8k2rg">Producer</label> <input id="yeast-producer" type="text" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="yeast-type" class="svelte-c8k2rg">Type</label> <select id="yeast-type" class="svelte-c8k2rg"><option>Ale</option><option>Lager</option><option>Wine</option><option>Wild</option></select></div></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="yeast-atten-low" class="svelte-c8k2rg">Attenuation Low (%)</label> <input id="yeast-atten-low" type="number" step="1" min="50" max="100" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="yeast-atten-high" class="svelte-c8k2rg">Attenuation High (%)</label> <input id="yeast-atten-high" type="number" step="1" min="50" max="100" class="svelte-c8k2rg"/></div></div> <div class="form-group svelte-c8k2rg"><label for="yeast-desc" class="svelte-c8k2rg">Description</label> <textarea id="yeast-desc" rows="2" class="svelte-c8k2rg"></textarea></div> <div class="modal-actions svelte-c8k2rg"><button type="button" class="btn-cancel svelte-c8k2rg">Cancel</button> <button type="submit" class="btn-submit svelte-c8k2rg"> </button></div></form></div></div>'),jr=c('<div class="modal-overlay svelte-c8k2rg" role="dialog" aria-modal="true"><div class="modal svelte-c8k2rg"><h2 class="modal-title svelte-c8k2rg">Add Custom Hop</h2> <form class="modal-form svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="hop-name" class="svelte-c8k2rg">Name *</label> <input id="hop-name" type="text" required class="svelte-c8k2rg"/></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="hop-origin" class="svelte-c8k2rg">Origin</label> <input id="hop-origin" type="text" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="hop-purpose" class="svelte-c8k2rg">Purpose</label> <select id="hop-purpose" class="svelte-c8k2rg"><option>Bittering</option><option>Aroma</option><option>Dual Purpose</option></select></div></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="hop-alpha-low" class="svelte-c8k2rg">Alpha Acid Low (%)</label> <input id="hop-alpha-low" type="number" step="0.1" min="0" max="30" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="hop-alpha-high" class="svelte-c8k2rg">Alpha Acid High (%)</label> <input id="hop-alpha-high" type="number" step="0.1" min="0" max="30" class="svelte-c8k2rg"/></div></div> <div class="form-group svelte-c8k2rg"><label for="hop-aroma" class="svelte-c8k2rg">Aroma Profile</label> <textarea id="hop-aroma" rows="2" class="svelte-c8k2rg"></textarea></div> <div class="modal-actions svelte-c8k2rg"><button type="button" class="btn-cancel svelte-c8k2rg">Cancel</button> <button type="submit" class="btn-submit svelte-c8k2rg"> </button></div></form></div></div>'),Tr=c('<div class="modal-overlay svelte-c8k2rg" role="dialog" aria-modal="true"><div class="modal svelte-c8k2rg"><h2 class="modal-title svelte-c8k2rg">Add Custom Fermentable</h2> <form class="modal-form svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="ferm-name" class="svelte-c8k2rg">Name *</label> <input id="ferm-name" type="text" required class="svelte-c8k2rg"/></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="ferm-type" class="svelte-c8k2rg">Type</label> <select id="ferm-type" class="svelte-c8k2rg"><option>Base</option><option>Specialty</option><option>Adjunct</option><option>Sugar</option><option>Extract</option><option>Fruit</option><option>Other</option></select></div> <div class="form-group svelte-c8k2rg"><label for="ferm-maltster" class="svelte-c8k2rg">Maltster</label> <input id="ferm-maltster" type="text" class="svelte-c8k2rg"/></div></div> <div class="form-row svelte-c8k2rg"><div class="form-group svelte-c8k2rg"><label for="ferm-color" class="svelte-c8k2rg">Color (SRM)</label> <input id="ferm-color" type="number" step="0.1" min="0" max="600" class="svelte-c8k2rg"/></div> <div class="form-group svelte-c8k2rg"><label for="ferm-potential" class="svelte-c8k2rg">Potential SG</label> <input id="ferm-potential" type="number" step="0.001" min="1.000" max="1.100" class="svelte-c8k2rg"/></div></div> <div class="form-group svelte-c8k2rg"><label for="ferm-flavor" class="svelte-c8k2rg">Flavor Profile</label> <textarea id="ferm-flavor" rows="2" class="svelte-c8k2rg"></textarea></div> <div class="modal-actions svelte-c8k2rg"><button type="button" class="btn-cancel svelte-c8k2rg">Cancel</button> <button type="submit" class="btn-submit svelte-c8k2rg"> </button></div></form></div></div>'),Br=c('<div class="modal-overlay svelte-c8k2rg" role="dialog" aria-modal="true"><div class="modal svelte-c8k2rg"><h2 class="modal-title svelte-c8k2rg"> </h2> <p class="modal-text svelte-c8k2rg"> </p> <div class="modal-actions svelte-c8k2rg"><button type="button" class="btn-cancel svelte-c8k2rg">Cancel</button> <button type="button" class="btn-delete svelte-c8k2rg"> </button></div></div></div>'),Sr=c('<div class="page-container svelte-c8k2rg"><div class="page-header svelte-c8k2rg"><div class="header-left"><h1 class="page-title svelte-c8k2rg">Ingredient Library</h1></div> <div class="header-actions svelte-c8k2rg"><button type="button" class="refresh-btn svelte-c8k2rg"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> </button> <button type="button" class="add-btn svelte-c8k2rg"><svg class="icon svelte-c8k2rg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path></svg> Add Custom</button></div></div> <div class="tabs svelte-c8k2rg"><button type="button">Yeast <span class="tab-count svelte-c8k2rg"> </span></button> <button type="button">Hops <span class="tab-count svelte-c8k2rg"> </span></button> <button type="button">Fermentables <span class="tab-count svelte-c8k2rg"> </span></button></div> <div class="filters-bar svelte-c8k2rg"><input type="text" placeholder="Search..." class="search-input svelte-c8k2rg"/> <!> <label class="custom-toggle svelte-c8k2rg"><input type="checkbox" class="svelte-c8k2rg"/> <span>Custom only</span></label></div> <!></div> <!> <!> <!> <!>',1);function Ur(Nt,Vt){xa(Vt,!0);let te=j("yeast"),rt=j(!0),de=j(null),K=j(""),He=j(!1),Se=j(!1),ye=j(ne([])),ft=j(ne([])),Ye=j(""),Ee=j(""),Re=j(!1),z=j(ne({name:"",producer:"",type:"ale",form:"dry",attenuation_low:void 0,attenuation_high:void 0,temp_low:void 0,temp_high:void 0,flocculation:"medium",description:""})),xe=j(ne([])),kt=j(ne([])),Ne=j(""),Ve=j(""),We=j(!1),Q=j(ne({name:"",origin:"",alpha_acid_low:void 0,alpha_acid_high:void 0,beta_acid_low:void 0,beta_acid_high:void 0,purpose:"dual",aroma_profile:"",substitutes:"",description:""})),we=j(ne([])),bt=j(ne([])),ht=j(ne([])),qe=j(""),Ie=j(""),Ge=j(!1),U=j(ne({name:"",type:"base",origin:"",maltster:"",color_srm:void 0,potential_sg:void 0,max_in_batch_percent:void 0,diastatic_power:void 0,flavor_profile:"",substitutes:"",description:""})),V=j(null),et=j(!1),ae=j(!1),yt=fe(()=>()=>e(ye).filter(t=>{const o=!e(K)||t.name.toLowerCase().includes(e(K).toLowerCase())||t.producer?.toLowerCase().includes(e(K).toLowerCase()),v=!e(Ye)||t.type===e(Ye),m=!e(Ee)||t.producer===e(Ee),b=!e(He)||t.is_custom;return o&&v&&m&&b})),xt=fe(()=>()=>e(xe).filter(t=>{const o=!e(K)||t.name.toLowerCase().includes(e(K).toLowerCase())||t.origin?.toLowerCase().includes(e(K).toLowerCase())||t.aroma_profile?.toLowerCase().includes(e(K).toLowerCase()),v=!e(Ne)||t.purpose===e(Ne),m=!e(Ve)||t.origin===e(Ve),b=!e(He)||t.is_custom;return o&&v&&m&&b})),wt=fe(()=>()=>e(we).filter(t=>{const o=!e(K)||t.name.toLowerCase().includes(e(K).toLowerCase())||t.maltster?.toLowerCase().includes(e(K).toLowerCase())||t.flavor_profile?.toLowerCase().includes(e(K).toLowerCase()),v=!e(qe)||t.type===e(qe),m=!e(Ie)||t.maltster===e(Ie),b=!e(He)||t.is_custom;return o&&v&&m&&b})),Wt=fe(()=>()=>{const t={};for(const o of e(yt)()){const v=o.producer||"Other";t[v]||(t[v]=[]),t[v].push(o)}return Object.fromEntries(Object.entries(t).sort(([o],[v])=>o.localeCompare(v)))}),qt=fe(()=>()=>{const t={};for(const o of e(xt)()){const v=o.origin||"Unknown";t[v]||(t[v]=[]),t[v].push(o)}return Object.fromEntries(Object.entries(t).sort(([o],[v])=>o.localeCompare(v)))}),It=fe(()=>()=>{const t={};for(const v of e(wt)()){const m=v.type||"Other";t[m]||(t[m]=[]),t[m].push(v)}const o=["base","specialty","adjunct","sugar","extract","fruit","other"];return Object.fromEntries(Object.entries(t).sort(([v],[m])=>{const b=o.indexOf(v.toLowerCase()),f=o.indexOf(m.toLowerCase());return b===-1&&f===-1?v.localeCompare(m):b===-1?1:f===-1?-1:b-f}))});async function st(){l(rt,!0),l(de,null);try{const[t,o,v,m,b,f,x]=await Promise.all([$a({limit:500}),ja(),Ta({limit:500}),Ba(),Sa({limit:500}),Ya(),Ea()]);l(ye,t,!0),l(ft,o.producers,!0),l(xe,v,!0),l(kt,m.origins,!0),l(we,b,!0),l(bt,f.types,!0),l(ht,x.maltsters,!0)}catch(t){l(de,t instanceof Error?t.message:"Failed to load library data",!0)}finally{l(rt,!1)}}async function Gt(){l(Se,!0);try{e(te)==="yeast"?await Ha():e(te)==="hops"?await Oa():await Ma(),await st()}catch(t){l(de,t instanceof Error?t.message:"Failed to refresh",!0)}finally{l(Se,!1)}}async function zt(){if(e(z).name.trim()){l(ae,!0);try{const t=await Ra(e(z));l(ye,[t,...e(ye)],!0),l(Re,!1),l(z,{name:"",producer:"",type:"ale",form:"dry",attenuation_low:void 0,attenuation_high:void 0,temp_low:void 0,temp_high:void 0,flocculation:"medium",description:""},!0)}catch(t){l(de,t instanceof Error?t.message:"Failed to add yeast",!0)}finally{l(ae,!1)}}}async function Qt(){if(e(Q).name.trim()){l(ae,!0);try{const t=await Na(e(Q));l(xe,[t,...e(xe)],!0),l(We,!1),l(Q,{name:"",origin:"",alpha_acid_low:void 0,alpha_acid_high:void 0,beta_acid_low:void 0,beta_acid_high:void 0,purpose:"dual",aroma_profile:"",substitutes:"",description:""},!0)}catch(t){l(de,t instanceof Error?t.message:"Failed to add hop",!0)}finally{l(ae,!1)}}}async function Ut(){if(e(U).name.trim()){l(ae,!0);try{const t=await Va(e(U));l(we,[t,...e(we)],!0),l(Ge,!1),l(U,{name:"",type:"base",origin:"",maltster:"",color_srm:void 0,potential_sg:void 0,max_in_batch_percent:void 0,diastatic_power:void 0,flavor_profile:"",substitutes:"",description:""},!0)}catch(t){l(de,t instanceof Error?t.message:"Failed to add fermentable",!0)}finally{l(ae,!1)}}}async function Jt(){if(e(V)){l(et,!0);try{e(V).type==="yeast"?(await Wa(e(V).id),l(ye,e(ye).filter(t=>t.id!==e(V).id),!0)):e(V).type==="hops"?(await qa(e(V).id),l(xe,e(xe).filter(t=>t.id!==e(V).id),!0)):(await Ia(e(V).id),l(we,e(we).filter(t=>t.id!==e(V).id),!0)),l(V,null)}catch(t){l(de,t instanceof Error?t.message:"Failed to delete",!0)}finally{l(et,!1)}}}function Kt(){l(K,""),l(He,!1),l(Ye,""),l(Ee,""),l(Ne,""),l(Ve,""),l(qe,""),l(Ie,"")}function lt(t){l(te,t,!0),Kt()}function Xt(t,o){return t==null&&o==null?"--":t!=null&&o!=null?`${t.toFixed(0)}-${o.toFixed(0)}째C`:t!=null?`>${t.toFixed(0)}째C`:`<${o.toFixed(0)}째C`}function Zt(t,o){return t==null&&o==null?"--":t!=null&&o!=null?t===o?`${t.toFixed(0)}%`:`${t.toFixed(0)}-${o.toFixed(0)}%`:t!=null?`>${t.toFixed(0)}%`:`<${o.toFixed(0)}%`}function Ct(t,o){return t==null&&o==null?"--":t!=null&&o!=null?`${t.toFixed(1)}-${o.toFixed(1)}%`:t!=null?`${t.toFixed(1)}%`:`${o.toFixed(1)}%`}function ea(t){switch(t){case"ale":return"var(--positive)";case"lager":return"var(--info)";case"wine":return"var(--warning)";case"wild":return"var(--negative)";default:return"var(--text-secondary)"}}function ta(t){switch(t){case"bittering":return"var(--warning)";case"aroma":return"var(--positive)";case"dual":return"var(--info)";default:return"var(--text-secondary)"}}function aa(t){return t==null?"--":`${t.toFixed(1)} SRM`}function ra(t){return t==null?"var(--text-muted)":t<=2?"#F8F4B4":t<=4?"#D9C939":t<=8?"#BF923B":t<=15?"#A85A3F":t<=25?"#6B3A2C":t<=40?"#4A2517":"#1A0C0A"}wa(st);var At=Sr();Da("c8k2rg",t=>{Aa(()=>{Fa.title="Library | BrewSignal"})});var ot=oe(At),it=s(ot),Ft=r(s(it),2),ze=s(Ft);ze.__click=Gt;var Lt=s(ze);let Dt;var sa=r(Lt);a(ze);var la=r(ze,2);la.__click=()=>{e(te)==="yeast"?l(Re,!0):e(te)==="hops"?l(We,!0):l(Ge,!0)},a(Ft),a(it);var vt=r(it,2),Qe=s(vt);let Pt;Qe.__click=()=>lt("yeast");var Ht=r(s(Qe)),oa=s(Ht,!0);a(Ht),a(Qe);var Ue=r(Qe,2);let Ot;Ue.__click=()=>lt("hops");var Mt=r(s(Ue)),ia=s(Mt,!0);a(Mt),a(Ue);var tt=r(Ue,2);let $t;tt.__click=()=>lt("fermentables");var jt=r(s(tt)),va=s(jt,!0);a(jt),a(tt),a(vt);var nt=r(vt,2),ct=s(nt);Z(ct);var Tt=r(ct,2);{var na=t=>{var o=za(),v=oe(o),m=s(v);m.value=m.__value="";var b=r(m);b.value=b.__value="ale";var f=r(b);f.value=f.__value="lager";var x=r(f);x.value=x.__value="wine";var h=r(x);h.value=h.__value="wild",a(v);var H=r(v,2),O=s(H);O.value=O.__value="";var F=r(O);ce(F,17,()=>e(ft),at,(w,B)=>{var C=Ga(),T=s(C,!0);a(C);var d={};L(()=>{g(T,e(B)),d!==(d=e(B))&&(C.value=(C.__value=e(B))??"")}),i(w,C)}),a(H),ke(v,()=>e(Ye),w=>l(Ye,w)),ke(H,()=>e(Ee),w=>l(Ee,w)),i(t,o)},ca=t=>{var o=De(),v=oe(o);{var m=f=>{var x=Ua(),h=oe(x),H=s(h);H.value=H.__value="";var O=r(H);O.value=O.__value="bittering";var F=r(O);F.value=F.__value="aroma";var w=r(F);w.value=w.__value="dual",a(h);var B=r(h,2),C=s(B);C.value=C.__value="";var T=r(C);ce(T,17,()=>e(kt),at,(d,D)=>{var M=Qa(),W=s(M,!0);a(M);var E={};L(()=>{g(W,e(D)),E!==(E=e(D))&&(M.value=(M.__value=e(D))??"")}),i(d,M)}),a(B),ke(h,()=>e(Ne),d=>l(Ne,d)),ke(B,()=>e(Ve),d=>l(Ve,d)),i(f,x)},b=f=>{var x=Xa(),h=oe(x),H=s(h);H.value=H.__value="";var O=r(H);ce(O,17,()=>e(bt),at,(C,T)=>{var d=Ja(),D=s(d,!0);a(d);var M={};L(()=>{g(D,e(T)),M!==(M=e(T))&&(d.value=(d.__value=e(T))??"")}),i(C,d)}),a(h);var F=r(h,2),w=s(F);w.value=w.__value="";var B=r(w);ce(B,17,()=>e(ht),at,(C,T)=>{var d=Ka(),D=s(d,!0);a(d);var M={};L(()=>{g(D,e(T)),M!==(M=e(T))&&(d.value=(d.__value=e(T))??"")}),i(C,d)}),a(F),ke(h,()=>e(qe),C=>l(qe,C)),ke(F,()=>e(Ie),C=>l(Ie,C)),i(f,x)};y(v,f=>{e(te)==="hops"?f(m):f(b,!1)},!0)}i(t,o)};y(Tt,t=>{e(te)==="yeast"?t(na):t(ca,!1)})}var Bt=r(Tt,2),St=s(Bt);Z(St),La(2),a(Bt),a(nt);var da=r(nt,2);{var pa=t=>{var o=Za();i(t,o)},ua=t=>{var o=De(),v=oe(o);{var m=f=>{var x=er(),h=s(x),H=s(h,!0);a(h);var O=r(h,2);O.__click=st,a(x),L(()=>g(H,e(de))),i(f,x)},b=f=>{var x=De(),h=oe(x);{var H=F=>{var w=De(),B=oe(w);{var C=d=>{var D=tr();i(d,D)},T=d=>{var D=cr();ce(D,21,()=>Object.entries(e(Wt)()),([M,W])=>M,(M,W)=>{var E=fe(()=>gt(e(W),2));let S=()=>e(E)[0],Y=()=>e(E)[1];var R=nr(),N=s(R),q=s(N),P=r(q),$=s(P);a(P),a(N);var X=r(N,2);ce(X,21,Y,ee=>ee.id,(ee,p)=>{var ie=vr();let Oe;var pe=s(ie),re=s(pe),_=s(re,!0);a(re);var se=r(re,2);{var Ce=n=>{var u=ar();u.__click=()=>l(V,{type:"yeast",id:e(p).id,name:e(p).name},!0),i(n,u)};y(se,n=>{e(p).is_custom&&n(Ce)})}a(pe);var le=r(pe,2),ve=s(le);{var Je=n=>{var u=rr(),I=s(u,!0);a(u),L(me=>{mt(u,`color: ${me??""}`),g(I,e(p).type)},[()=>ea(e(p).type)]),i(n,u)};y(ve,n=>{e(p).type&&n(Je)})}var Me=r(ve,2);{var Ke=n=>{var u=sr(),I=s(u,!0);a(u),L(()=>g(I,e(p).form)),i(n,u)};y(Me,n=>{e(p).form&&n(Ke)})}var ue=r(Me,2);{var Ae=n=>{var u=lr();i(n,u)};y(ue,n=>{e(p).is_custom&&n(Ae)})}a(le);var Fe=r(le,2),be=s(Fe),$e=r(s(be),2),Le=s($e,!0);a($e),a(be);var _e=r(be,2),ge=r(s(_e),2),je=s(ge,!0);a(ge),a(_e);var Xe=r(_e,2);{var Te=n=>{var u=or(),I=r(s(u),2),me=s(I,!0);a(I),a(u),L(()=>g(me,e(p).flocculation)),i(n,u)};y(Xe,n=>{e(p).flocculation&&n(Te)})}a(Fe);var Ze=r(Fe,2);{var Be=n=>{var u=ir(),I=s(u,!0);a(u),L(()=>g(I,e(p).description)),i(n,u)};y(Ze,n=>{e(p).description&&n(Be)})}a(ie),L((n,u)=>{Oe=Pe(ie,1,"item-card svelte-c8k2rg",null,Oe,{custom:e(p).is_custom}),g(_,e(p).name),g(Le,n),g(je,u)},[()=>Zt(e(p).attenuation_low,e(p).attenuation_high),()=>Xt(e(p).temp_low,e(p).temp_high)]),i(ee,ie)}),a(X),a(R),L(()=>{g(q,`${S()??""} `),g($,`(${Y().length??""})`)}),i(M,R)}),a(D),i(d,D)};y(B,d=>{e(yt)().length===0?d(C):d(T,!1)})}i(F,w)},O=F=>{var w=De(),B=oe(w);{var C=d=>{var D=De(),M=oe(D);{var W=S=>{var Y=dr();i(S,Y)},E=S=>{var Y=br();ce(Y,21,()=>Object.entries(e(qt)()),([R,N])=>R,(R,N)=>{var q=fe(()=>gt(e(N),2));let P=()=>e(q)[0],$=()=>e(q)[1];var X=kr(),ee=s(X),p=s(ee),ie=r(p),Oe=s(ie);a(ie),a(ee);var pe=r(ee,2);ce(pe,21,$,re=>re.id,(re,_)=>{var se=fr();let Ce;var le=s(se),ve=s(le),Je=s(ve,!0);a(ve);var Me=r(ve,2);{var Ke=n=>{var u=pr();u.__click=()=>l(V,{type:"hops",id:e(_).id,name:e(_).name},!0),i(n,u)};y(Me,n=>{e(_).is_custom&&n(Ke)})}a(le);var ue=r(le,2),Ae=s(ue);{var Fe=n=>{var u=ur(),I=s(u,!0);a(u),L(me=>{mt(u,`color: ${me??""}`),g(I,e(_).purpose)},[()=>ta(e(_).purpose)]),i(n,u)};y(Ae,n=>{e(_).purpose&&n(Fe)})}var be=r(Ae,2);{var $e=n=>{var u=_r();i(n,u)};y(be,n=>{e(_).is_custom&&n($e)})}a(ue);var Le=r(ue,2),_e=s(Le),ge=r(s(_e),2),je=s(ge,!0);a(ge),a(_e);var Xe=r(_e,2);{var Te=n=>{var u=gr(),I=r(s(u),2),me=s(I,!0);a(I),a(u),L(dt=>g(me,dt),[()=>Ct(e(_).beta_acid_low,e(_).beta_acid_high)]),i(n,u)};y(Xe,n=>{(e(_).beta_acid_low||e(_).beta_acid_high)&&n(Te)})}a(Le);var Ze=r(Le,2);{var Be=n=>{var u=mr(),I=s(u,!0);a(u),L(()=>g(I,e(_).aroma_profile)),i(n,u)};y(Ze,n=>{e(_).aroma_profile&&n(Be)})}a(se),L(n=>{Ce=Pe(se,1,"item-card svelte-c8k2rg",null,Ce,{custom:e(_).is_custom}),g(Je,e(_).name),g(je,n)},[()=>Ct(e(_).alpha_acid_low,e(_).alpha_acid_high)]),i(re,se)}),a(pe),a(X),L(()=>{g(p,`${P()??""} `),g(Oe,`(${$().length??""})`)}),i(R,X)}),a(Y),i(S,Y)};y(M,S=>{e(xt)().length===0?S(W):S(E,!1)})}i(d,D)},T=d=>{var D=De(),M=oe(D);{var W=S=>{var Y=hr();i(S,Y)},E=S=>{var Y=Mr();ce(Y,21,()=>Object.entries(e(It)()),([R,N])=>R,(R,N)=>{var q=fe(()=>gt(e(N),2));let P=()=>e(q)[0],$=()=>e(q)[1];var X=Or(),ee=s(X),p=s(ee),ie=r(p),Oe=s(ie);a(ie),a(ee);var pe=r(ee,2);ce(pe,21,$,re=>re.id,(re,_)=>{var se=Hr();let Ce;var le=s(se),ve=s(le),Je=s(ve,!0);a(ve);var Me=r(ve,2);{var Ke=k=>{var A=yr();A.__click=()=>l(V,{type:"fermentables",id:e(_).id,name:e(_).name},!0),i(k,A)};y(Me,k=>{e(_).is_custom&&k(Ke)})}a(le);var ue=r(le,2),Ae=s(ue);{var Fe=k=>{var A=xr(),G=s(A,!0);a(A),L(()=>g(G,e(_).maltster)),i(k,A)};y(Ae,k=>{e(_).maltster&&k(Fe)})}var be=r(Ae,2);{var $e=k=>{var A=wr(),G=s(A,!0);a(A),L(()=>g(G,e(_).origin)),i(k,A)};y(be,k=>{e(_).origin&&k($e)})}var Le=r(be,2);{var _e=k=>{var A=Cr();i(k,A)};y(Le,k=>{e(_).is_custom&&k(_e)})}a(ue);var ge=r(ue,2),je=s(ge);{var Xe=k=>{var A=Ar(),G=r(s(A),2),he=s(G),pt=r(he);a(G),a(A),L((ba,ha)=>{mt(he,`background: ${ba??""};`),g(pt,` ${ha??""}`)},[()=>ra(e(_).color_srm),()=>aa(e(_).color_srm)]),i(k,A)};y(je,k=>{e(_).color_srm!=null&&k(Xe)})}var Te=r(je,2);{var Ze=k=>{var A=Fr(),G=r(s(A),2),he=s(G,!0);a(G),a(A),L(pt=>g(he,pt),[()=>e(_).potential_sg.toFixed(3)]),i(k,A)};y(Te,k=>{e(_).potential_sg!=null&&k(Ze)})}var Be=r(Te,2);{var n=k=>{var A=Lr(),G=r(s(A),2),he=s(G);a(G),a(A),L(()=>g(he,`${e(_).max_in_batch_percent??""}%`)),i(k,A)};y(Be,k=>{e(_).max_in_batch_percent!=null&&k(n)})}var u=r(Be,2);{var I=k=>{var A=Dr(),G=r(s(A),2),he=s(G);a(G),a(A),L(()=>g(he,`${e(_).diastatic_power??""}째L`)),i(k,A)};y(u,k=>{e(_).diastatic_power!=null&&k(I)})}a(ge);var me=r(ge,2);{var dt=k=>{var A=Pr(),G=s(A,!0);a(A),L(()=>g(G,e(_).flavor_profile)),i(k,A)};y(me,k=>{e(_).flavor_profile&&k(dt)})}a(se),L(()=>{Ce=Pe(se,1,"item-card svelte-c8k2rg",null,Ce,{custom:e(_).is_custom}),g(Je,e(_).name)}),i(re,se)}),a(pe),a(X),L(()=>{g(p,`${P()??""} `),g(Oe,`(${$().length??""})`)}),i(R,X)}),a(Y),i(S,Y)};y(M,S=>{e(wt)().length===0?S(W):S(E,!1)})}i(d,D)};y(B,d=>{e(te)==="hops"?d(C):d(T,!1)},!0)}i(F,w)};y(h,F=>{e(te)==="yeast"?F(H):F(O,!1)},!0)}i(f,x)};y(v,f=>{e(de)?f(m):f(b,!1)},!0)}i(t,o)};y(da,t=>{e(rt)?t(pa):t(ua,!1)})}a(ot);var Yt=r(ot,2);{var _a=t=>{var o=$r();o.__click=()=>l(Re,!1);var v=s(o);v.__click=$=>$.stopPropagation();var m=r(s(v),2),b=s(m),f=r(s(b),2);Z(f),a(b);var x=r(b,2),h=s(x),H=r(s(h),2);Z(H),a(h);var O=r(h,2),F=r(s(O),2),w=s(F);w.value=w.__value="ale";var B=r(w);B.value=B.__value="lager";var C=r(B);C.value=C.__value="wine";var T=r(C);T.value=T.__value="wild",a(F),a(O),a(x);var d=r(x,2),D=s(d),M=r(s(D),2);Z(M),a(D);var W=r(D,2),E=r(s(W),2);Z(E),a(W),a(d);var S=r(d,2),Y=r(s(S),2);_t(Y),a(S);var R=r(S,2),N=s(R);N.__click=()=>l(Re,!1);var q=r(N,2),P=s(q,!0);a(q),a(R),a(m),a(v),a(o),L($=>{q.disabled=$,g(P,e(ae)?"Adding...":"Add Yeast")},[()=>e(ae)||!e(z).name.trim()]),ut("submit",m,$=>{$.preventDefault(),zt()}),J(f,()=>e(z).name,$=>e(z).name=$),J(H,()=>e(z).producer,$=>e(z).producer=$),ke(F,()=>e(z).type,$=>e(z).type=$),J(M,()=>e(z).attenuation_low,$=>e(z).attenuation_low=$),J(E,()=>e(z).attenuation_high,$=>e(z).attenuation_high=$),J(Y,()=>e(z).description,$=>e(z).description=$),i(t,o)};y(Yt,t=>{e(Re)&&t(_a)})}var Et=r(Yt,2);{var ga=t=>{var o=jr();o.__click=()=>l(We,!1);var v=s(o);v.__click=P=>P.stopPropagation();var m=r(s(v),2),b=s(m),f=r(s(b),2);Z(f),a(b);var x=r(b,2),h=s(x),H=r(s(h),2);Z(H),a(h);var O=r(h,2),F=r(s(O),2),w=s(F);w.value=w.__value="bittering";var B=r(w);B.value=B.__value="aroma";var C=r(B);C.value=C.__value="dual",a(F),a(O),a(x);var T=r(x,2),d=s(T),D=r(s(d),2);Z(D),a(d);var M=r(d,2),W=r(s(M),2);Z(W),a(M),a(T);var E=r(T,2),S=r(s(E),2);_t(S),a(E);var Y=r(E,2),R=s(Y);R.__click=()=>l(We,!1);var N=r(R,2),q=s(N,!0);a(N),a(Y),a(m),a(v),a(o),L(P=>{N.disabled=P,g(q,e(ae)?"Adding...":"Add Hop")},[()=>e(ae)||!e(Q).name.trim()]),ut("submit",m,P=>{P.preventDefault(),Qt()}),J(f,()=>e(Q).name,P=>e(Q).name=P),J(H,()=>e(Q).origin,P=>e(Q).origin=P),ke(F,()=>e(Q).purpose,P=>e(Q).purpose=P),J(D,()=>e(Q).alpha_acid_low,P=>e(Q).alpha_acid_low=P),J(W,()=>e(Q).alpha_acid_high,P=>e(Q).alpha_acid_high=P),J(S,()=>e(Q).aroma_profile,P=>e(Q).aroma_profile=P),i(t,o)};y(Et,t=>{e(We)&&t(ga)})}var Rt=r(Et,2);{var ma=t=>{var o=Tr();o.__click=()=>l(Ge,!1);var v=s(o);v.__click=p=>p.stopPropagation();var m=r(s(v),2),b=s(m),f=r(s(b),2);Z(f),a(b);var x=r(b,2),h=s(x),H=r(s(h),2),O=s(H);O.value=O.__value="base";var F=r(O);F.value=F.__value="specialty";var w=r(F);w.value=w.__value="adjunct";var B=r(w);B.value=B.__value="sugar";var C=r(B);C.value=C.__value="extract";var T=r(C);T.value=T.__value="fruit";var d=r(T);d.value=d.__value="other",a(H),a(h);var D=r(h,2),M=r(s(D),2);Z(M),a(D),a(x);var W=r(x,2),E=s(W),S=r(s(E),2);Z(S),a(E);var Y=r(E,2),R=r(s(Y),2);Z(R),a(Y),a(W);var N=r(W,2),q=r(s(N),2);_t(q),a(N);var P=r(N,2),$=s(P);$.__click=()=>l(Ge,!1);var X=r($,2),ee=s(X,!0);a(X),a(P),a(m),a(v),a(o),L(p=>{X.disabled=p,g(ee,e(ae)?"Adding...":"Add Fermentable")},[()=>e(ae)||!e(U).name.trim()]),ut("submit",m,p=>{p.preventDefault(),Ut()}),J(f,()=>e(U).name,p=>e(U).name=p),ke(H,()=>e(U).type,p=>e(U).type=p),J(M,()=>e(U).maltster,p=>e(U).maltster=p),J(S,()=>e(U).color_srm,p=>e(U).color_srm=p),J(R,()=>e(U).potential_sg,p=>e(U).potential_sg=p),J(q,()=>e(U).flavor_profile,p=>e(U).flavor_profile=p),i(t,o)};y(Rt,t=>{e(Ge)&&t(ma)})}var fa=r(Rt,2);{var ka=t=>{var o=Br();o.__click=()=>l(V,null);var v=s(o);v.__click=w=>w.stopPropagation();var m=s(v),b=s(m);a(m);var f=r(m,2),x=s(f);a(f);var h=r(f,2),H=s(h);H.__click=()=>l(V,null);var O=r(H,2);O.__click=Jt;var F=s(O,!0);a(O),a(h),a(v),a(o),L(()=>{g(b,`Delete ${e(V).type==="yeast"?"Yeast":e(V).type==="hops"?"Hop":"Fermentable"}?`),g(x,`Are you sure you want to delete "${e(V).name??""}"? This cannot be undone.`),O.disabled=e(et),g(F,e(et)?"Deleting...":"Delete")}),i(t,o)};y(fa,t=>{e(V)&&t(ka)})}L(()=>{ze.disabled=e(Se),Dt=Pe(Lt,0,"icon svelte-c8k2rg",null,Dt,{spinning:e(Se)}),g(sa,` ${e(Se)?"Refreshing...":"Refresh DB"}`),Pt=Pe(Qe,1,"tab svelte-c8k2rg",null,Pt,{active:e(te)==="yeast"}),g(oa,e(ye).length),Ot=Pe(Ue,1,"tab svelte-c8k2rg",null,Ot,{active:e(te)==="hops"}),g(ia,e(xe).length),$t=Pe(tt,1,"tab svelte-c8k2rg",null,$t,{active:e(te)==="fermentables"}),g(va,e(we).length)}),J(ct,()=>e(K),t=>l(K,t)),Pa(St,()=>e(He),t=>l(He,t)),i(Nt,At),Ca()}ya(["click"]);export{Ur as component};
