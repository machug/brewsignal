import{d as qa,f as p,a as o,s as j,t as ke,b as Ot,c as Ya}from"../chunks/D7bl-hCC.js";import{ah as Va,aq as c,p as Ns,ap as Rt,c as e,ao as Qa,aj as Xa,s as a,e as Za,ak as s,al as i,ai as Ls,am as $a,an as t,as as H,ar as x,at as Te}from"../chunks/CDGrRRS4.js";import{e as Js,i as Gs}from"../chunks/qsSua8e8.js";import{i as _}from"../chunks/Cg1NE5Eo.js";import{h as ei}from"../chunks/DA8KTw8j.js";import{r as U,s as Q}from"../chunks/BDaOlnf6.js";import{s as K}from"../chunks/vT9oYAV7.js";import{b as R}from"../chunks/DjjCnkE4.js";import{i as si,s as ti,b as Ks}from"../chunks/Hxk7fwGZ.js";import{c as b,f as ai,u as Ce,a as ii}from"../chunks/Ci8IyR0l.js";var ni=p('<div class="loading-state svelte-hj1sc2"><div class="loading-spinner svelte-hj1sc2"></div> <span class="svelte-hj1sc2">Loading system information...</span></div>'),li=p('<div class="info-grid svelte-hj1sc2"><div class="info-item svelte-hj1sc2"><span class="info-label svelte-hj1sc2">Hostname</span> <span class="info-value font-mono svelte-hj1sc2"> </span></div> <div class="info-item svelte-hj1sc2"><span class="info-label svelte-hj1sc2">Version</span> <span class="info-value font-mono svelte-hj1sc2"> </span></div> <div class="info-item svelte-hj1sc2"><span class="info-label svelte-hj1sc2">Uptime</span> <span class="info-value font-mono svelte-hj1sc2"> </span></div> <div class="info-item svelte-hj1sc2"><span class="info-label svelte-hj1sc2">IP Address</span> <span class="info-value font-mono svelte-hj1sc2"> </span></div></div>'),ri=p('<p class="text-muted svelte-hj1sc2">Unable to load system information</p>'),oi=p('<div class="setting-row sub-setting svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Smoothing Samples</span> <span class="setting-description svelte-hj1sc2">Number of readings to average</span></div> <select class="select-input-sm svelte-hj1sc2"><option class="svelte-hj1sc2">3</option><option class="svelte-hj1sc2">5</option><option class="svelte-hj1sc2">10</option><option class="svelte-hj1sc2">15</option><option class="svelte-hj1sc2">20</option></select></div>'),ci=p('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),vi=p('<p class="config-error svelte-hj1sc2"> </p>'),di=p('<p class="config-success svelte-hj1sc2">Settings saved</p>'),pi=p('<option class="svelte-hj1sc2"> </option>'),hi=p('<div class="loading-spinner-small svelte-hj1sc2"></div>'),ui=p('<div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Connection Status</span></div> <span> </span></div>'),_i=p("<span> </span>"),fi=p('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),gi=p('<p class="config-error svelte-hj1sc2"> </p>'),mi=p('<p class="config-success svelte-hj1sc2">Settings saved</p>'),ji=p('<!> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Home Assistant URL</span> <span class="setting-description svelte-hj1sc2">e.g., http://192.168.1.100:8123</span></div> <input type="url" placeholder="http://homeassistant.local:8123" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Access Token</span> <span class="setting-description svelte-hj1sc2">Long-lived access token from HA profile</span></div> <input type="password" placeholder="Enter token..." class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Test Connection</span></div> <div class="test-connection svelte-hj1sc2"><button type="button" class="btn-secondary-sm svelte-hj1sc2"> </button> <!></div></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Ambient Temp Entity</span> <span class="setting-description svelte-hj1sc2">e.g., sensor.fermenter_room_temperature</span></div> <input type="text" placeholder="sensor.xxx_temperature" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Ambient Humidity Entity</span> <span class="setting-description svelte-hj1sc2">Optional humidity sensor</span></div> <input type="text" placeholder="sensor.xxx_humidity" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Weather Entity</span> <span class="setting-description svelte-hj1sc2">For forecast display, e.g., weather.home</span></div> <input type="text" placeholder="weather.home" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Chamber Temperature Entity</span> <span class="setting-description svelte-hj1sc2">Temperature sensor inside fermentation chamber</span></div> <input type="text" placeholder="sensor.chamber_temperature" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Chamber Humidity Entity</span> <span class="setting-description svelte-hj1sc2">Humidity sensor inside fermentation chamber</span></div> <input type="text" placeholder="sensor.chamber_humidity" class="input-field svelte-hj1sc2"/></div> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div>',1),bi=p('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),yi=p('<p class="config-error svelte-hj1sc2"> </p>'),wi=p('<p class="config-success svelte-hj1sc2">Settings saved</p>'),xi=p(`<p class="section-note svelte-hj1sc2">Configure heater switches per batch. These are the default settings used when a batch doesn't specify its own.</p> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Default Target Temperature</span> <span class="setting-description svelte-hj1sc2"> </span></div> <div class="input-with-unit svelte-hj1sc2"><input type="number" step="0.5" class="input-field input-number svelte-hj1sc2"/> <span class="unit svelte-hj1sc2"> </span></div></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Default Hysteresis</span> <span class="setting-description svelte-hj1sc2"> </span></div> <div class="input-with-unit svelte-hj1sc2"><input type="number" class="input-field input-number svelte-hj1sc2"/> <span class="unit svelte-hj1sc2"> </span></div></div> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div>`,1),Si=p('<div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Temperature Control</h2></div> <div class="card-body svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Enable Temperature Control</span> <span class="setting-description svelte-hj1sc2">Automatically control heaters for batches</span></div> <button type="button" aria-label="Toggle temperature control"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!></div></div>'),ki=p('<div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Alert Threshold</span> <span class="setting-description svelte-hj1sc2">Alert when forecast differs from target by this amount (°C)</span></div> <div class="input-with-unit svelte-hj1sc2"><input type="number" min="1" max="15" step="0.5" class="input-field-sm svelte-hj1sc2"/> <span class="unit svelte-hj1sc2">°C</span></div></div> <p class="setting-hint mt-2 svelte-hj1sc2">Alerts are generated when the forecast high or low temperatures differ from your target fermentation temperature by more than the threshold.</p>',1),Ti=p('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),Ci=p('<p class="config-error svelte-hj1sc2"> </p>'),Ai=p('<p class="config-success svelte-hj1sc2">Settings saved</p>'),Ei=p('<div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Weather Alerts</h2></div> <div class="card-body svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Enable Weather Alerts</span> <span class="setting-description svelte-hj1sc2">Get alerts when forecast temps may affect fermentation</span></div> <button type="button" aria-label="Toggle weather alerts"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div></div></div>'),Ii=p('<option class="svelte-hj1sc2"> </option>'),Fi=p('<a target="_blank" rel="noopener" class="text-amber-400 hover:underline ml-1 svelte-hj1sc2">Setup guide →</a>'),zi=p('<p class="setting-hint mb-3 svelte-hj1sc2"> <!></p>'),Mi=p('<div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">API Key</span> <span class="setting-description svelte-hj1sc2"> </span></div> <input type="password" placeholder="sk-..." class="input-field svelte-hj1sc2"/></div>'),Pi=p('<div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Ollama URL</span> <span class="setting-description svelte-hj1sc2">URL of your Ollama server</span></div> <input type="text" placeholder="http://localhost:11434" class="input-field svelte-hj1sc2"/></div>'),Hi=p('<option class="svelte-hj1sc2"> </option>'),Ui=p('<p class="setting-hint mb-3 svelte-hj1sc2"> </p>'),Ri=p('<span class="loading-dot svelte-hj1sc2"></span> Testing...',1),Oi=p('<p class="config-success mt-2 svelte-hj1sc2"> </p>'),Bi=p('<p class="config-error mt-2 svelte-hj1sc2"> </p>'),Di=p('<div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Provider</span> <span class="setting-description svelte-hj1sc2">Choose where to run the AI model</span></div> <select class="input-field input-select svelte-hj1sc2"></select></div> <!> <!> <!> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Model</span> <span class="setting-description svelte-hj1sc2">AI model to use</span></div> <select class="input-field input-select svelte-hj1sc2"><option class="svelte-hj1sc2">Default</option><!></select></div> <!> <details class="mt-4 svelte-hj1sc2"><summary class="cursor-pointer text-zinc-400 hover:text-zinc-200 svelte-hj1sc2">Advanced Settings</summary> <div class="mt-3 space-y-3 svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Temperature</span> <span class="setting-description svelte-hj1sc2">Higher = more creative, lower = more focused</span></div> <input type="number" min="0" max="2" step="0.1" class="input-field input-number svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Max Tokens</span> <span class="setting-description svelte-hj1sc2">Maximum response length</span></div> <input type="number" min="100" max="8000" step="100" class="input-field input-number svelte-hj1sc2"/></div></div></details> <div class="mt-4 svelte-hj1sc2"><button type="button" class="btn-secondary svelte-hj1sc2"><!></button> <!></div>',1),Ni=p('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),Li=p('<p class="config-error svelte-hj1sc2"> </p>'),Ji=p('<p class="config-success svelte-hj1sc2">Settings saved</p>'),Gi=p('<div class="stat-item svelte-hj1sc2"><span class="stat-value font-mono svelte-hj1sc2"> </span> <span class="stat-label svelte-hj1sc2">Total Readings</span></div> <div class="stat-item svelte-hj1sc2"><span class="stat-value font-mono svelte-hj1sc2"> </span> <span class="stat-label svelte-hj1sc2">Estimated Size</span></div>',1),Ki=p('<p class="text-muted svelte-hj1sc2">Unable to load storage stats</p>'),Wi=p('<button type="button" class="btn-danger-sm svelte-hj1sc2"> </button>'),qi=p('<p class="cleanup-message svelte-hj1sc2"> </p>'),Yi=p('<span class="loading-dot svelte-hj1sc2"></span> Rebooting...',1),Vi=Ot('<svg class="w-4 h-4 svelte-hj1sc2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" class="svelte-hj1sc2"></path></svg> Reboot System',1),Qi=p('<span class="loading-dot svelte-hj1sc2"></span> Shutting down...',1),Xi=Ot('<svg class="w-4 h-4 svelte-hj1sc2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636" class="svelte-hj1sc2"></path></svg> Shutdown System',1),Zi=p(`<div class="grid gap-6 svelte-hj1sc2"><div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">System Information</h2></div> <div class="card-body svelte-hj1sc2"><!></div></div> <div class="grid gap-6 md:grid-cols-2 svelte-hj1sc2"><div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Application Settings</h2></div> <div class="card-body svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Temperature Units</span> <span class="setting-description svelte-hj1sc2">Display temperature in Celsius or Fahrenheit</span></div> <div class="unit-toggle svelte-hj1sc2"><button type="button">°C</button> <button type="button">°F</button></div></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Gravity Units</span> <span class="setting-description svelte-hj1sc2">Display gravity as SG, Plato, or Brix</span></div> <div class="unit-toggle svelte-hj1sc2"><button type="button">SG</button> <button type="button">°P</button> <button type="button">°Bx</button></div></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Minimum RSSI</span> <span class="setting-description svelte-hj1sc2">Ignore readings below this signal strength</span></div> <div class="rssi-input svelte-hj1sc2"><input type="number" min="-100" max="0" class="input-field-sm svelte-hj1sc2"/> <span class="input-suffix svelte-hj1sc2">dBm</span></div></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Reading Smoothing</span> <span class="setting-description svelte-hj1sc2">Average multiple readings to reduce noise</span></div> <button type="button" aria-label="Toggle reading smoothing"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Identify by MAC</span> <span class="setting-description svelte-hj1sc2">Use MAC address instead of broadcast ID</span></div> <button type="button" aria-label="Toggle identify by MAC address"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div></div></div> <div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Timezone</h2></div> <div class="card-body svelte-hj1sc2"><p class="section-description svelte-hj1sc2">Current timezone: <span class="font-mono text-[var(--accent)] svelte-hj1sc2"> </span></p> <div class="timezone-selector svelte-hj1sc2"><select class="select-input svelte-hj1sc2"></select> <!></div></div></div></div> <div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Home Assistant</h2></div> <div class="card-body svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Enable Integration</span> <span class="setting-description svelte-hj1sc2">Connect to Home Assistant for ambient temp and control</span></div> <button type="button" aria-label="Enable Home Assistant integration"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!></div></div> <!> <!> <div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">AI Brewing Assistant</h2></div> <div class="card-body svelte-hj1sc2"><p class="section-description mb-4 svelte-hj1sc2">Enable an AI assistant to help with recipe creation, fermentation troubleshooting, and brewing advice.
						Use a local model (Ollama) for free and private operation, or connect to cloud providers.</p> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Enable AI Assistant</span> <span class="setting-description svelte-hj1sc2">Turn on AI-powered brewing features</span></div> <button type="button" aria-label="Toggle AI assistant"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div></div></div> <div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Storage & Data Cleanup</h2></div> <div class="card-body svelte-hj1sc2"><div class="storage-grid svelte-hj1sc2"><div class="storage-stats svelte-hj1sc2"><!></div> <div class="cleanup-section svelte-hj1sc2"><p class="section-description mb-3 svelte-hj1sc2">Remove old readings to free up storage. Readings older than the specified days will be permanently deleted.</p> <div class="cleanup-controls svelte-hj1sc2"><div class="cleanup-input-group svelte-hj1sc2"><label for="retention-days" class="svelte-hj1sc2">Keep readings from last</label> <input id="retention-days" type="number" min="1" max="365" class="input-field-sm svelte-hj1sc2"/> <span class="svelte-hj1sc2">days</span></div> <div class="cleanup-actions svelte-hj1sc2"><button type="button" class="btn-secondary-sm svelte-hj1sc2"> </button> <!></div></div> <!></div></div></div></div> <div class="card danger-zone svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Power Controls</h2></div> <div class="card-body svelte-hj1sc2"><p class="section-description danger-text svelte-hj1sc2">These actions will affect the entire system. Make sure you have saved any pending work.</p> <div class="power-buttons svelte-hj1sc2"><button type="button" class="btn-warning svelte-hj1sc2"><!></button> <button type="button" class="btn-danger svelte-hj1sc2"><!></button></div></div></div></div>`),$i=p('<div class="page-container svelte-hj1sc2"><div class="page-header svelte-hj1sc2"><h1 class="page-title svelte-hj1sc2">System</h1> <p class="page-description svelte-hj1sc2">System settings, timezone configuration, and power controls</p> <div class="header-actions svelte-hj1sc2"><a href="/system/maintenance" class="btn-secondary-link svelte-hj1sc2"><svg class="w-4 h-4 svelte-hj1sc2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" class="svelte-hj1sc2"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" class="svelte-hj1sc2"></path></svg> Data Maintenance</a></div></div> <!></div>');function dn(Bt,Dt){Va(Dt,!0);let oe=c(null),Ne=c(null),Ws=c(Ns([])),ge=c(""),qs=c(!0),z=c(null),me=c("C"),le=c("sg"),Le=c(-100),ce=c(!1),Je=c(5),je=c(!1),Ge=c(!1),Ke=c(null),We=c(!1),be=c(30),Z=c(null),se=c(!1),ye=c(""),we=c(""),qe=c(""),Ye=c(""),Ve=c(""),Qe=c(""),Ae=c(""),Xe=c(!1),ve=c(null),Ze=c(null),$e=c(!1),es=c(null),ss=c(!1),de=c(!1),ts=c(68),Ee=c(1),as=c(!1),is=c(null),ns=c(!1),pe=c(!1),ls=c(3),rs=c(!1),os=c(null),cs=c(!1),re=c(!1),W=c("local"),he=c(""),Ie=c(""),Fe=c(""),ze=c(.7),Me=c(2e3),vs=c(!1),ds=c(null),ps=c(!1),hs=c(!1),ue=c(null),xe=c(Ns([])),Pe=c(Ns([])),te=Ls(()=>b.config.temp_units==="C"),us=Ls(()=>e(te)?"°C":"°F");function Nt(l){return e(te)?ii(l):l}function Lt(l){return e(te)?ai(l):l}async function Jt(){try{const l=await fetch("/api/system/info");l.ok&&a(oe,await l.json(),!0)}catch(l){console.error("Failed to load system info:",l)}}async function Ys(){try{const l=await fetch("/api/system/storage");l.ok&&a(Ne,await l.json(),!0)}catch(l){console.error("Failed to load storage stats:",l)}}async function Gt(){try{const[l,T]=await Promise.all([fetch("/api/system/timezones"),fetch("/api/system/timezone")]);if(l.ok){const O=await l.json();a(Ws,O.timezones||[],!0)}if(T.ok){const O=await T.json();a(ge,O.timezone||"UTC",!0)}}catch(l){console.error("Failed to load timezones:",l)}}function Vs(){a(me,b.config.temp_units,!0),a(le,b.config.sg_units,!0),a(Le,b.config.min_rssi,!0),a(ce,b.config.smoothing_enabled,!0),a(Je,b.config.smoothing_samples,!0),a(je,b.config.id_by_mac,!0),a(se,b.config.ha_enabled,!0),a(ye,b.config.ha_url,!0),a(we,b.config.ha_token,!0),a(qe,b.config.ha_ambient_temp_entity_id,!0),a(Ye,b.config.ha_ambient_humidity_entity_id,!0),a(Ve,b.config.ha_chamber_temp_entity_id,!0),a(Qe,b.config.ha_chamber_humidity_entity_id,!0),a(Ae,b.config.ha_weather_entity_id,!0),a(de,b.config.temp_control_enabled,!0),a(ts,Math.round(Lt(b.config.temp_target)*2)/2),a(Ee,b.config.temp_units==="C"?Math.round(b.config.temp_hysteresis*(5/9)*100)/100:b.config.temp_hysteresis,!0),a(pe,b.config.weather_alerts_enabled,!0),a(ls,b.config.alert_temp_threshold,!0),a(re,b.config.ai_enabled??!1,!0),a(W,b.config.ai_provider??"local",!0),a(he,b.config.ai_model??"",!0),a(Ie,b.config.ai_api_key??"",!0),a(Fe,b.config.ai_base_url??"",!0),a(ze,b.config.ai_temperature??.7,!0),a(Me,b.config.ai_max_tokens??2e3,!0)}async function Kt(){try{const l=await fetch("/api/assistant/providers");l.ok&&a(xe,await l.json(),!0)}catch(l){console.error("Failed to load AI providers:",l)}}async function Wt(l){try{const T=await fetch(`/api/assistant/models/${l}`);if(T.ok){const O=await T.json();a(Pe,O.models,!0)}}catch(T){console.error("Failed to load AI models:",T),a(Pe,[],!0)}}async function qt(){a(vs,!0),a(ds,null),a(ps,!1);try{await Ce({ai_enabled:e(re),ai_provider:e(W),ai_model:e(he),ai_api_key:e(Ie),ai_base_url:e(Fe),ai_temperature:e(ze),ai_max_tokens:e(Me)}),a(ps,!0),setTimeout(()=>a(ps,!1),3e3)}catch(l){a(ds,l instanceof Error?l.message:"Failed to save AI settings",!0)}finally{a(vs,!1)}}async function Yt(){a(hs,!0),a(ue,null);try{await Ce({ai_enabled:e(re),ai_provider:e(W),ai_model:e(he),ai_api_key:e(Ie),ai_base_url:e(Fe),ai_temperature:e(ze),ai_max_tokens:e(Me)});const T=await(await fetch("/api/assistant/test",{method:"POST"})).json();a(ue,T,!0)}catch(l){a(ue,{success:!1,error:l instanceof Error?l.message:"Connection test failed"},!0)}finally{a(hs,!1)}}Rt(()=>{e(W)&&Wt(e(W))});async function Vt(){a(Ge,!0),a(Ke,null),a(We,!1);try{const l=await Ce({temp_units:e(me),sg_units:e(le),min_rssi:e(Le),smoothing_enabled:e(ce),smoothing_samples:e(Je),id_by_mac:e(je)});l.success?(a(We,!0),setTimeout(()=>a(We,!1),3e3)):a(Ke,l.error||"Failed to save settings",!0)}finally{a(Ge,!1)}}async function Qt(){a($e,!0),a(es,null),a(ss,!1);try{const l=await Ce({ha_enabled:e(se),ha_url:e(ye),ha_token:e(we),ha_ambient_temp_entity_id:e(qe),ha_ambient_humidity_entity_id:e(Ye),ha_chamber_temp_entity_id:e(Ve),ha_chamber_humidity_entity_id:e(Qe),ha_weather_entity_id:e(Ae)});l.success?(a(ss,!0),setTimeout(()=>a(ss,!1),3e3),await Xs()):a(es,l.error||"Failed to save settings",!0)}finally{a($e,!1)}}async function Xt(){a(as,!0),a(is,null),a(ns,!1);try{const l=Nt(e(ts)),T=e(te)?e(Ee)*(9/5):e(Ee),O=await Ce({temp_control_enabled:e(de),temp_target:l,temp_hysteresis:T});O.success?(a(ns,!0),setTimeout(()=>a(ns,!1),3e3)):a(is,O.error||"Failed to save settings",!0)}finally{a(as,!1)}}async function Zt(){a(rs,!0),a(os,null),a(cs,!1);try{const l=await Ce({weather_alerts_enabled:e(pe),alert_temp_threshold:e(ls)});l.success?(a(cs,!0),setTimeout(()=>a(cs,!1),3e3)):a(os,l.error||"Failed to save settings",!0)}finally{a(rs,!1)}}async function $t(l){a(z,"timezone");try{(await fetch("/api/system/timezone",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({timezone:l})})).ok&&a(ge,l,!0)}catch(T){console.error("Failed to set timezone:",T)}finally{a(z,null)}}async function ea(){a(z,"cleanup-preview");try{const l=await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_days:e(be),confirm:!1})});l.ok&&a(Z,await l.json(),!0)}catch(l){console.error("Failed to preview cleanup:",l)}finally{a(z,null)}}async function sa(){if(!(!e(Z)||e(Z).readings_to_delete===0)&&confirm(`Delete ${e(Z).readings_to_delete.toLocaleString()} readings older than ${e(be)} days?`)){a(z,"cleanup");try{(await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_days:e(be),confirm:!0})})).ok&&(a(Z,null),await Ys())}catch(l){console.error("Failed to execute cleanup:",l)}finally{a(z,null)}}}async function ta(){if(confirm("Are you sure you want to reboot the system? The UI will be unavailable until restart completes.")){a(z,"reboot");try{await fetch("/api/system/reboot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})})}catch(l){console.error("Reboot command failed:",l)}finally{a(z,null)}}}async function aa(){if(confirm("Are you sure you want to shut down the system? You will need physical access to restart.")){a(z,"shutdown");try{await fetch("/api/system/shutdown",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})})}catch(l){console.error("Shutdown command failed:",l)}finally{a(z,null)}}}function ia(l){if(!l)return"Unknown";const T=Math.floor(l/86400),O=Math.floor(l%86400/3600),He=Math.floor(l%3600/60),_e=[];return T>0&&_e.push(`${T}d`),O>0&&_e.push(`${O}h`),He>0&&_e.push(`${He}m`),_e.length>0?_e.join(" "):"< 1m"}function na(l){return!Number.isFinite(l)||l<0?"0 B":l<1024?`${l} B`:l<1024*1024?`${(l/1024).toFixed(1)} KB`:`${(l/(1024*1024)).toFixed(1)} MB`}function Qs(l){return l.toLocaleString()}async function la(){a(Xe,!0),a(ve,null);try{const l=await fetch("/api/ha/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e(ye),token:e(we)})});l.ok?a(ve,await l.json(),!0):a(ve,{success:!1,message:"Request failed"},!0)}catch{a(ve,{success:!1,message:"Network error"},!0)}finally{a(Xe,!1)}}async function Xs(){try{const l=await fetch("/api/ha/status");l.ok&&a(Ze,await l.json(),!0)}catch(l){console.error("Failed to load HA status:",l)}}Qa(async()=>{await Promise.all([Jt(),Ys(),Gt(),Xs(),Kt()]),Vs(),a(qs,!1)}),Rt(()=>{b.loaded&&Vs()});var fs=$i();ei("hj1sc2",l=>{Za(()=>{$a.title="System | BrewSignal"})});var ra=s(i(fs),2);{var oa=l=>{var T=ni();o(l,T)},ca=l=>{var T=Zi(),O=i(T),He=s(i(O),2),_e=i(He);{var va=n=>{var r=li(),f=i(r),y=s(i(f),2),S=i(y,!0);t(y),t(f);var C=s(f,2),A=s(i(C),2),B=i(A);t(A),t(C);var E=s(C,2),M=s(i(E),2),P=i(M,!0);t(M),t(E);var N=s(E,2),J=s(i(N),2),$=i(J,!0);t(J),t(N),t(r),x(G=>{j(S,e(oe).hostname),j(B,`v${e(oe).version??""}`),j(P,G),j($,e(oe).ip_addresses.length>0?e(oe).ip_addresses[0]:"Unknown")},[()=>ia(e(oe).uptime_seconds)]),o(n,r)},da=n=>{var r=ri();o(n,r)};_(_e,n=>{e(oe)?n(va):n(da,!1)})}t(He),t(O);var gs=s(O,2),ms=i(gs),Zs=s(i(ms),2),js=i(Zs),$s=s(i(js),2),bs=i($s);let et;bs.__click=()=>a(me,"C");var st=s(bs,2);let tt;st.__click=()=>a(me,"F"),t($s),t(js);var ys=s(js,2),at=s(i(ys),2),ws=i(at);let it;ws.__click=()=>a(le,"sg");var xs=s(ws,2);let nt;xs.__click=()=>a(le,"plato");var lt=s(xs,2);let rt;lt.__click=()=>a(le,"brix"),t(at),t(ys);var Ss=s(ys,2),ot=s(i(Ss),2),ct=i(ot);U(ct),H(2),t(ot),t(Ss);var ks=s(Ss,2),Ts=s(i(ks),2);let vt;Ts.__click=()=>a(ce,!e(ce)),t(ks);var dt=s(ks,2);{var pa=n=>{var r=oi(),f=s(i(r),2),y=i(f);y.value=y.__value=3;var S=s(y);S.value=S.__value=5;var C=s(S);C.value=C.__value=10;var A=s(C);A.value=A.__value=15;var B=s(A);B.value=B.__value=20,t(f),t(r),Ks(f,()=>e(Je),E=>a(Je,E)),o(n,r)};_(dt,n=>{e(ce)&&n(pa)})}var Cs=s(dt,2),As=s(i(Cs),2);let pt;As.__click=()=>a(je,!e(je)),t(Cs);var ht=s(Cs,2),Ue=i(ht);Ue.__click=Vt;var ha=i(Ue);{var ua=n=>{var r=ci();H(),o(n,r)},_a=n=>{var r=ke("Save Settings");o(n,r)};_(ha,n=>{e(Ge)?n(ua):n(_a,!1)})}t(Ue);var ut=s(Ue,2);{var fa=n=>{var r=vi(),f=i(r,!0);t(r),x(()=>j(f,e(Ke))),o(n,r)};_(ut,n=>{e(Ke)&&n(fa)})}var ga=s(ut,2);{var ma=n=>{var r=di();o(n,r)};_(ga,n=>{e(We)&&n(ma)})}t(ht),t(Zs),t(ms);var _t=s(ms,2),ft=s(i(_t),2),Es=i(ft),gt=s(i(Es)),ja=i(gt,!0);t(gt),t(Es);var mt=s(Es,2),ae=i(mt);ae.__change=n=>$t(n.currentTarget.value),Js(ae,21,()=>e(Ws),Gs,(n,r)=>{var f=pi(),y=i(f,!0);t(f);var S={};x(()=>{j(y,e(r)),S!==(S=e(r))&&(f.value=(f.__value=e(r))??"")}),o(n,f)}),t(ae);var jt;si(ae);var ba=s(ae,2);{var ya=n=>{var r=hi();o(n,r)};_(ba,n=>{e(z)==="timezone"&&n(ya)})}t(mt),t(ft),t(_t),t(gs);var Is=s(gs,2),bt=s(i(Is),2),Fs=i(bt),zs=s(i(Fs),2);let yt;zs.__click=()=>a(se,!e(se)),t(Fs);var wa=s(Fs,2);{var xa=n=>{var r=ji(),f=Te(r);{var y=v=>{var g=ui(),d=s(i(g),2);let F;var Ds=i(d,!0);t(d),t(g),x(()=>{F=K(d,1,"status-badge svelte-hj1sc2",null,F,{connected:e(Ze).connected}),j(Ds,e(Ze).connected?"Connected":"Disconnected")}),o(v,g)};_(f,v=>{e(Ze)&&v(y)})}var S=s(f,2),C=s(i(S),2);U(C),t(S);var A=s(S,2),B=s(i(A),2);U(B),t(A);var E=s(A,2),M=s(i(E),2),P=i(M);P.__click=la;var N=i(P,!0);t(P);var J=s(P,2);{var $=v=>{var g=_i();let d;var F=i(g,!0);t(g),x(()=>{d=K(g,1,"test-result svelte-hj1sc2",null,d,{success:e(ve).success}),j(F,e(ve).message)}),o(v,g)};_(J,v=>{e(ve)&&v($)})}t(M),t(E);var G=s(E,2),q=s(i(G),2);U(q),t(G);var Y=s(G,2),w=s(i(Y),2);U(w),t(Y);var k=s(Y,2),L=s(i(k),2);U(L),t(k);var V=s(k,2),ee=s(i(V),2);U(ee),t(V);var X=s(V,2),D=s(i(X),2);U(D),t(X);var fe=s(X,2),ie=i(fe);ie.__click=Qt;var Se=i(ie);{var ne=v=>{var g=fi();H(),o(v,g)},De=v=>{var g=ke("Save HA Settings");o(v,g)};_(Se,v=>{e($e)?v(ne):v(De,!1)})}t(ie);var h=s(ie,2);{var u=v=>{var g=gi(),d=i(g,!0);t(g),x(()=>j(d,e(es))),o(v,g)};_(h,v=>{e(es)&&v(u)})}var m=s(h,2);{var I=v=>{var g=mi();o(v,g)};_(m,v=>{e(ss)&&v(I)})}t(fe),x(()=>{P.disabled=e(Xe)||!e(ye)||!e(we),j(N,e(Xe)?"Testing...":"Test"),ie.disabled=e($e)}),R(C,()=>e(ye),v=>a(ye,v)),R(B,()=>e(we),v=>a(we,v)),R(q,()=>e(qe),v=>a(qe,v)),R(w,()=>e(Ye),v=>a(Ye,v)),R(L,()=>e(Ae),v=>a(Ae,v)),R(ee,()=>e(Ve),v=>a(Ve,v)),R(D,()=>e(Qe),v=>a(Qe,v)),o(n,r)};_(wa,n=>{e(se)&&n(xa)})}t(bt),t(Is);var wt=s(Is,2);{var Sa=n=>{var r=Si(),f=s(i(r),2),y=i(f),S=s(i(y),2);let C;S.__click=()=>a(de,!e(de)),t(y);var A=s(y,2);{var B=E=>{var M=xi(),P=s(Te(M),2),N=i(P),J=s(i(N),2),$=i(J);t(J),t(N);var G=s(N,2),q=i(G);U(q);var Y=s(q,2),w=i(Y,!0);t(Y),t(G),t(P);var k=s(P,2),L=i(k),V=s(i(L),2),ee=i(V);t(V),t(L);var X=s(L,2),D=i(X);U(D);var fe=s(D,2),ie=i(fe,!0);t(fe),t(X),t(k);var Se=s(k,2),ne=i(Se);ne.__click=Xt;var De=i(ne);{var h=d=>{var F=bi();H(),o(d,F)},u=d=>{var F=ke("Save Control Settings");o(d,F)};_(De,d=>{e(as)?d(h):d(u,!1)})}t(ne);var m=s(ne,2);{var I=d=>{var F=yi(),Ds=i(F,!0);t(F),x(()=>j(Ds,e(is))),o(d,F)};_(m,d=>{e(is)&&d(I)})}var v=s(m,2);{var g=d=>{var F=wi();o(d,F)};_(v,d=>{e(ns)&&d(g)})}t(Se),x(()=>{j($,`Desired fermentation temperature (${e(us)??""})`),Q(q,"min",e(te)?0:32),Q(q,"max",e(te)?38:100),j(w,e(us)),j(ee,`± tolerance before triggering (${e(us)??""})`),Q(D,"min",e(te)?.3:.5),Q(D,"max",e(te)?5.5:10),Q(D,"step",e(te)?.25:.5),j(ie,e(us)),ne.disabled=e(as)}),R(q,()=>e(ts),d=>a(ts,d)),R(D,()=>e(Ee),d=>a(Ee,d)),o(E,M)};_(A,E=>{e(de)&&E(B)})}t(f),t(r),x(()=>{C=K(S,1,"toggle svelte-hj1sc2",null,C,{active:e(de)}),Q(S,"aria-pressed",e(de))}),o(n,r)};_(wt,n=>{e(se)&&n(Sa)})}var xt=s(wt,2);{var ka=n=>{var r=Ei(),f=s(i(r),2),y=i(f),S=s(i(y),2);let C;S.__click=()=>a(pe,!e(pe)),t(y);var A=s(y,2);{var B=w=>{var k=ki(),L=Te(k),V=s(i(L),2),ee=i(V);U(ee),H(2),t(V),t(L),H(2),R(ee,()=>e(ls),X=>a(ls,X)),o(w,k)};_(A,w=>{e(pe)&&w(B)})}var E=s(A,2),M=i(E);M.__click=Zt;var P=i(M);{var N=w=>{var k=Ti();H(),o(w,k)},J=w=>{var k=ke("Save Alert Settings");o(w,k)};_(P,w=>{e(rs)?w(N):w(J,!1)})}t(M);var $=s(M,2);{var G=w=>{var k=Ci(),L=i(k,!0);t(k),x(()=>j(L,e(os))),o(w,k)};_($,w=>{e(os)&&w(G)})}var q=s($,2);{var Y=w=>{var k=Ai();o(w,k)};_(q,w=>{e(cs)&&w(Y)})}t(E),t(f),t(r),x(()=>{C=K(S,1,"toggle svelte-hj1sc2",null,C,{active:e(pe)}),Q(S,"aria-pressed",e(pe)),M.disabled=e(rs)}),o(n,r)};_(xt,n=>{e(se)&&e(Ae)&&n(ka)})}var Ms=s(xt,2),St=s(i(Ms),2),Ps=s(i(St),2),Hs=s(i(Ps),2);let kt;Hs.__click=()=>a(re,!e(re)),t(Ps);var Tt=s(Ps,2);{var Ta=n=>{var r=Di(),f=Te(r),y=s(i(f),2);Js(y,21,()=>e(xe),Gs,(h,u)=>{var m=Ii(),I=i(m,!0);t(m);var v={};x(()=>{j(I,e(u).name),v!==(v=e(u).id)&&(m.value=(m.__value=e(u).id)??"")}),o(h,m)}),t(y),t(f);var S=s(f,2);{var C=h=>{const u=Ls(()=>e(xe).find(d=>d.id===e(W)));var m=zi(),I=i(m),v=s(I);{var g=d=>{var F=Fi();x(()=>Q(F,"href",e(u).setup_url)),o(d,F)};_(v,d=>{e(u)?.setup_url&&d(g)})}t(m),x(()=>j(I,`${e(u)?.description??""} `)),o(h,m)};_(S,h=>{e(xe).find(u=>u.id===e(W))&&h(C)})}var A=s(S,2);{var B=h=>{var u=Mi(),m=i(u),I=s(i(m),2),v=i(I);t(I),t(m);var g=s(m,2);U(g),t(u),x(d=>j(v,`Your API key for ${d??""}`),[()=>e(xe).find(d=>d.id===e(W))?.name]),R(g,()=>e(Ie),d=>a(Ie,d)),o(h,u)};_(A,h=>{e(xe).find(u=>u.id===e(W))?.requires_api_key&&h(B)})}var E=s(A,2);{var M=h=>{var u=Pi(),m=s(i(u),2);U(m),t(u),R(m,()=>e(Fe),I=>a(Fe,I)),o(h,u)};_(E,h=>{e(W)==="local"&&h(M)})}var P=s(E,2),N=s(i(P),2),J=i(N);J.value=J.__value="";var $=s(J);Js($,17,()=>e(Pe),Gs,(h,u)=>{var m=Hi(),I=i(m,!0);t(m);var v={};x(()=>{j(I,e(u).name),v!==(v=e(u).id)&&(m.value=(m.__value=e(u).id)??"")}),o(h,m)}),t(N),t(P);var G=s(P,2);{var q=h=>{var u=Ui(),m=i(u,!0);t(u),x(I=>j(m,I),[()=>e(Pe).find(I=>I.id===e(he))?.description]),o(h,u)};_(G,h=>{e(Pe).find(u=>u.id===e(he))&&h(q)})}var Y=s(G,2),w=s(i(Y),2),k=i(w),L=s(i(k),2);U(L),t(k);var V=s(k,2),ee=s(i(V),2);U(ee),t(V),t(w),t(Y);var X=s(Y,2),D=i(X);D.__click=Yt;var fe=i(D);{var ie=h=>{var u=Ri();H(),o(h,u)},Se=h=>{var u=ke("Test Connection");o(h,u)};_(fe,h=>{e(hs)?h(ie):h(Se,!1)})}t(D);var ne=s(D,2);{var De=h=>{var u=Ya(),m=Te(u);{var I=g=>{var d=Oi(),F=i(d);t(d),x(()=>j(F,`Connected! Response: "${e(ue).response??""}"`)),o(g,d)},v=g=>{var d=Bi(),F=i(d,!0);t(d),x(()=>j(F,e(ue).error)),o(g,d)};_(m,g=>{e(ue).success?g(I):g(v,!1)})}o(h,u)};_(ne,h=>{e(ue)&&h(De)})}t(X),x(()=>D.disabled=e(hs)),Ks(y,()=>e(W),h=>a(W,h)),Ks(N,()=>e(he),h=>a(he,h)),R(L,()=>e(ze),h=>a(ze,h)),R(ee,()=>e(Me),h=>a(Me,h)),o(n,r)};_(Tt,n=>{e(re)&&n(Ta)})}var Ct=s(Tt,2),Re=i(Ct);Re.__click=qt;var Ca=i(Re);{var Aa=n=>{var r=Ni();H(),o(n,r)},Ea=n=>{var r=ke("Save AI Settings");o(n,r)};_(Ca,n=>{e(vs)?n(Aa):n(Ea,!1)})}t(Re);var At=s(Re,2);{var Ia=n=>{var r=Li(),f=i(r,!0);t(r),x(()=>j(f,e(ds))),o(n,r)};_(At,n=>{e(ds)&&n(Ia)})}var Fa=s(At,2);{var za=n=>{var r=Ji();o(n,r)};_(Fa,n=>{e(ps)&&n(za)})}t(Ct),t(St),t(Ms);var Us=s(Ms,2),Et=s(i(Us),2),It=i(Et),Rs=i(It),Ma=i(Rs);{var Pa=n=>{var r=Gi(),f=Te(r),y=i(f),S=i(y,!0);t(y),H(2),t(f);var C=s(f,2),A=i(C),B=i(A,!0);t(A),H(2),t(C),x((E,M)=>{j(S,E),j(B,M)},[()=>Qs(e(Ne).total_readings),()=>na(e(Ne).estimated_size_bytes)]),o(n,r)},Ha=n=>{var r=Ki();o(n,r)};_(Ma,n=>{e(Ne)?n(Pa):n(Ha,!1)})}t(Rs);var Ft=s(Rs,2),Os=s(i(Ft),2),Bs=i(Os),zt=s(i(Bs),2);U(zt),H(2),t(Bs);var Mt=s(Bs,2),Oe=i(Mt);Oe.__click=ea;var Ua=i(Oe,!0);t(Oe);var Ra=s(Oe,2);{var Oa=n=>{var r=Wi();r.__click=sa;var f=i(r,!0);t(r),x(y=>{r.disabled=e(z)!==null,j(f,y)},[()=>e(z)==="cleanup"?"Deleting...":`Delete ${Qs(e(Z).readings_to_delete)} readings`]),o(n,r)};_(Ra,n=>{e(Z)&&e(Z).readings_to_delete>0&&n(Oa)})}t(Mt),t(Os);var Ba=s(Os,2);{var Da=n=>{var r=qi(),f=i(r);t(r),x(()=>j(f,`No readings older than ${e(be)??""} days found.`)),o(n,r)};_(Ba,n=>{e(Z)&&e(Z).readings_to_delete===0&&n(Da)})}t(Ft),t(It),t(Et),t(Us);var Pt=s(Us,2),Ht=s(i(Pt),2),Ut=s(i(Ht),2),Be=i(Ut);Be.__click=ta;var Na=i(Be);{var La=n=>{var r=Yi();H(),o(n,r)},Ja=n=>{var r=Vi();H(),o(n,r)};_(Na,n=>{e(z)==="reboot"?n(La):n(Ja,!1)})}t(Be);var _s=s(Be,2);_s.__click=aa;var Ga=i(_s);{var Ka=n=>{var r=Qi();H(),o(n,r)},Wa=n=>{var r=Xi();H(),o(n,r)};_(Ga,n=>{e(z)==="shutdown"?n(Ka):n(Wa,!1)})}t(_s),t(Ut),t(Ht),t(Pt),t(T),x(()=>{et=K(bs,1,"unit-btn svelte-hj1sc2",null,et,{active:e(me)==="C"}),tt=K(st,1,"unit-btn svelte-hj1sc2",null,tt,{active:e(me)==="F"}),it=K(ws,1,"unit-btn svelte-hj1sc2",null,it,{active:e(le)==="sg"}),nt=K(xs,1,"unit-btn svelte-hj1sc2",null,nt,{active:e(le)==="plato"}),rt=K(lt,1,"unit-btn svelte-hj1sc2",null,rt,{active:e(le)==="brix"}),vt=K(Ts,1,"toggle svelte-hj1sc2",null,vt,{active:e(ce)}),Q(Ts,"aria-pressed",e(ce)),pt=K(As,1,"toggle svelte-hj1sc2",null,pt,{active:e(je)}),Q(As,"aria-pressed",e(je)),Ue.disabled=e(Ge),j(ja,e(ge)),ae.disabled=e(z)==="timezone",jt!==(jt=e(ge))&&(ae.value=(ae.__value=e(ge))??"",ti(ae,e(ge))),yt=K(zs,1,"toggle svelte-hj1sc2",null,yt,{active:e(se)}),Q(zs,"aria-pressed",e(se)),kt=K(Hs,1,"toggle svelte-hj1sc2",null,kt,{active:e(re)}),Q(Hs,"aria-pressed",e(re)),Re.disabled=e(vs),Oe.disabled=e(z)!==null,j(Ua,e(z)==="cleanup-preview"?"Checking...":"Preview"),Be.disabled=e(z)!==null,_s.disabled=e(z)!==null}),R(ct,()=>e(Le),n=>a(Le,n)),R(zt,()=>e(be),n=>a(be,n)),o(l,T)};_(ra,l=>{e(qs)?l(oa):l(ca,!1)})}t(fs),o(Bt,fs),Xa()}qa(["click","change"]);export{dn as component};
