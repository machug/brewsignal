import{f as u,a as l,c as N,s as E}from"../chunks/_XOVx4lj.js";import{a as Z,o as ee,t as f,h as ae,ay as re,g as d,d as t,i as e,l as te,c as s,s as m,at as se,j as i,f as M}from"../chunks/DB-qchCW.js";import{i as _}from"../chunks/CxlJqsN3.js";import{h as ie}from"../chunks/D33WWFu2.js";import{s as oe}from"../chunks/N6Y6k7Jx.js";import{s as ne,a as le}from"../chunks/DCPTKMIa.js";import{g as z}from"../chunks/CNiz0znG.js";import{p as ce}from"../chunks/BS8uJXST.js";import{N as ve,O as pe}from"../chunks/rnB6BuId.js";import{R as de}from"../chunks/C6LA94zx.js";const ue=!1,Me=Object.freeze(Object.defineProperty({__proto__:null,prerender:ue},Symbol.toStringTag,{value:"Module"}));var ge=u('<div class="loading-state svelte-1gzu0z"><div class="spinner svelte-1gzu0z"></div> <p>Loading recipe...</p></div>'),fe=u('<div class="error-state svelte-1gzu0z"><p class="error-message svelte-1gzu0z"> </p></div>'),me=u('<div class="error-banner svelte-1gzu0z"><svg class="error-icon svelte-1gzu0z" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),_e=u('<div class="page-header svelte-1gzu0z"><h1 class="page-title svelte-1gzu0z">Edit Recipe</h1> <p class="page-description svelte-1gzu0z"> </p></div> <!> <!>',1),ze=u('<div class="page-container svelte-1gzu0z"><div class="back-link svelte-1gzu0z"><a class="back-btn svelte-1gzu0z"><svg class="back-icon svelte-1gzu0z" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg> Back to Recipe</a></div> <!></div>');function Se(O,I){Z(I,!0);const L=()=>le(ce,"$page",P),[P,T]=ne();let c=m(null),h=m(!0),o=m(null),b=m(!1),r=te(()=>{const a=parseInt(L().params.id||"",10);return isNaN(a)||a<=0?null:a});ee(async()=>{if(!e(r)){s(h,!1),z("/recipes");return}try{s(c,await ve(e(r)),!0)}catch(a){s(o,a instanceof Error?a.message:"Failed to load recipe",!0)}finally{s(h,!1)}});async function q(a){if(e(r)){s(b,!0),s(o,null);try{await pe(e(r),a),z(`/recipes/${e(r)}`)}catch(n){s(o,n instanceof Error?n.message:"Failed to update recipe",!0),s(b,!1)}}}function A(){e(r)?z(`/recipes/${e(r)}`):z("/recipes")}var k=ze();ie("1gzu0z",a=>{re(()=>{se.title=`Edit ${(e(c)?.name||"Recipe")??""} | BrewSignal`})});var $=t(k),D=t($);i($);var G=d($,2);{var H=a=>{var n=ge();l(a,n)},J=a=>{var n=N(),K=M(n);{var Q=v=>{var p=fe(),g=t(p),y=t(g,!0);i(g),i(p),f(()=>E(y,e(o))),l(v,p)},U=v=>{var p=N(),g=M(p);{var y=w=>{var S=_e(),x=M(S),B=d(t(x),2),V=t(B);i(B),i(x);var C=d(x,2);{var W=R=>{var j=me(),F=d(t(j),2),Y=t(F,!0);i(F),i(j),f(()=>E(Y,e(o))),l(R,j)};_(C,R=>{e(o)&&R(W)})}var X=d(C,2);de(X,{get recipe(){return e(c)},onSubmit:q,onCancel:A,get submitting(){return e(b)}}),f(()=>E(V,`Editing: ${e(c).name??""}`)),l(w,S)};_(g,w=>{e(c)&&w(y)},!0)}l(v,p)};_(K,v=>{e(o)&&!e(c)?v(Q):v(U,!1)},!0)}l(a,n)};_(G,a=>{e(h)?a(H):a(J,!1)})}i(k),f(()=>oe(D,"href",`/recipes/${e(r)??""}`)),l(O,k),ae(),T()}export{Se as component,Me as universal};
