import{d as Aa,f as c,a as r,s as _,c as cs,t as Ca}from"../chunks/BPY3LF1i.js";import{a as Sa,s as o,p as Ws,az as kt,h as e,o as Ma,g as Ta,c as l,A as Ha,u as wt,ax as Ia,d as a,r as t,f as X,e as s,t as b,n as we}from"../chunks/WzhiZOZ9.js";import{e as Qs,i as Ys}from"../chunks/DnC7am1E.js";import{i as p}from"../chunks/DTo_ih-i.js";import{h as Pa}from"../chunks/BJzfFUzm.js";import{s as U,r as D}from"../chunks/D5Ox4mlS.js";import{s as O}from"../chunks/BYYdgBsh.js";import{b as N}from"../chunks/Cw-VE3R0.js";import{i as za,s as Ba,b as Xs}from"../chunks/BX-VZZUc.js";import{c as f,f as La,u as Ms}from"../chunks/DHBlVBC1.js";var Ea=c('<div class="loading-state svelte-hj1sc2"><div class="loading-spinner svelte-hj1sc2"></div> <span class="svelte-hj1sc2">Loading system information...</span></div>'),Fa=c('<span class="ai-chip svelte-hj1sc2"><span class="ai-dot svelte-hj1sc2"></span> <span class="ai-tops svelte-hj1sc2"> </span></span>'),Oa=c('<span class="ai-unavailable svelte-hj1sc2">Not detected</span>'),Ra=c('<option class="svelte-hj1sc2"> </option>'),Ua=c('<select class="mini-select svelte-hj1sc2"><option class="svelte-hj1sc2">3</option><option class="svelte-hj1sc2">5</option><option class="svelte-hj1sc2">10</option><option class="svelte-hj1sc2">15</option><option class="svelte-hj1sc2">20</option></select>'),Da=c('<span class="error-msg svelte-hj1sc2"> </span>'),Na=c('<span class="success-msg svelte-hj1sc2">Saved</span>'),Va=c('<div class="section-content svelte-hj1sc2"><div class="settings-grid svelte-hj1sc2"><div class="setting-group svelte-hj1sc2"><label class="setting-label svelte-hj1sc2">Temperature</label> <div class="toggle-group svelte-hj1sc2"><button type="button">°C</button> <button type="button">°F</button></div></div> <div class="setting-group svelte-hj1sc2"><label class="setting-label svelte-hj1sc2">Gravity</label> <div class="toggle-group triple svelte-hj1sc2"><button type="button">SG</button> <button type="button">°P</button> <button type="button">°Bx</button></div></div> <div class="setting-group svelte-hj1sc2"><label class="setting-label svelte-hj1sc2">Min Signal</label> <div class="input-group svelte-hj1sc2"><input type="number" min="-100" max="0" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2">dBm</span></div></div> <div class="setting-group svelte-hj1sc2"><label class="setting-label svelte-hj1sc2">Timezone</label> <select class="select-input svelte-hj1sc2"></select></div></div> <div class="settings-divider svelte-hj1sc2"></div> <div class="toggle-settings svelte-hj1sc2"><div class="toggle-setting svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Reading Smoothing</span> <span class="toggle-desc svelte-hj1sc2">Average readings to reduce noise</span></div> <div class="toggle-controls svelte-hj1sc2"><!> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div></div> <div class="toggle-setting svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Identify by MAC</span> <span class="toggle-desc svelte-hj1sc2">Use MAC address instead of broadcast ID</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div></div> <div class="section-actions svelte-hj1sc2"><button type="button" class="save-btn svelte-hj1sc2"> </button> <!> <!></div></div>'),qa=c('<span class="status-pill connected svelte-hj1sc2">Connected</span>'),$a=c('<span class="status-pill disconnected svelte-hj1sc2">Disconnected</span>'),Ga=c("<span> </span>"),Ja=c('<div class="inline-setting svelte-hj1sc2"><label class="svelte-hj1sc2">Alert when forecast differs by more than</label> <div class="input-group compact svelte-hj1sc2"><input type="number" min="1" max="15" step="0.5" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2">°C</span></div></div>'),Ka=c('<div class="subsection svelte-hj1sc2"><h3 class="svelte-hj1sc2">Weather Alerts</h3> <div class="toggle-setting svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Enable Alerts</span> <span class="toggle-desc svelte-hj1sc2">Notify when forecast may affect fermentation</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div> <!></div>'),Wa=c('<div class="control-defaults svelte-hj1sc2"><div class="inline-setting svelte-hj1sc2"><label class="svelte-hj1sc2">Default target</label> <div class="input-group compact svelte-hj1sc2"><input type="number" step="0.5" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2"> </span></div></div> <div class="inline-setting svelte-hj1sc2"><label class="svelte-hj1sc2">Hysteresis</label> <div class="input-group compact svelte-hj1sc2"><input type="number" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2"> </span></div></div></div>'),Qa=c('<div class="subsection svelte-hj1sc2"><h3 class="svelte-hj1sc2">Temperature Control</h3> <div class="toggle-setting svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Enable Control</span> <span class="toggle-desc svelte-hj1sc2">Automatically manage heaters for batches</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div> <!></div>'),Ya=c('<div class="form-grid svelte-hj1sc2"><div class="form-field full svelte-hj1sc2"><label for="ha-url" class="svelte-hj1sc2">Home Assistant URL</label> <input id="ha-url" type="url" placeholder="http://192.168.1.100:8123" class="svelte-hj1sc2"/></div> <div class="form-field full svelte-hj1sc2"><label for="ha-token" class="svelte-hj1sc2">Access Token</label> <input id="ha-token" type="password" placeholder="Long-lived access token" class="svelte-hj1sc2"/></div> <div class="form-field svelte-hj1sc2"><label for="ha-ambient-temp" class="svelte-hj1sc2">Ambient Temp Entity</label> <input id="ha-ambient-temp" type="text" placeholder="sensor.xxx_temperature" class="svelte-hj1sc2"/></div> <div class="form-field svelte-hj1sc2"><label for="ha-ambient-humidity" class="svelte-hj1sc2">Ambient Humidity</label> <input id="ha-ambient-humidity" type="text" placeholder="sensor.xxx_humidity" class="svelte-hj1sc2"/></div> <div class="form-field svelte-hj1sc2"><label for="ha-chamber-temp" class="svelte-hj1sc2">Chamber Temp</label> <input id="ha-chamber-temp" type="text" placeholder="sensor.chamber_temperature" class="svelte-hj1sc2"/></div> <div class="form-field svelte-hj1sc2"><label for="ha-chamber-humidity" class="svelte-hj1sc2">Chamber Humidity</label> <input id="ha-chamber-humidity" type="text" placeholder="sensor.chamber_humidity" class="svelte-hj1sc2"/></div> <div class="form-field full svelte-hj1sc2"><label for="ha-weather" class="svelte-hj1sc2">Weather Entity</label> <input id="ha-weather" type="text" placeholder="weather.home" class="svelte-hj1sc2"/></div></div> <div class="inline-actions svelte-hj1sc2"><button type="button" class="test-btn svelte-hj1sc2"> </button> <!></div> <!> <!>',1),Xa=c('<span class="error-msg svelte-hj1sc2"> </span>'),Za=c('<span class="success-msg svelte-hj1sc2">Saved</span>'),el=c('<div class="section-content svelte-hj1sc2"><div class="toggle-setting prominent svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Enable Integration</span> <span class="toggle-desc svelte-hj1sc2">Connect to Home Assistant for environmental data and control</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div> <!> <div class="section-actions svelte-hj1sc2"><button type="button" class="save-btn svelte-hj1sc2"> </button> <!> <!></div></div>'),sl=c('<span class="status-pill enabled svelte-hj1sc2">Enabled</span>'),tl=c('<option class="svelte-hj1sc2"> </option>'),al=c('<option class="svelte-hj1sc2"> </option>'),ll=c('<p class="ai-detected svelte-hj1sc2"> </p>'),il=c('<p class="warning svelte-hj1sc2">AI HAT+ not detected. Ensure hardware is installed and drivers loaded.</p>'),nl=c('<div class="info-box hailo svelte-hj1sc2"><h4 class="svelte-hj1sc2">Hailo AI HAT+ Setup</h4> <!> <p class="svelte-hj1sc2">Uses <a href="https://www.raspberrypi.com/documentation/computers/ai.html" target="_blank" rel="noopener" class="svelte-hj1sc2">hailo-ollama</a> for hardware-accelerated inference.</p> <ol class="svelte-hj1sc2"><li class="svelte-hj1sc2">Install Hailo drivers: <code class="svelte-hj1sc2">sudo apt install hailo-all</code></li> <li class="svelte-hj1sc2">Install AI packages: <code class="svelte-hj1sc2">sudo apt install hailo-ai-sw-suite</code></li> <li class="svelte-hj1sc2">Download model zoo from <a href="https://www.raspberrypi.com/documentation/computers/ai.html#model-zoo" target="_blank" rel="noopener" class="svelte-hj1sc2">RPi docs</a></li> <li class="svelte-hj1sc2">Start server: <code class="svelte-hj1sc2">hailo-ollama</code> (runs on port 8000)</li></ol> <p class="hint svelte-hj1sc2">Models like Qwen2 1.5B and Llama 3.2 1B are optimized for Hailo-10H.</p></div> <div class="form-field full svelte-hj1sc2"><label for="ai-url" class="svelte-hj1sc2">Hailo-Ollama URL</label> <input id="ai-url" type="text" placeholder="http://localhost:8000" class="svelte-hj1sc2"/></div>',1),ol=c('<p class="hint svelte-hj1sc2">For local AI on Pi, select <strong class="svelte-hj1sc2">Hailo AI HAT+</strong> provider instead.</p>'),rl=c(`<p class="svelte-hj1sc2"><strong class="svelte-hj1sc2">Remote Ollama (Recommended)</strong> — Run Ollama on a PC/Mac with GPU for fast responses.</p> <ol class="svelte-hj1sc2"><li class="svelte-hj1sc2">Install from <a href="https://ollama.ai/download" target="_blank" rel="noopener" class="svelte-hj1sc2">ollama.ai</a></li> <li class="svelte-hj1sc2">Run: <code class="svelte-hj1sc2">OLLAMA_HOST=0.0.0.0 ollama serve</code></li> <li class="svelte-hj1sc2">Pull a model: <code class="svelte-hj1sc2">ollama pull llama3:8b</code></li> <li class="svelte-hj1sc2">Enter the remote machine's IP below</li></ol> <!>`,1),cl=c('<p class="gpu-detected svelte-hj1sc2"><strong class="svelte-hj1sc2">GPU detected:</strong> <!></p> <p class="svelte-hj1sc2">Local Ollama is recommended for this system.</p> <ol class="svelte-hj1sc2"><li class="svelte-hj1sc2">Install from <a href="https://ollama.ai/download" target="_blank" rel="noopener" class="svelte-hj1sc2">ollama.ai</a></li> <li class="svelte-hj1sc2">Pull a model: <code class="svelte-hj1sc2">ollama pull llama3:8b</code></li> <li class="svelte-hj1sc2">Keep the default URL (localhost)</li></ol>',1),vl=c('<ol class="svelte-hj1sc2"><li class="svelte-hj1sc2">Install from <a href="https://ollama.ai/download" target="_blank" rel="noopener" class="svelte-hj1sc2">ollama.ai</a></li> <li class="svelte-hj1sc2">Pull a model: <code class="svelte-hj1sc2">ollama pull llama3:8b</code></li></ol> <p class="hint svelte-hj1sc2">For remote Ollama, run: <code class="svelte-hj1sc2">OLLAMA_HOST=0.0.0.0 ollama serve</code></p>',1),dl=c('<div class="info-box svelte-hj1sc2"><h4 class="svelte-hj1sc2">Ollama Setup</h4> <!></div> <div class="form-field full svelte-hj1sc2"><label for="ai-url" class="svelte-hj1sc2">Ollama URL</label> <input id="ai-url" type="text" placeholder="http://localhost:11434" class="svelte-hj1sc2"/></div>',1),hl=c('<span class="field-hint success svelte-hj1sc2">API key detected from environment</span>'),ul=c('<div class="form-field full svelte-hj1sc2"><label for="ai-key" class="svelte-hj1sc2">API Key</label> <input id="ai-key" type="password" class="svelte-hj1sc2"/> <!></div>'),pl=c('<span class="test-result success svelte-hj1sc2"> </span>'),_l=c('<span class="test-result svelte-hj1sc2"> </span>'),ml=c('<div class="form-grid svelte-hj1sc2"><div class="form-field svelte-hj1sc2"><label for="ai-provider" class="svelte-hj1sc2">Provider</label> <select id="ai-provider" class="svelte-hj1sc2"></select></div> <div class="form-field svelte-hj1sc2"><label for="ai-model" class="svelte-hj1sc2">Model</label> <select id="ai-model" class="svelte-hj1sc2"><option class="svelte-hj1sc2">Default</option><!></select></div></div> <!> <details class="advanced-settings svelte-hj1sc2"><summary class="svelte-hj1sc2">Advanced Settings</summary> <div class="form-grid svelte-hj1sc2"><div class="form-field svelte-hj1sc2"><label for="ai-temp" class="svelte-hj1sc2">Temperature</label> <input id="ai-temp" type="number" min="0" max="2" step="0.1" class="svelte-hj1sc2"/> <span class="field-hint svelte-hj1sc2">Higher = more creative</span></div> <div class="form-field svelte-hj1sc2"><label for="ai-tokens" class="svelte-hj1sc2">Max Tokens</label> <input id="ai-tokens" type="number" min="100" max="8000" step="100" class="svelte-hj1sc2"/></div></div></details> <div class="inline-actions svelte-hj1sc2"><button type="button" class="test-btn svelte-hj1sc2"> </button> <!></div>',1),fl=c('<span class="error-msg svelte-hj1sc2"> </span>'),jl=c('<span class="success-msg svelte-hj1sc2">Saved</span>'),gl=c(`<div class="section-content svelte-hj1sc2"><p class="section-intro svelte-hj1sc2">Get AI-powered help with recipe creation, fermentation troubleshooting, and brewing advice.
							Use a local model for privacy or connect to cloud providers.</p> <div class="toggle-setting prominent svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Enable AI Assistant</span> <span class="toggle-desc svelte-hj1sc2">Activate brewing AI features</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div> <!> <div class="section-actions svelte-hj1sc2"><button type="button" class="save-btn svelte-hj1sc2"> </button> <!> <!></div></div>`),bl=c('<span class="storage-badge svelte-hj1sc2"> </span>'),yl=c('<button type="button" class="danger-btn svelte-hj1sc2"> </button>'),kl=c('<p class="cleanup-result svelte-hj1sc2"> </p>'),wl=c('<div class="section-content svelte-hj1sc2"><div class="storage-stats svelte-hj1sc2"><div class="stat svelte-hj1sc2"><span class="stat-value svelte-hj1sc2"> </span> <span class="stat-label svelte-hj1sc2">Total Readings</span></div> <div class="stat svelte-hj1sc2"><span class="stat-value svelte-hj1sc2"> </span> <span class="stat-label svelte-hj1sc2">Database Size</span></div></div> <div class="cleanup-section svelte-hj1sc2"><p class="svelte-hj1sc2">Remove old readings to free storage. This action is permanent.</p> <div class="cleanup-controls svelte-hj1sc2"><label class="svelte-hj1sc2">Keep readings from last</label> <div class="input-group compact svelte-hj1sc2"><input type="number" min="1" max="365" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2">days</span></div> <button type="button" class="secondary-btn svelte-hj1sc2"> </button> <!></div> <!></div></div>'),xl=c('<div class="section-content svelte-hj1sc2"><p class="warning-text svelte-hj1sc2">These actions affect the entire system. Ensure all work is saved.</p> <div class="power-actions svelte-hj1sc2"><button type="button" class="warning-btn svelte-hj1sc2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-hj1sc2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" class="svelte-hj1sc2"></path></svg> </button> <button type="button" class="danger-btn large svelte-hj1sc2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-hj1sc2"><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9" class="svelte-hj1sc2"></path></svg> </button></div></div>'),Al=c('<header class="status-banner svelte-hj1sc2"><div class="status-grid svelte-hj1sc2"><div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Hostname</span> <span class="status-value svelte-hj1sc2"> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Version</span> <span class="status-value svelte-hj1sc2"> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Uptime</span> <span class="status-value svelte-hj1sc2"> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">IP Address</span> <span class="status-value svelte-hj1sc2"> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Readings</span> <span class="status-value svelte-hj1sc2"> </span></div> <div><span class="status-label svelte-hj1sc2">AI Accelerator</span> <span class="status-value svelte-hj1sc2"><!></span></div></div></header> <nav class="quick-links svelte-hj1sc2"><a href="/devices" class="quick-link svelte-hj1sc2"><svg class="icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" class="svelte-hj1sc2"></path></svg> <span class="svelte-hj1sc2">Devices</span></a> <a href="/calibration" class="quick-link svelte-hj1sc2"><svg class="icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" class="svelte-hj1sc2"></path></svg> <span class="svelte-hj1sc2">Calibration</span></a> <a href="/logging" class="quick-link svelte-hj1sc2"><svg class="icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" class="svelte-hj1sc2"></path></svg> <span class="svelte-hj1sc2">Logging</span></a> <a href="/system/maintenance" class="quick-link svelte-hj1sc2"><svg class="icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" class="svelte-hj1sc2"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" class="svelte-hj1sc2"></path></svg> <span class="svelte-hj1sc2">Maintenance</span></a></nav> <div class="settings-container svelte-hj1sc2"><section class="settings-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">Display & Units</h2></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section> <section class="settings-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">Home Assistant</h2> <!></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section> <section class="settings-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">AI Brewing Assistant</h2> <!></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section> <section class="settings-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">Storage & Cleanup</h2> <!></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section> <section class="settings-section danger-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">Power Controls</h2></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section></div>',1),Cl=c('<div class="system-page svelte-hj1sc2"><!></div>');function Fl(xt,At){Sa(At,!0);let J=o(null),_e=o(null),me=o(null),Zs=o(Ws([])),Ge=o(""),et=o(!0),P=o(null),Oe=o("C"),xe=o("sg"),vs=o(-100),Pe=o(!1),ds=o(5),Re=o(!1),hs=o(!1),us=o(null),ps=o(!1),Ue=o(30),oe=o(null),re=o(!1),De=o(""),Ne=o(""),_s=o(""),ms=o(""),fs=o(""),js=o(""),Je=o(""),gs=o(!1),ze=o(null),st=o(null),bs=o(!1),ys=o(null),ks=o(!1),Ve=o(!1),Ts=o(68),Hs=o(1),qe=o(!1),Is=o(3),fe=o(!1),ce=o("local"),Ke=o(""),$e=o(""),Be=o(""),We=o(.7),Qe=o(2e3),ws=o(!1),xs=o(null),As=o(!1),Cs=o(!1),Le=o(null),Ps=o(Ws([])),zs=o(Ws([])),Bs=o(!1),R=o("display"),Ee=wt(()=>f.config.temp_units==="C"),tt=wt(()=>e(Ee)?"°C":"°F");function Ct(i){return e(Ee)?La(i):i}function Ye(i){l(R,e(R)===i?null:i,!0)}async function St(){try{const i=await fetch("/api/system/info");i.ok&&l(J,await i.json(),!0)}catch(i){console.error("Failed to load system info:",i)}}async function at(){try{const i=await fetch("/api/system/storage");i.ok&&l(_e,await i.json(),!0)}catch(i){console.error("Failed to load storage stats:",i)}}async function Mt(){try{const i=await fetch("/api/system/ai-accelerator");i.ok&&l(me,await i.json(),!0)}catch(i){console.error("Failed to load AI accelerator status:",i)}}async function Tt(){try{const[i,A]=await Promise.all([fetch("/api/system/timezones"),fetch("/api/system/timezone")]);if(i.ok){const Q=await i.json();l(Zs,Q.timezones||[],!0)}if(A.ok){const Q=await A.json();l(Ge,Q.timezone||"UTC",!0)}}catch(i){console.error("Failed to load timezones:",i)}}function lt(){l(Oe,f.config.temp_units,!0),l(xe,f.config.sg_units,!0),l(vs,f.config.min_rssi,!0),l(Pe,f.config.smoothing_enabled,!0),l(ds,f.config.smoothing_samples,!0),l(Re,f.config.id_by_mac,!0),l(re,f.config.ha_enabled,!0),l(De,f.config.ha_url,!0),l(Ne,f.config.ha_token,!0),l(_s,f.config.ha_ambient_temp_entity_id,!0),l(ms,f.config.ha_ambient_humidity_entity_id,!0),l(fs,f.config.ha_chamber_temp_entity_id,!0),l(js,f.config.ha_chamber_humidity_entity_id,!0),l(Je,f.config.ha_weather_entity_id,!0),l(Ve,f.config.temp_control_enabled,!0),l(Ts,Math.round(Ct(f.config.temp_target)*2)/2),l(Hs,f.config.temp_units==="C"?Math.round(f.config.temp_hysteresis*(5/9)*100)/100:f.config.temp_hysteresis,!0),l(qe,f.config.weather_alerts_enabled,!0),l(Is,f.config.alert_temp_threshold,!0),l(fe,f.config.ai_enabled??!1,!0),l(ce,f.config.ai_provider??"local",!0),l(Ke,f.config.ai_model??"",!0),l($e,f.config.ai_api_key??"",!0),l(Be,f.config.ai_base_url??"",!0),l(We,f.config.ai_temperature??.7,!0),l(Qe,f.config.ai_max_tokens??2e3,!0)}async function Ht(){try{const i=await fetch("/api/assistant/providers");i.ok&&l(Ps,await i.json(),!0)}catch(i){console.error("Failed to load AI providers:",i)}}async function It(i){try{const A=await fetch(`/api/assistant/models/${i}`);if(A.ok){const Q=await A.json();l(zs,Q.models,!0)}}catch(A){console.error("Failed to load AI models:",A),l(zs,[],!0)}}async function Pt(){try{const i=await fetch("/api/assistant/status");if(i.ok){const A=await i.json();l(Bs,A.has_env_api_key??!1,!0)}}catch(i){console.error("Failed to load AI status:",i)}}async function zt(){l(ws,!0),l(xs,null),l(As,!1);try{await Ms({ai_enabled:e(fe),ai_provider:e(ce),ai_model:e(Ke),ai_api_key:e($e),ai_base_url:e(Be),ai_temperature:e(We),ai_max_tokens:e(Qe)}),l(As,!0),setTimeout(()=>l(As,!1),3e3)}catch(i){l(xs,i instanceof Error?i.message:"Failed to save AI settings",!0)}finally{l(ws,!1)}}async function Bt(){l(Cs,!0),l(Le,null);try{await Ms({ai_enabled:e(fe),ai_provider:e(ce),ai_model:e(Ke),ai_api_key:e($e),ai_base_url:e(Be),ai_temperature:e(We),ai_max_tokens:e(Qe)});const A=await(await fetch("/api/assistant/test",{method:"POST"})).json();l(Le,A,!0)}catch(i){l(Le,{success:!1,error:i instanceof Error?i.message:"Connection test failed"},!0)}finally{l(Cs,!1)}}kt(()=>{e(ce)&&It(e(ce))});async function Lt(){l(hs,!0),l(us,null),l(ps,!1);try{const i=await Ms({temp_units:e(Oe),sg_units:e(xe),min_rssi:e(vs),smoothing_enabled:e(Pe),smoothing_samples:e(ds),id_by_mac:e(Re)});i.success?(l(ps,!0),setTimeout(()=>l(ps,!1),3e3)):l(us,i.error||"Failed to save settings",!0)}finally{l(hs,!1)}}async function Et(){l(bs,!0),l(ys,null),l(ks,!1);try{const i=await Ms({ha_enabled:e(re),ha_url:e(De),ha_token:e(Ne),ha_ambient_temp_entity_id:e(_s),ha_ambient_humidity_entity_id:e(ms),ha_chamber_temp_entity_id:e(fs),ha_chamber_humidity_entity_id:e(js),ha_weather_entity_id:e(Je)});i.success?(l(ks,!0),setTimeout(()=>l(ks,!1),3e3),await nt()):l(ys,i.error||"Failed to save settings",!0)}finally{l(bs,!1)}}async function Ft(i){l(P,"timezone");try{(await fetch("/api/system/timezone",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({timezone:i})})).ok&&l(Ge,i,!0)}catch(A){console.error("Failed to set timezone:",A)}finally{l(P,null)}}async function Ot(){l(P,"cleanup-preview");try{const i=await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_days:e(Ue),confirm:!1})});i.ok&&l(oe,await i.json(),!0)}catch(i){console.error("Failed to preview cleanup:",i)}finally{l(P,null)}}async function Rt(){if(!(!e(oe)||e(oe).readings_to_delete===0)&&confirm(`Delete ${e(oe).readings_to_delete.toLocaleString()} readings older than ${e(Ue)} days?`)){l(P,"cleanup");try{(await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_days:e(Ue),confirm:!0})})).ok&&(l(oe,null),await at())}catch(i){console.error("Failed to execute cleanup:",i)}finally{l(P,null)}}}async function Ut(){if(confirm("Are you sure you want to reboot the system? The UI will be unavailable until restart completes.")){l(P,"reboot");try{await fetch("/api/system/reboot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})})}catch(i){console.error("Reboot command failed:",i)}finally{l(P,null)}}}async function Dt(){if(confirm("Are you sure you want to shut down the system? You will need physical access to restart.")){l(P,"shutdown");try{await fetch("/api/system/shutdown",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})})}catch(i){console.error("Shutdown command failed:",i)}finally{l(P,null)}}}function Nt(i){if(!i)return"Unknown";const A=Math.floor(i/86400),Q=Math.floor(i%86400/3600),Xe=Math.floor(i%3600/60),je=[];return A>0&&je.push(`${A}d`),Q>0&&je.push(`${Q}h`),Xe>0&&je.push(`${Xe}m`),je.length>0?je.join(" "):"< 1m"}function it(i){return!Number.isFinite(i)||i<0?"0 B":i<1024?`${i} B`:i<1024*1024?`${(i/1024).toFixed(1)} KB`:`${(i/(1024*1024)).toFixed(1)} MB`}function Ls(i){return i.toLocaleString()}async function Vt(){l(gs,!0),l(ze,null);try{const i=await fetch("/api/ha/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e(De),token:e(Ne)})});i.ok?l(ze,await i.json(),!0):l(ze,{success:!1,message:"Request failed"},!0)}catch{l(ze,{success:!1,message:"Network error"},!0)}finally{l(gs,!1)}}async function nt(){try{const i=await fetch("/api/ha/status");i.ok&&l(st,await i.json(),!0)}catch(i){console.error("Failed to load HA status:",i)}}Ma(async()=>{await Promise.all([St(),at(),Mt(),Tt(),nt(),Ht(),Pt()]),lt(),l(et,!1)}),kt(()=>{f.loaded&&lt()});var Es=Cl();Pa("hj1sc2",i=>{Ha(()=>{Ia.title="System | BrewSignal"})});var qt=a(Es);{var $t=i=>{var A=Ea();r(i,A)},Gt=i=>{var A=Al(),Q=X(A),Xe=a(Q),je=a(Xe),ot=s(a(je),2),Jt=a(ot,!0);t(ot),t(je);var Fs=s(je,2),rt=s(a(Fs),2),Kt=a(rt);t(rt),t(Fs);var Os=s(Fs,2),ct=s(a(Os),2),Wt=a(ct,!0);t(ct),t(Os);var Rs=s(Os,2),vt=s(a(Rs),2),Qt=a(vt,!0);t(vt),t(Rs);var Us=s(Rs,2),dt=s(a(Us),2),Yt=a(dt,!0);t(dt),t(Us);var Ds=s(Us,2);let ht;var ut=s(a(Ds),2),Xt=a(ut);{var Zt=v=>{var h=Fa(),k=s(a(h)),j=s(k),z=a(j);t(j),t(h),b(()=>{_(k,` ${e(me).device.architecture??""} `),_(z,`${e(me).device.tops??""} TOPS`)}),r(v,h)},ea=v=>{var h=Oa();r(v,h)};p(Xt,v=>{e(me)?.available&&e(me).device?v(Zt):v(ea,!1)})}t(ut),t(Ds),t(Xe),t(Q);var pt=s(Q,4),Ns=a(pt),Ze=a(Ns);Ze.__click=()=>Ye("display");var sa=s(a(Ze),2);let _t;t(Ze);var ta=s(Ze,2);{var aa=v=>{var h=Va(),k=a(h),j=a(k),z=s(a(j),2),E=a(z);let Z;E.__click=()=>l(Oe,"C");var ee=s(E,2);let V;ee.__click=()=>l(Oe,"F"),t(z),t(j);var ve=s(j,2),Y=s(a(ve),2),se=a(Y);let ge;se.__click=()=>l(xe,"sg");var K=s(se,2);let g;K.__click=()=>l(xe,"plato");var C=s(K,2);let q;C.__click=()=>l(xe,"brix"),t(Y),t(ve);var W=s(ve,2),te=s(a(W),2),S=a(te);D(S),we(2),t(te),t(W);var M=s(W,2),T=s(a(M),2);T.__change=n=>Ft(n.currentTarget.value),Qs(T,21,()=>e(Zs),Ys,(n,d)=>{var u=Ra(),m=a(u,!0);t(u);var w={};b(()=>{_(m,e(d)),w!==(w=e(d))&&(u.value=(u.__value=e(d))??"")}),r(n,u)}),t(T);var be;za(T),t(M),t(k);var de=s(k,4),Ae=a(de),Ce=s(a(Ae),2),ye=a(Ce);{var Se=n=>{var d=Ua(),u=a(d);u.value=u.__value=3;var m=s(u);m.value=m.__value=5;var w=s(m);w.value=w.__value=10;var I=s(w);I.value=I.__value=15;var F=s(I);F.value=F.__value=20,t(d),Xs(d,()=>e(ds),B=>l(ds,B)),r(n,d)};p(ye,n=>{e(Pe)&&n(Se)})}var he=s(ye,2);let Me;he.__click=()=>l(Pe,!e(Pe)),t(Ce),t(Ae);var Te=s(Ae,2),ue=s(a(Te),2);let ae;ue.__click=()=>l(Re,!e(Re)),t(Te),t(de);var pe=s(de,2),ke=a(pe);ke.__click=Lt;var ls=a(ke,!0);t(ke);var Fe=s(ke,2);{var y=n=>{var d=Da(),u=a(d,!0);t(d),b(()=>_(u,e(us))),r(n,d)};p(Fe,n=>{e(us)&&n(y)})}var H=s(Fe,2);{var x=n=>{var d=Na();r(n,d)};p(H,n=>{e(ps)&&n(x)})}t(pe),t(h),b(()=>{Z=O(E,1,"toggle-btn svelte-hj1sc2",null,Z,{active:e(Oe)==="C"}),V=O(ee,1,"toggle-btn svelte-hj1sc2",null,V,{active:e(Oe)==="F"}),ge=O(se,1,"toggle-btn svelte-hj1sc2",null,ge,{active:e(xe)==="sg"}),g=O(K,1,"toggle-btn svelte-hj1sc2",null,g,{active:e(xe)==="plato"}),q=O(C,1,"toggle-btn svelte-hj1sc2",null,q,{active:e(xe)==="brix"}),T.disabled=e(P)==="timezone",be!==(be=e(Ge))&&(T.value=(T.__value=e(Ge))??"",Ba(T,e(Ge))),Me=O(he,1,"switch svelte-hj1sc2",null,Me,{on:e(Pe)}),U(he,"aria-pressed",e(Pe)),ae=O(ue,1,"switch svelte-hj1sc2",null,ae,{on:e(Re)}),U(ue,"aria-pressed",e(Re)),ke.disabled=e(hs),_(ls,e(hs)?"Saving...":"Save Changes")}),N(S,()=>e(vs),n=>l(vs,n)),r(v,h)};p(ta,v=>{e(R)==="display"&&v(aa)})}t(Ns);var Vs=s(Ns,2),es=a(Vs);es.__click=()=>Ye("homeassistant");var qs=a(es),la=s(a(qs),4);{var ia=v=>{var h=qa();r(v,h)},na=v=>{var h=cs(),k=X(h);{var j=z=>{var E=$a();r(z,E)};p(k,z=>{e(re)&&z(j)},!0)}r(v,h)};p(la,v=>{e(st)?.connected?v(ia):v(na,!1)})}t(qs);var oa=s(qs,2);let mt;t(es);var ra=s(es,2);{var ca=v=>{var h=el(),k=a(h),j=s(a(k),2);let z;j.__click=()=>l(re,!e(re)),t(k);var E=s(k,2);{var Z=g=>{var C=Ya(),q=X(C),W=a(q),te=s(a(W),2);D(te),t(W);var S=s(W,2),M=s(a(S),2);D(M),t(S);var T=s(S,2),be=s(a(T),2);D(be),t(T);var de=s(T,2),Ae=s(a(de),2);D(Ae),t(de);var Ce=s(de,2),ye=s(a(Ce),2);D(ye),t(Ce);var Se=s(Ce,2),he=s(a(Se),2);D(he),t(Se);var Me=s(Se,2),Te=s(a(Me),2);D(Te),t(Me),t(q);var ue=s(q,2),ae=a(ue);ae.__click=Vt;var pe=a(ae,!0);t(ae);var ke=s(ae,2);{var ls=n=>{var d=Ga();let u;var m=a(d,!0);t(d),b(()=>{u=O(d,1,"test-result svelte-hj1sc2",null,u,{success:e(ze).success}),_(m,e(ze).message)}),r(n,d)};p(ke,n=>{e(ze)&&n(ls)})}t(ue);var Fe=s(ue,2);{var y=n=>{var d=Ka(),u=s(a(d),2),m=s(a(u),2);let w;m.__click=()=>l(qe,!e(qe)),t(u);var I=s(u,2);{var F=B=>{var G=Ja(),le=s(a(G),2),$=a(le);D($),we(2),t(le),t(G),N($,()=>e(Is),L=>l(Is,L)),r(B,G)};p(I,B=>{e(qe)&&B(F)})}t(d),b(()=>{w=O(m,1,"switch svelte-hj1sc2",null,w,{on:e(qe)}),U(m,"aria-pressed",e(qe))}),r(n,d)};p(Fe,n=>{e(re)&&e(Je)&&n(y)})}var H=s(Fe,2);{var x=n=>{var d=Qa(),u=s(a(d),2),m=s(a(u),2);let w;m.__click=()=>l(Ve,!e(Ve)),t(u);var I=s(u,2);{var F=B=>{var G=Wa(),le=a(G),$=s(a(le),2),L=a($);D(L);var He=s(L,2),is=a(He,!0);t(He),t($),t(le);var Ie=s(le,2),ie=s(a(Ie),2),ne=a(ie);D(ne);var ns=s(ne,2),Ss=a(ns);t(ns),t(ie),t(Ie),t(G),b(()=>{U(L,"min",e(Ee)?0:32),U(L,"max",e(Ee)?38:100),_(is,e(tt)),U(ne,"min",e(Ee)?.3:.5),U(ne,"max",e(Ee)?5.5:10),U(ne,"step",e(Ee)?.25:.5),_(Ss,`±${e(tt)??""}`)}),N(L,()=>e(Ts),os=>l(Ts,os)),N(ne,()=>e(Hs),os=>l(Hs,os)),r(B,G)};p(I,B=>{e(Ve)&&B(F)})}t(d),b(()=>{w=O(m,1,"switch svelte-hj1sc2",null,w,{on:e(Ve)}),U(m,"aria-pressed",e(Ve))}),r(n,d)};p(H,n=>{e(re)&&n(x)})}b(()=>{ae.disabled=e(gs)||!e(De)||!e(Ne),_(pe,e(gs)?"Testing...":"Test Connection")}),N(te,()=>e(De),n=>l(De,n)),N(M,()=>e(Ne),n=>l(Ne,n)),N(be,()=>e(_s),n=>l(_s,n)),N(Ae,()=>e(ms),n=>l(ms,n)),N(ye,()=>e(fs),n=>l(fs,n)),N(he,()=>e(js),n=>l(js,n)),N(Te,()=>e(Je),n=>l(Je,n)),r(g,C)};p(E,g=>{e(re)&&g(Z)})}var ee=s(E,2),V=a(ee);V.__click=Et;var ve=a(V,!0);t(V);var Y=s(V,2);{var se=g=>{var C=Xa(),q=a(C,!0);t(C),b(()=>_(q,e(ys))),r(g,C)};p(Y,g=>{e(ys)&&g(se)})}var ge=s(Y,2);{var K=g=>{var C=Za();r(g,C)};p(ge,g=>{e(ks)&&g(K)})}t(ee),t(h),b(()=>{z=O(j,1,"switch svelte-hj1sc2",null,z,{on:e(re)}),U(j,"aria-pressed",e(re)),V.disabled=e(bs),_(ve,e(bs)?"Saving...":"Save HA Settings")}),r(v,h)};p(ra,v=>{e(R)==="homeassistant"&&v(ca)})}t(Vs);var $s=s(Vs,2),ss=a($s);ss.__click=()=>Ye("ai");var Gs=a(ss),va=s(a(Gs),4);{var da=v=>{var h=sl();r(v,h)};p(va,v=>{e(fe)&&v(da)})}t(Gs);var ha=s(Gs,2);let ft;t(ss);var ua=s(ss,2);{var pa=v=>{var h=gl(),k=s(a(h),2),j=s(a(k),2);let z;j.__click=()=>l(fe,!e(fe)),t(k);var E=s(k,2);{var Z=g=>{var C=ml(),q=X(C),W=a(q),te=s(a(W),2);Qs(te,21,()=>e(Ps),Ys,(y,H)=>{var x=tl(),n=a(x,!0);t(x);var d={};b(()=>{_(n,e(H).name),d!==(d=e(H).id)&&(x.value=(x.__value=e(H).id)??"")}),r(y,x)}),t(te),t(W);var S=s(W,2),M=s(a(S),2),T=a(M);T.value=T.__value="";var be=s(T);Qs(be,17,()=>e(zs),Ys,(y,H)=>{var x=al(),n=a(x,!0);t(x);var d={};b(()=>{_(n,e(H).name),d!==(d=e(H).id)&&(x.value=(x.__value=e(H).id)??"")}),r(y,x)}),t(M),t(S),t(q);var de=s(q,2);{var Ae=y=>{var H=nl(),x=X(H),n=s(a(x),2);{var d=I=>{var F=ll(),B=a(F);t(F),b(()=>_(B,`✓ AI HAT+ 2 detected (${e(me).device?.tops??""} TOPS)`)),r(I,F)},u=I=>{var F=il();r(I,F)};p(n,I=>{e(me)?.available?I(d):I(u,!1)})}we(6),t(x);var m=s(x,2),w=s(a(m),2);D(w),t(m),N(w,()=>e(Be),I=>l(Be,I)),r(y,H)},Ce=y=>{var H=cs(),x=X(H);{var n=u=>{var m=dl(),w=X(m),I=s(a(w),2);{var F=$=>{var L=rl(),He=s(X(L),4);{var is=Ie=>{var ie=ol();r(Ie,ie)};p(He,Ie=>{e(me)?.available&&Ie(is)})}r($,L)},B=$=>{var L=cs(),He=X(L);{var is=ie=>{var ne=cl(),ns=X(ne),Ss=s(a(ns)),os=s(Ss);{var wa=rs=>{var yt=Ca();b(xa=>_(yt,`(${xa??""} GB VRAM)`),[()=>(e(J).platform.gpu.vram_mb/1024).toFixed(0)]),r(rs,yt)};p(os,rs=>{e(J).platform.gpu.vram_mb&&rs(wa)})}t(ns),we(4),b(rs=>_(Ss,` ${rs??""} `),[()=>e(J).platform.gpu.name??e(J).platform.gpu.vendor.toUpperCase()]),r(ie,ne)},Ie=ie=>{var ne=vl();we(2),r(ie,ne)};p(He,ie=>{e(J)?.platform?.gpu?.vendor==="nvidia"||e(J)?.platform?.gpu?.vendor==="amd"||e(J)?.platform?.gpu?.vendor==="apple"?ie(is):ie(Ie,!1)},!0)}r($,L)};p(I,$=>{e(J)?.platform?.is_raspberry_pi?$(F):$(B,!1)})}t(w);var G=s(w,2),le=s(a(G),2);D(le),t(G),N(le,()=>e(Be),$=>l(Be,$)),r(u,m)},d=u=>{var m=cs(),w=X(m);{var I=F=>{var B=ul(),G=s(a(B),2);D(G);var le=s(G,2);{var $=L=>{var He=hl();r(L,He)};p(le,L=>{e(Bs)&&!e($e)&&L($)})}t(B),b(()=>U(G,"placeholder",e(Bs)?"(using environment variable)":"sk-...")),N(G,()=>e($e),L=>l($e,L)),r(F,B)};p(w,F=>{e(Ps).find(B=>B.id===e(ce))?.requires_api_key&&F(I)},!0)}r(u,m)};p(x,u=>{e(ce)==="local"?u(n):u(d,!1)},!0)}r(y,H)};p(de,y=>{e(ce)==="hailo"?y(Ae):y(Ce,!1)})}var ye=s(de,2),Se=s(a(ye),2),he=a(Se),Me=s(a(he),2);D(Me),we(2),t(he);var Te=s(he,2),ue=s(a(Te),2);D(ue),t(Te),t(Se),t(ye);var ae=s(ye,2),pe=a(ae);pe.__click=Bt;var ke=a(pe,!0);t(pe);var ls=s(pe,2);{var Fe=y=>{var H=cs(),x=X(H);{var n=u=>{var m=pl(),w=a(m);t(m),b(()=>_(w,`Connected! "${e(Le).response??""}"`)),r(u,m)},d=u=>{var m=_l(),w=a(m,!0);t(m),b(()=>_(w,e(Le).error)),r(u,m)};p(x,u=>{e(Le).success?u(n):u(d,!1)})}r(y,H)};p(ls,y=>{e(Le)&&y(Fe)})}t(ae),b(()=>{pe.disabled=e(Cs),_(ke,e(Cs)?"Testing...":"Test Connection")}),Xs(te,()=>e(ce),y=>l(ce,y)),Xs(M,()=>e(Ke),y=>l(Ke,y)),N(Me,()=>e(We),y=>l(We,y)),N(ue,()=>e(Qe),y=>l(Qe,y)),r(g,C)};p(E,g=>{e(fe)&&g(Z)})}var ee=s(E,2),V=a(ee);V.__click=zt;var ve=a(V,!0);t(V);var Y=s(V,2);{var se=g=>{var C=fl(),q=a(C,!0);t(C),b(()=>_(q,e(xs))),r(g,C)};p(Y,g=>{e(xs)&&g(se)})}var ge=s(Y,2);{var K=g=>{var C=jl();r(g,C)};p(ge,g=>{e(As)&&g(K)})}t(ee),t(h),b(()=>{z=O(j,1,"switch svelte-hj1sc2",null,z,{on:e(fe)}),U(j,"aria-pressed",e(fe)),V.disabled=e(ws),_(ve,e(ws)?"Saving...":"Save AI Settings")}),r(v,h)};p(ua,v=>{e(R)==="ai"&&v(pa)})}t($s);var Js=s($s,2),ts=a(Js);ts.__click=()=>Ye("storage");var Ks=a(ts),_a=s(a(Ks),4);{var ma=v=>{var h=bl(),k=a(h,!0);t(h),b(j=>_(k,j),[()=>it(e(_e).estimated_size_bytes)]),r(v,h)};p(_a,v=>{e(_e)&&v(ma)})}t(Ks);var fa=s(Ks,2);let jt;t(ts);var ja=s(ts,2);{var ga=v=>{var h=wl(),k=a(h),j=a(k),z=a(j),E=a(z,!0);t(z),we(2),t(j);var Z=s(j,2),ee=a(Z),V=a(ee,!0);t(ee),we(2),t(Z),t(k);var ve=s(k,2),Y=s(a(ve),2),se=s(a(Y),2),ge=a(se);D(ge),we(2),t(se);var K=s(se,2);K.__click=Ot;var g=a(K,!0);t(K);var C=s(K,2);{var q=S=>{var M=yl();M.__click=Rt;var T=a(M,!0);t(M),b(be=>{M.disabled=e(P)!==null,_(T,be)},[()=>e(P)==="cleanup"?"Deleting...":`Delete ${Ls(e(oe).readings_to_delete)}`]),r(S,M)};p(C,S=>{e(oe)&&e(oe).readings_to_delete>0&&S(q)})}t(Y);var W=s(Y,2);{var te=S=>{var M=kl(),T=a(M);t(M),b(()=>_(T,`No readings older than ${e(Ue)??""} days.`)),r(S,M)};p(W,S=>{e(oe)&&e(oe).readings_to_delete===0&&S(te)})}t(ve),t(h),b((S,M)=>{_(E,S),_(V,M),K.disabled=e(P)!==null,_(g,e(P)==="cleanup-preview"?"Checking...":"Preview")},[()=>e(_e)?Ls(e(_e).total_readings):"—",()=>e(_e)?it(e(_e).estimated_size_bytes):"—"]),N(ge,()=>e(Ue),S=>l(Ue,S)),r(v,h)};p(ja,v=>{e(R)==="storage"&&v(ga)})}t(Js);var gt=s(Js,2),as=a(gt);as.__click=()=>Ye("power");var ba=s(a(as),2);let bt;t(as);var ya=s(as,2);{var ka=v=>{var h=xl(),k=s(a(h),2),j=a(k);j.__click=Ut;var z=s(a(j));t(j);var E=s(j,2);E.__click=Dt;var Z=s(a(E));t(E),t(k),t(h),b(()=>{j.disabled=e(P)!==null,_(z,` ${e(P)==="reboot"?"Rebooting...":"Reboot"}`),E.disabled=e(P)!==null,_(Z,` ${e(P)==="shutdown"?"Shutting down...":"Shutdown"}`)}),r(v,h)};p(ya,v=>{e(R)==="power"&&v(ka)})}t(gt),t(pt),b((v,h)=>{_(Jt,e(J)?.hostname??"Unknown"),_(Kt,`v${e(J)?.version??"?"??""}`),_(Wt,v),_(Qt,e(J)?.ip_addresses?.[0]??"Unknown"),_(Yt,h),ht=O(Ds,1,"status-item ai-status svelte-hj1sc2",null,ht,{active:e(me)?.available}),U(Ze,"aria-expanded",e(R)==="display"),_t=O(sa,0,"chevron svelte-hj1sc2",null,_t,{rotated:e(R)==="display"}),U(es,"aria-expanded",e(R)==="homeassistant"),mt=O(oa,0,"chevron svelte-hj1sc2",null,mt,{rotated:e(R)==="homeassistant"}),U(ss,"aria-expanded",e(R)==="ai"),ft=O(ha,0,"chevron svelte-hj1sc2",null,ft,{rotated:e(R)==="ai"}),U(ts,"aria-expanded",e(R)==="storage"),jt=O(fa,0,"chevron svelte-hj1sc2",null,jt,{rotated:e(R)==="storage"}),U(as,"aria-expanded",e(R)==="power"),bt=O(ba,0,"chevron svelte-hj1sc2",null,bt,{rotated:e(R)==="power"})},[()=>Nt(e(J)?.uptime_seconds??null),()=>e(_e)?Ls(e(_e).total_readings):"—"]),r(i,A)};p(qt,i=>{e(et)?i($t):i(Gt,!1)})}t(Es),r(xt,Es),Ta()}Aa(["click","change"]);export{Fl as component};
