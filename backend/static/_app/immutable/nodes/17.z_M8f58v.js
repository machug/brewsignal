import{d as ya,f as u,a as v,s as _,c as Ns}from"../chunks/BPY3LF1i.js";import{a as ka,s as o,p as Ds,az as gt,h as e,o as wa,g as xa,c as l,A as Ca,u as jt,ax as Sa,d as a,r as t,f as Ae,e as s,t as k,n as Oe}from"../chunks/WzhiZOZ9.js";import{e as $s,i as Vs}from"../chunks/DnC7am1E.js";import{i as p}from"../chunks/DTo_ih-i.js";import{h as Aa}from"../chunks/BJzfFUzm.js";import{s as F,r as O}from"../chunks/D5Ox4mlS.js";import{s as P}from"../chunks/BYYdgBsh.js";import{b as U}from"../chunks/Cw-VE3R0.js";import{i as Ma,s as Ta,b as qs}from"../chunks/BX-VZZUc.js";import{c as m,f as Ha,u as js}from"../chunks/DHBlVBC1.js";var Ia=u('<div class="loading-state svelte-hj1sc2"><div class="loading-spinner svelte-hj1sc2"></div> <span class="svelte-hj1sc2">Loading system information...</span></div>'),za=u('<span class="ai-chip svelte-hj1sc2"><span class="ai-dot svelte-hj1sc2"></span> <span class="ai-tops svelte-hj1sc2"> </span></span>'),Ba=u('<span class="ai-unavailable svelte-hj1sc2">Not detected</span>'),Pa=u('<option class="svelte-hj1sc2"> </option>'),Ea=u('<select class="mini-select svelte-hj1sc2"><option class="svelte-hj1sc2">3</option><option class="svelte-hj1sc2">5</option><option class="svelte-hj1sc2">10</option><option class="svelte-hj1sc2">15</option><option class="svelte-hj1sc2">20</option></select>'),Fa=u('<span class="error-msg svelte-hj1sc2"> </span>'),La=u('<span class="success-msg svelte-hj1sc2">Saved</span>'),Ra=u('<div class="section-content svelte-hj1sc2"><div class="settings-grid svelte-hj1sc2"><div class="setting-group svelte-hj1sc2"><label class="setting-label svelte-hj1sc2">Temperature</label> <div class="toggle-group svelte-hj1sc2"><button type="button">°C</button> <button type="button">°F</button></div></div> <div class="setting-group svelte-hj1sc2"><label class="setting-label svelte-hj1sc2">Gravity</label> <div class="toggle-group triple svelte-hj1sc2"><button type="button">SG</button> <button type="button">°P</button> <button type="button">°Bx</button></div></div> <div class="setting-group svelte-hj1sc2"><label class="setting-label svelte-hj1sc2">Min Signal</label> <div class="input-group svelte-hj1sc2"><input type="number" min="-100" max="0" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2">dBm</span></div></div> <div class="setting-group svelte-hj1sc2"><label class="setting-label svelte-hj1sc2">Timezone</label> <select class="select-input svelte-hj1sc2"></select></div></div> <div class="settings-divider svelte-hj1sc2"></div> <div class="toggle-settings svelte-hj1sc2"><div class="toggle-setting svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Reading Smoothing</span> <span class="toggle-desc svelte-hj1sc2">Average readings to reduce noise</span></div> <div class="toggle-controls svelte-hj1sc2"><!> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div></div> <div class="toggle-setting svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Identify by MAC</span> <span class="toggle-desc svelte-hj1sc2">Use MAC address instead of broadcast ID</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div></div> <div class="section-actions svelte-hj1sc2"><button type="button" class="save-btn svelte-hj1sc2"> </button> <!> <!></div></div>'),Oa=u('<span class="status-pill connected svelte-hj1sc2">Connected</span>'),Ua=u('<span class="status-pill disconnected svelte-hj1sc2">Disconnected</span>'),Na=u("<span> </span>"),Da=u('<div class="inline-setting svelte-hj1sc2"><label class="svelte-hj1sc2">Alert when forecast differs by more than</label> <div class="input-group compact svelte-hj1sc2"><input type="number" min="1" max="15" step="0.5" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2">°C</span></div></div>'),$a=u('<div class="subsection svelte-hj1sc2"><h3 class="svelte-hj1sc2">Weather Alerts</h3> <div class="toggle-setting svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Enable Alerts</span> <span class="toggle-desc svelte-hj1sc2">Notify when forecast may affect fermentation</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div> <!></div>'),Va=u('<div class="control-defaults svelte-hj1sc2"><div class="inline-setting svelte-hj1sc2"><label class="svelte-hj1sc2">Default target</label> <div class="input-group compact svelte-hj1sc2"><input type="number" step="0.5" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2"> </span></div></div> <div class="inline-setting svelte-hj1sc2"><label class="svelte-hj1sc2">Hysteresis</label> <div class="input-group compact svelte-hj1sc2"><input type="number" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2"> </span></div></div></div>'),qa=u('<div class="subsection svelte-hj1sc2"><h3 class="svelte-hj1sc2">Temperature Control</h3> <div class="toggle-setting svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Enable Control</span> <span class="toggle-desc svelte-hj1sc2">Automatically manage heaters for batches</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div> <!></div>'),Ja=u('<div class="form-grid svelte-hj1sc2"><div class="form-field full svelte-hj1sc2"><label for="ha-url" class="svelte-hj1sc2">Home Assistant URL</label> <input id="ha-url" type="url" placeholder="http://192.168.1.100:8123" class="svelte-hj1sc2"/></div> <div class="form-field full svelte-hj1sc2"><label for="ha-token" class="svelte-hj1sc2">Access Token</label> <input id="ha-token" type="password" placeholder="Long-lived access token" class="svelte-hj1sc2"/></div> <div class="form-field svelte-hj1sc2"><label for="ha-ambient-temp" class="svelte-hj1sc2">Ambient Temp Entity</label> <input id="ha-ambient-temp" type="text" placeholder="sensor.xxx_temperature" class="svelte-hj1sc2"/></div> <div class="form-field svelte-hj1sc2"><label for="ha-ambient-humidity" class="svelte-hj1sc2">Ambient Humidity</label> <input id="ha-ambient-humidity" type="text" placeholder="sensor.xxx_humidity" class="svelte-hj1sc2"/></div> <div class="form-field svelte-hj1sc2"><label for="ha-chamber-temp" class="svelte-hj1sc2">Chamber Temp</label> <input id="ha-chamber-temp" type="text" placeholder="sensor.chamber_temperature" class="svelte-hj1sc2"/></div> <div class="form-field svelte-hj1sc2"><label for="ha-chamber-humidity" class="svelte-hj1sc2">Chamber Humidity</label> <input id="ha-chamber-humidity" type="text" placeholder="sensor.chamber_humidity" class="svelte-hj1sc2"/></div> <div class="form-field full svelte-hj1sc2"><label for="ha-weather" class="svelte-hj1sc2">Weather Entity</label> <input id="ha-weather" type="text" placeholder="weather.home" class="svelte-hj1sc2"/></div></div> <div class="inline-actions svelte-hj1sc2"><button type="button" class="test-btn svelte-hj1sc2"> </button> <!></div> <!> <!>',1),Ka=u('<span class="error-msg svelte-hj1sc2"> </span>'),Ga=u('<span class="success-msg svelte-hj1sc2">Saved</span>'),Wa=u('<div class="section-content svelte-hj1sc2"><div class="toggle-setting prominent svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Enable Integration</span> <span class="toggle-desc svelte-hj1sc2">Connect to Home Assistant for environmental data and control</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div> <!> <div class="section-actions svelte-hj1sc2"><button type="button" class="save-btn svelte-hj1sc2"> </button> <!> <!></div></div>'),Ya=u('<span class="status-pill enabled svelte-hj1sc2">Enabled</span>'),Qa=u('<option class="svelte-hj1sc2"> </option>'),Xa=u('<option class="svelte-hj1sc2"> </option>'),Za=u('<div class="info-box svelte-hj1sc2"><h4 class="svelte-hj1sc2">Ollama Setup</h4> <p class="svelte-hj1sc2"><strong class="svelte-hj1sc2">Option 1: Remote (Recommended)</strong> — Run Ollama on a PC/Mac with GPU for fast responses.</p> <ol class="svelte-hj1sc2"><li class="svelte-hj1sc2">Install from <a href="https://ollama.ai/download" target="_blank" rel="noopener" class="svelte-hj1sc2">ollama.ai</a></li> <li class="svelte-hj1sc2">Run: <code class="svelte-hj1sc2">OLLAMA_HOST=0.0.0.0 ollama serve</code></li> <li class="svelte-hj1sc2">Pull a model: <code class="svelte-hj1sc2">ollama pull llama3:8b</code></li></ol> <p class="svelte-hj1sc2"><strong class="svelte-hj1sc2">Option 2: Local on Pi</strong> — Requires <a href="https://www.raspberrypi.com/products/ai-hat-plus-2/" target="_blank" rel="noopener" class="svelte-hj1sc2">AI HAT+</a> for acceptable speed.</p></div> <div class="form-field full svelte-hj1sc2"><label for="ai-url" class="svelte-hj1sc2">Ollama URL</label> <input id="ai-url" type="text" placeholder="http://localhost:11434" class="svelte-hj1sc2"/></div>',1),el=u('<span class="field-hint success svelte-hj1sc2">API key detected from environment</span>'),sl=u('<div class="form-field full svelte-hj1sc2"><label for="ai-key" class="svelte-hj1sc2">API Key</label> <input id="ai-key" type="password" class="svelte-hj1sc2"/> <!></div>'),tl=u('<span class="test-result success svelte-hj1sc2"> </span>'),al=u('<span class="test-result svelte-hj1sc2"> </span>'),ll=u('<div class="form-grid svelte-hj1sc2"><div class="form-field svelte-hj1sc2"><label for="ai-provider" class="svelte-hj1sc2">Provider</label> <select id="ai-provider" class="svelte-hj1sc2"></select></div> <div class="form-field svelte-hj1sc2"><label for="ai-model" class="svelte-hj1sc2">Model</label> <select id="ai-model" class="svelte-hj1sc2"><option class="svelte-hj1sc2">Default</option><!></select></div></div> <!> <details class="advanced-settings svelte-hj1sc2"><summary class="svelte-hj1sc2">Advanced Settings</summary> <div class="form-grid svelte-hj1sc2"><div class="form-field svelte-hj1sc2"><label for="ai-temp" class="svelte-hj1sc2">Temperature</label> <input id="ai-temp" type="number" min="0" max="2" step="0.1" class="svelte-hj1sc2"/> <span class="field-hint svelte-hj1sc2">Higher = more creative</span></div> <div class="form-field svelte-hj1sc2"><label for="ai-tokens" class="svelte-hj1sc2">Max Tokens</label> <input id="ai-tokens" type="number" min="100" max="8000" step="100" class="svelte-hj1sc2"/></div></div></details> <div class="inline-actions svelte-hj1sc2"><button type="button" class="test-btn svelte-hj1sc2"> </button> <!></div>',1),nl=u('<span class="error-msg svelte-hj1sc2"> </span>'),il=u('<span class="success-msg svelte-hj1sc2">Saved</span>'),ol=u(`<div class="section-content svelte-hj1sc2"><p class="section-intro svelte-hj1sc2">Get AI-powered help with recipe creation, fermentation troubleshooting, and brewing advice.
							Use a local model for privacy or connect to cloud providers.</p> <div class="toggle-setting prominent svelte-hj1sc2"><div class="toggle-info svelte-hj1sc2"><span class="toggle-label svelte-hj1sc2">Enable AI Assistant</span> <span class="toggle-desc svelte-hj1sc2">Activate brewing AI features</span></div> <button type="button"><span class="switch-thumb svelte-hj1sc2"></span></button></div> <!> <div class="section-actions svelte-hj1sc2"><button type="button" class="save-btn svelte-hj1sc2"> </button> <!> <!></div></div>`),rl=u('<span class="storage-badge svelte-hj1sc2"> </span>'),cl=u('<button type="button" class="danger-btn svelte-hj1sc2"> </button>'),vl=u('<p class="cleanup-result svelte-hj1sc2"> </p>'),dl=u('<div class="section-content svelte-hj1sc2"><div class="storage-stats svelte-hj1sc2"><div class="stat svelte-hj1sc2"><span class="stat-value svelte-hj1sc2"> </span> <span class="stat-label svelte-hj1sc2">Total Readings</span></div> <div class="stat svelte-hj1sc2"><span class="stat-value svelte-hj1sc2"> </span> <span class="stat-label svelte-hj1sc2">Database Size</span></div></div> <div class="cleanup-section svelte-hj1sc2"><p class="svelte-hj1sc2">Remove old readings to free storage. This action is permanent.</p> <div class="cleanup-controls svelte-hj1sc2"><label class="svelte-hj1sc2">Keep readings from last</label> <div class="input-group compact svelte-hj1sc2"><input type="number" min="1" max="365" class="num-input svelte-hj1sc2"/> <span class="input-unit svelte-hj1sc2">days</span></div> <button type="button" class="secondary-btn svelte-hj1sc2"> </button> <!></div> <!></div></div>'),ul=u('<div class="section-content svelte-hj1sc2"><p class="warning-text svelte-hj1sc2">These actions affect the entire system. Ensure all work is saved.</p> <div class="power-actions svelte-hj1sc2"><button type="button" class="warning-btn svelte-hj1sc2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-hj1sc2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" class="svelte-hj1sc2"></path></svg> </button> <button type="button" class="danger-btn large svelte-hj1sc2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-hj1sc2"><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9" class="svelte-hj1sc2"></path></svg> </button></div></div>'),hl=u('<header class="status-banner svelte-hj1sc2"><div class="status-grid svelte-hj1sc2"><div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Hostname</span> <span class="status-value svelte-hj1sc2"> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Version</span> <span class="status-value svelte-hj1sc2"> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Uptime</span> <span class="status-value svelte-hj1sc2"> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">IP Address</span> <span class="status-value svelte-hj1sc2"> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Readings</span> <span class="status-value svelte-hj1sc2"> </span></div> <div><span class="status-label svelte-hj1sc2">AI Accelerator</span> <span class="status-value svelte-hj1sc2"><!></span></div></div></header> <nav class="quick-links svelte-hj1sc2"><a href="/devices" class="quick-link svelte-hj1sc2"><svg class="icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" class="svelte-hj1sc2"></path></svg> <span class="svelte-hj1sc2">Devices</span></a> <a href="/calibration" class="quick-link svelte-hj1sc2"><svg class="icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" class="svelte-hj1sc2"></path></svg> <span class="svelte-hj1sc2">Calibration</span></a> <a href="/logging" class="quick-link svelte-hj1sc2"><svg class="icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" class="svelte-hj1sc2"></path></svg> <span class="svelte-hj1sc2">Logging</span></a> <a href="/system/maintenance" class="quick-link svelte-hj1sc2"><svg class="icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" class="svelte-hj1sc2"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" class="svelte-hj1sc2"></path></svg> <span class="svelte-hj1sc2">Maintenance</span></a></nav> <div class="settings-container svelte-hj1sc2"><section class="settings-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">Display & Units</h2></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section> <section class="settings-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">Home Assistant</h2> <!></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section> <section class="settings-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">AI Brewing Assistant</h2> <!></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section> <section class="settings-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">Storage & Cleanup</h2> <!></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section> <section class="settings-section danger-section svelte-hj1sc2"><button type="button" class="section-header svelte-hj1sc2"><div class="section-title-group svelte-hj1sc2"><svg class="section-icon svelte-hj1sc2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1012.728 0M12 3v9" class="svelte-hj1sc2"></path></svg> <h2 class="svelte-hj1sc2">Power Controls</h2></div> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" class="svelte-hj1sc2"></path></svg></button> <!></section></div>',1),pl=u('<div class="system-page svelte-hj1sc2"><!></div>');function Cl(bt,yt){ka(yt,!0);let Ue=o(null),ne=o(null),Me=o(null),Js=o(Ds([])),Ne=o(""),Ks=o(!0),H=o(null),Te=o("C"),pe=o("sg"),ts=o(-100),be=o(!1),as=o(5),He=o(!1),ls=o(!1),ns=o(null),is=o(!1),Ie=o(30),X=o(null),Z=o(!1),ze=o(""),Be=o(""),os=o(""),rs=o(""),cs=o(""),vs=o(""),De=o(""),ds=o(!1),ye=o(null),Gs=o(null),us=o(!1),hs=o(null),ps=o(!1),Pe=o(!1),bs=o(68),ys=o(1),Ee=o(!1),ks=o(3),ie=o(!1),oe=o("local"),$e=o(""),Fe=o(""),Ve=o(""),qe=o(.7),Je=o(2e3),_s=o(!1),ms=o(null),fs=o(!1),gs=o(!1),ke=o(null),ws=o(Ds([])),xs=o(Ds([])),Cs=o(!1),E=o("display"),we=jt(()=>m.config.temp_units==="C"),Ws=jt(()=>e(we)?"°C":"°F");function kt(n){return e(we)?Ha(n):n}function Ke(n){l(E,e(E)===n?null:n,!0)}async function wt(){try{const n=await fetch("/api/system/info");n.ok&&l(Ue,await n.json(),!0)}catch(n){console.error("Failed to load system info:",n)}}async function Ys(){try{const n=await fetch("/api/system/storage");n.ok&&l(ne,await n.json(),!0)}catch(n){console.error("Failed to load storage stats:",n)}}async function xt(){try{const n=await fetch("/api/system/ai-accelerator");n.ok&&l(Me,await n.json(),!0)}catch(n){console.error("Failed to load AI accelerator status:",n)}}async function Ct(){try{const[n,w]=await Promise.all([fetch("/api/system/timezones"),fetch("/api/system/timezone")]);if(n.ok){const $=await n.json();l(Js,$.timezones||[],!0)}if(w.ok){const $=await w.json();l(Ne,$.timezone||"UTC",!0)}}catch(n){console.error("Failed to load timezones:",n)}}function Qs(){l(Te,m.config.temp_units,!0),l(pe,m.config.sg_units,!0),l(ts,m.config.min_rssi,!0),l(be,m.config.smoothing_enabled,!0),l(as,m.config.smoothing_samples,!0),l(He,m.config.id_by_mac,!0),l(Z,m.config.ha_enabled,!0),l(ze,m.config.ha_url,!0),l(Be,m.config.ha_token,!0),l(os,m.config.ha_ambient_temp_entity_id,!0),l(rs,m.config.ha_ambient_humidity_entity_id,!0),l(cs,m.config.ha_chamber_temp_entity_id,!0),l(vs,m.config.ha_chamber_humidity_entity_id,!0),l(De,m.config.ha_weather_entity_id,!0),l(Pe,m.config.temp_control_enabled,!0),l(bs,Math.round(kt(m.config.temp_target)*2)/2),l(ys,m.config.temp_units==="C"?Math.round(m.config.temp_hysteresis*(5/9)*100)/100:m.config.temp_hysteresis,!0),l(Ee,m.config.weather_alerts_enabled,!0),l(ks,m.config.alert_temp_threshold,!0),l(ie,m.config.ai_enabled??!1,!0),l(oe,m.config.ai_provider??"local",!0),l($e,m.config.ai_model??"",!0),l(Fe,m.config.ai_api_key??"",!0),l(Ve,m.config.ai_base_url??"",!0),l(qe,m.config.ai_temperature??.7,!0),l(Je,m.config.ai_max_tokens??2e3,!0)}async function St(){try{const n=await fetch("/api/assistant/providers");n.ok&&l(ws,await n.json(),!0)}catch(n){console.error("Failed to load AI providers:",n)}}async function At(n){try{const w=await fetch(`/api/assistant/models/${n}`);if(w.ok){const $=await w.json();l(xs,$.models,!0)}}catch(w){console.error("Failed to load AI models:",w),l(xs,[],!0)}}async function Mt(){try{const n=await fetch("/api/assistant/status");if(n.ok){const w=await n.json();l(Cs,w.has_env_api_key??!1,!0)}}catch(n){console.error("Failed to load AI status:",n)}}async function Tt(){l(_s,!0),l(ms,null),l(fs,!1);try{await js({ai_enabled:e(ie),ai_provider:e(oe),ai_model:e($e),ai_api_key:e(Fe),ai_base_url:e(Ve),ai_temperature:e(qe),ai_max_tokens:e(Je)}),l(fs,!0),setTimeout(()=>l(fs,!1),3e3)}catch(n){l(ms,n instanceof Error?n.message:"Failed to save AI settings",!0)}finally{l(_s,!1)}}async function Ht(){l(gs,!0),l(ke,null);try{await js({ai_enabled:e(ie),ai_provider:e(oe),ai_model:e($e),ai_api_key:e(Fe),ai_base_url:e(Ve),ai_temperature:e(qe),ai_max_tokens:e(Je)});const w=await(await fetch("/api/assistant/test",{method:"POST"})).json();l(ke,w,!0)}catch(n){l(ke,{success:!1,error:n instanceof Error?n.message:"Connection test failed"},!0)}finally{l(gs,!1)}}gt(()=>{e(oe)&&At(e(oe))});async function It(){l(ls,!0),l(ns,null),l(is,!1);try{const n=await js({temp_units:e(Te),sg_units:e(pe),min_rssi:e(ts),smoothing_enabled:e(be),smoothing_samples:e(as),id_by_mac:e(He)});n.success?(l(is,!0),setTimeout(()=>l(is,!1),3e3)):l(ns,n.error||"Failed to save settings",!0)}finally{l(ls,!1)}}async function zt(){l(us,!0),l(hs,null),l(ps,!1);try{const n=await js({ha_enabled:e(Z),ha_url:e(ze),ha_token:e(Be),ha_ambient_temp_entity_id:e(os),ha_ambient_humidity_entity_id:e(rs),ha_chamber_temp_entity_id:e(cs),ha_chamber_humidity_entity_id:e(vs),ha_weather_entity_id:e(De)});n.success?(l(ps,!0),setTimeout(()=>l(ps,!1),3e3),await Zs()):l(hs,n.error||"Failed to save settings",!0)}finally{l(us,!1)}}async function Bt(n){l(H,"timezone");try{(await fetch("/api/system/timezone",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({timezone:n})})).ok&&l(Ne,n,!0)}catch(w){console.error("Failed to set timezone:",w)}finally{l(H,null)}}async function Pt(){l(H,"cleanup-preview");try{const n=await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_days:e(Ie),confirm:!1})});n.ok&&l(X,await n.json(),!0)}catch(n){console.error("Failed to preview cleanup:",n)}finally{l(H,null)}}async function Et(){if(!(!e(X)||e(X).readings_to_delete===0)&&confirm(`Delete ${e(X).readings_to_delete.toLocaleString()} readings older than ${e(Ie)} days?`)){l(H,"cleanup");try{(await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_days:e(Ie),confirm:!0})})).ok&&(l(X,null),await Ys())}catch(n){console.error("Failed to execute cleanup:",n)}finally{l(H,null)}}}async function Ft(){if(confirm("Are you sure you want to reboot the system? The UI will be unavailable until restart completes.")){l(H,"reboot");try{await fetch("/api/system/reboot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})})}catch(n){console.error("Reboot command failed:",n)}finally{l(H,null)}}}async function Lt(){if(confirm("Are you sure you want to shut down the system? You will need physical access to restart.")){l(H,"shutdown");try{await fetch("/api/system/shutdown",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})})}catch(n){console.error("Shutdown command failed:",n)}finally{l(H,null)}}}function Rt(n){if(!n)return"Unknown";const w=Math.floor(n/86400),$=Math.floor(n%86400/3600),Ge=Math.floor(n%3600/60),re=[];return w>0&&re.push(`${w}d`),$>0&&re.push(`${$}h`),Ge>0&&re.push(`${Ge}m`),re.length>0?re.join(" "):"< 1m"}function Xs(n){return!Number.isFinite(n)||n<0?"0 B":n<1024?`${n} B`:n<1024*1024?`${(n/1024).toFixed(1)} KB`:`${(n/(1024*1024)).toFixed(1)} MB`}function Ss(n){return n.toLocaleString()}async function Ot(){l(ds,!0),l(ye,null);try{const n=await fetch("/api/ha/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e(ze),token:e(Be)})});n.ok?l(ye,await n.json(),!0):l(ye,{success:!1,message:"Request failed"},!0)}catch{l(ye,{success:!1,message:"Network error"},!0)}finally{l(ds,!1)}}async function Zs(){try{const n=await fetch("/api/ha/status");n.ok&&l(Gs,await n.json(),!0)}catch(n){console.error("Failed to load HA status:",n)}}wa(async()=>{await Promise.all([wt(),Ys(),xt(),Ct(),Zs(),St(),Mt()]),Qs(),l(Ks,!1)}),gt(()=>{m.loaded&&Qs()});var As=pl();Aa("hj1sc2",n=>{Ca(()=>{Sa.title="System | BrewSignal"})});var Ut=a(As);{var Nt=n=>{var w=Ia();v(n,w)},Dt=n=>{var w=hl(),$=Ae(w),Ge=a($),re=a(Ge),et=s(a(re),2),$t=a(et,!0);t(et),t(re);var Ms=s(re,2),st=s(a(Ms),2),Vt=a(st);t(st),t(Ms);var Ts=s(Ms,2),tt=s(a(Ts),2),qt=a(tt,!0);t(tt),t(Ts);var Hs=s(Ts,2),at=s(a(Hs),2),Jt=a(at,!0);t(at),t(Hs);var Is=s(Hs,2),lt=s(a(Is),2),Kt=a(lt,!0);t(lt),t(Is);var zs=s(Is,2);let nt;var it=s(a(zs),2),Gt=a(it);{var Wt=r=>{var d=za(),y=s(a(d)),f=s(y),I=a(f);t(f),t(d),k(()=>{_(y,` ${e(Me).device.architecture??""} `),_(I,`${e(Me).device.tops??""} TOPS`)}),v(r,d)},Yt=r=>{var d=Ba();v(r,d)};p(Gt,r=>{e(Me)?.available&&e(Me).device?r(Wt):r(Yt,!1)})}t(it),t(zs),t(Ge),t($);var ot=s($,4),Bs=a(ot),We=a(Bs);We.__click=()=>Ke("display");var Qt=s(a(We),2);let rt;t(We);var Xt=s(We,2);{var Zt=r=>{var d=Ra(),y=a(d),f=a(y),I=s(a(f),2),z=a(I);let J;z.__click=()=>l(Te,"C");var K=s(z,2);let L;K.__click=()=>l(Te,"F"),t(I),t(f);var ee=s(f,2),V=s(a(ee),2),G=a(V);let ce;G.__click=()=>l(pe,"sg");var N=s(G,2);let g;N.__click=()=>l(pe,"plato");var x=s(N,2);let R;x.__click=()=>l(pe,"brix"),t(V),t(ee);var D=s(ee,2),W=s(a(D),2),S=a(W);O(S),Oe(2),t(W),t(D);var A=s(D,2),M=s(a(A),2);M.__change=i=>Bt(i.currentTarget.value),$s(M,21,()=>e(Js),Vs,(i,c)=>{var h=Pa(),j=a(h,!0);t(h);var B={};k(()=>{_(j,e(c)),B!==(B=e(c))&&(h.value=(h.__value=e(c))??"")}),v(i,h)}),t(M);var ve;Ma(M),t(A),t(y);var se=s(y,4),_e=a(se),me=s(a(_e),2),de=a(me);{var fe=i=>{var c=Ea(),h=a(c);h.value=h.__value=3;var j=s(h);j.value=j.__value=5;var B=s(j);B.value=B.__value=10;var he=s(B);he.value=he.__value=15;var q=s(he);q.value=q.__value=20,t(c),qs(c,()=>e(as),Q=>l(as,Q)),v(i,c)};p(de,i=>{e(be)&&i(fe)})}var te=s(de,2);let ge;te.__click=()=>l(be,!e(be)),t(me),t(_e);var je=s(_e,2),ae=s(a(je),2);let Y;ae.__click=()=>l(He,!e(He)),t(je),t(se);var le=s(se,2),ue=a(le);ue.__click=It;var es=a(ue,!0);t(ue);var xe=s(ue,2);{var b=i=>{var c=Fa(),h=a(c,!0);t(c),k(()=>_(h,e(ns))),v(i,c)};p(xe,i=>{e(ns)&&i(b)})}var T=s(xe,2);{var C=i=>{var c=La();v(i,c)};p(T,i=>{e(is)&&i(C)})}t(le),t(d),k(()=>{J=P(z,1,"toggle-btn svelte-hj1sc2",null,J,{active:e(Te)==="C"}),L=P(K,1,"toggle-btn svelte-hj1sc2",null,L,{active:e(Te)==="F"}),ce=P(G,1,"toggle-btn svelte-hj1sc2",null,ce,{active:e(pe)==="sg"}),g=P(N,1,"toggle-btn svelte-hj1sc2",null,g,{active:e(pe)==="plato"}),R=P(x,1,"toggle-btn svelte-hj1sc2",null,R,{active:e(pe)==="brix"}),M.disabled=e(H)==="timezone",ve!==(ve=e(Ne))&&(M.value=(M.__value=e(Ne))??"",Ta(M,e(Ne))),ge=P(te,1,"switch svelte-hj1sc2",null,ge,{on:e(be)}),F(te,"aria-pressed",e(be)),Y=P(ae,1,"switch svelte-hj1sc2",null,Y,{on:e(He)}),F(ae,"aria-pressed",e(He)),ue.disabled=e(ls),_(es,e(ls)?"Saving...":"Save Changes")}),U(S,()=>e(ts),i=>l(ts,i)),v(r,d)};p(Xt,r=>{e(E)==="display"&&r(Zt)})}t(Bs);var Ps=s(Bs,2),Ye=a(Ps);Ye.__click=()=>Ke("homeassistant");var Es=a(Ye),ea=s(a(Es),4);{var sa=r=>{var d=Oa();v(r,d)},ta=r=>{var d=Ns(),y=Ae(d);{var f=I=>{var z=Ua();v(I,z)};p(y,I=>{e(Z)&&I(f)},!0)}v(r,d)};p(ea,r=>{e(Gs)?.connected?r(sa):r(ta,!1)})}t(Es);var aa=s(Es,2);let ct;t(Ye);var la=s(Ye,2);{var na=r=>{var d=Wa(),y=a(d),f=s(a(y),2);let I;f.__click=()=>l(Z,!e(Z)),t(y);var z=s(y,2);{var J=g=>{var x=Ja(),R=Ae(x),D=a(R),W=s(a(D),2);O(W),t(D);var S=s(D,2),A=s(a(S),2);O(A),t(S);var M=s(S,2),ve=s(a(M),2);O(ve),t(M);var se=s(M,2),_e=s(a(se),2);O(_e),t(se);var me=s(se,2),de=s(a(me),2);O(de),t(me);var fe=s(me,2),te=s(a(fe),2);O(te),t(fe);var ge=s(fe,2),je=s(a(ge),2);O(je),t(ge),t(R);var ae=s(R,2),Y=a(ae);Y.__click=Ot;var le=a(Y,!0);t(Y);var ue=s(Y,2);{var es=i=>{var c=Na();let h;var j=a(c,!0);t(c),k(()=>{h=P(c,1,"test-result svelte-hj1sc2",null,h,{success:e(ye).success}),_(j,e(ye).message)}),v(i,c)};p(ue,i=>{e(ye)&&i(es)})}t(ae);var xe=s(ae,2);{var b=i=>{var c=$a(),h=s(a(c),2),j=s(a(h),2);let B;j.__click=()=>l(Ee,!e(Ee)),t(h);var he=s(h,2);{var q=Q=>{var Ce=Da(),Le=s(a(Ce),2),ss=a(Le);O(ss),Oe(2),t(Le),t(Ce),U(ss,()=>e(ks),Se=>l(ks,Se)),v(Q,Ce)};p(he,Q=>{e(Ee)&&Q(q)})}t(c),k(()=>{B=P(j,1,"switch svelte-hj1sc2",null,B,{on:e(Ee)}),F(j,"aria-pressed",e(Ee))}),v(i,c)};p(xe,i=>{e(Z)&&e(De)&&i(b)})}var T=s(xe,2);{var C=i=>{var c=qa(),h=s(a(c),2),j=s(a(h),2);let B;j.__click=()=>l(Pe,!e(Pe)),t(h);var he=s(h,2);{var q=Q=>{var Ce=Va(),Le=a(Ce),ss=s(a(Le),2),Se=a(ss);O(Se);var pt=s(Se,2),ja=a(pt,!0);t(pt),t(ss),t(Le);var _t=s(Le,2),mt=s(a(_t),2),Re=a(mt);O(Re);var ft=s(Re,2),ba=a(ft);t(ft),t(mt),t(_t),t(Ce),k(()=>{F(Se,"min",e(we)?0:32),F(Se,"max",e(we)?38:100),_(ja,e(Ws)),F(Re,"min",e(we)?.3:.5),F(Re,"max",e(we)?5.5:10),F(Re,"step",e(we)?.25:.5),_(ba,`±${e(Ws)??""}`)}),U(Se,()=>e(bs),Us=>l(bs,Us)),U(Re,()=>e(ys),Us=>l(ys,Us)),v(Q,Ce)};p(he,Q=>{e(Pe)&&Q(q)})}t(c),k(()=>{B=P(j,1,"switch svelte-hj1sc2",null,B,{on:e(Pe)}),F(j,"aria-pressed",e(Pe))}),v(i,c)};p(T,i=>{e(Z)&&i(C)})}k(()=>{Y.disabled=e(ds)||!e(ze)||!e(Be),_(le,e(ds)?"Testing...":"Test Connection")}),U(W,()=>e(ze),i=>l(ze,i)),U(A,()=>e(Be),i=>l(Be,i)),U(ve,()=>e(os),i=>l(os,i)),U(_e,()=>e(rs),i=>l(rs,i)),U(de,()=>e(cs),i=>l(cs,i)),U(te,()=>e(vs),i=>l(vs,i)),U(je,()=>e(De),i=>l(De,i)),v(g,x)};p(z,g=>{e(Z)&&g(J)})}var K=s(z,2),L=a(K);L.__click=zt;var ee=a(L,!0);t(L);var V=s(L,2);{var G=g=>{var x=Ka(),R=a(x,!0);t(x),k(()=>_(R,e(hs))),v(g,x)};p(V,g=>{e(hs)&&g(G)})}var ce=s(V,2);{var N=g=>{var x=Ga();v(g,x)};p(ce,g=>{e(ps)&&g(N)})}t(K),t(d),k(()=>{I=P(f,1,"switch svelte-hj1sc2",null,I,{on:e(Z)}),F(f,"aria-pressed",e(Z)),L.disabled=e(us),_(ee,e(us)?"Saving...":"Save HA Settings")}),v(r,d)};p(la,r=>{e(E)==="homeassistant"&&r(na)})}t(Ps);var Fs=s(Ps,2),Qe=a(Fs);Qe.__click=()=>Ke("ai");var Ls=a(Qe),ia=s(a(Ls),4);{var oa=r=>{var d=Ya();v(r,d)};p(ia,r=>{e(ie)&&r(oa)})}t(Ls);var ra=s(Ls,2);let vt;t(Qe);var ca=s(Qe,2);{var va=r=>{var d=ol(),y=s(a(d),2),f=s(a(y),2);let I;f.__click=()=>l(ie,!e(ie)),t(y);var z=s(y,2);{var J=g=>{var x=ll(),R=Ae(x),D=a(R),W=s(a(D),2);$s(W,21,()=>e(ws),Vs,(b,T)=>{var C=Qa(),i=a(C,!0);t(C);var c={};k(()=>{_(i,e(T).name),c!==(c=e(T).id)&&(C.value=(C.__value=e(T).id)??"")}),v(b,C)}),t(W),t(D);var S=s(D,2),A=s(a(S),2),M=a(A);M.value=M.__value="";var ve=s(M);$s(ve,17,()=>e(xs),Vs,(b,T)=>{var C=Xa(),i=a(C,!0);t(C);var c={};k(()=>{_(i,e(T).name),c!==(c=e(T).id)&&(C.value=(C.__value=e(T).id)??"")}),v(b,C)}),t(A),t(S),t(R);var se=s(R,2);{var _e=b=>{var T=Za(),C=s(Ae(T),2),i=s(a(C),2);O(i),t(C),U(i,()=>e(Ve),c=>l(Ve,c)),v(b,T)},me=b=>{var T=Ns(),C=Ae(T);{var i=c=>{var h=sl(),j=s(a(h),2);O(j);var B=s(j,2);{var he=q=>{var Q=el();v(q,Q)};p(B,q=>{e(Cs)&&!e(Fe)&&q(he)})}t(h),k(()=>F(j,"placeholder",e(Cs)?"(using environment variable)":"sk-...")),U(j,()=>e(Fe),q=>l(Fe,q)),v(c,h)};p(C,c=>{e(ws).find(h=>h.id===e(oe))?.requires_api_key&&c(i)},!0)}v(b,T)};p(se,b=>{e(oe)==="local"?b(_e):b(me,!1)})}var de=s(se,2),fe=s(a(de),2),te=a(fe),ge=s(a(te),2);O(ge),Oe(2),t(te);var je=s(te,2),ae=s(a(je),2);O(ae),t(je),t(fe),t(de);var Y=s(de,2),le=a(Y);le.__click=Ht;var ue=a(le,!0);t(le);var es=s(le,2);{var xe=b=>{var T=Ns(),C=Ae(T);{var i=h=>{var j=tl(),B=a(j);t(j),k(()=>_(B,`Connected! "${e(ke).response??""}"`)),v(h,j)},c=h=>{var j=al(),B=a(j,!0);t(j),k(()=>_(B,e(ke).error)),v(h,j)};p(C,h=>{e(ke).success?h(i):h(c,!1)})}v(b,T)};p(es,b=>{e(ke)&&b(xe)})}t(Y),k(()=>{le.disabled=e(gs),_(ue,e(gs)?"Testing...":"Test Connection")}),qs(W,()=>e(oe),b=>l(oe,b)),qs(A,()=>e($e),b=>l($e,b)),U(ge,()=>e(qe),b=>l(qe,b)),U(ae,()=>e(Je),b=>l(Je,b)),v(g,x)};p(z,g=>{e(ie)&&g(J)})}var K=s(z,2),L=a(K);L.__click=Tt;var ee=a(L,!0);t(L);var V=s(L,2);{var G=g=>{var x=nl(),R=a(x,!0);t(x),k(()=>_(R,e(ms))),v(g,x)};p(V,g=>{e(ms)&&g(G)})}var ce=s(V,2);{var N=g=>{var x=il();v(g,x)};p(ce,g=>{e(fs)&&g(N)})}t(K),t(d),k(()=>{I=P(f,1,"switch svelte-hj1sc2",null,I,{on:e(ie)}),F(f,"aria-pressed",e(ie)),L.disabled=e(_s),_(ee,e(_s)?"Saving...":"Save AI Settings")}),v(r,d)};p(ca,r=>{e(E)==="ai"&&r(va)})}t(Fs);var Rs=s(Fs,2),Xe=a(Rs);Xe.__click=()=>Ke("storage");var Os=a(Xe),da=s(a(Os),4);{var ua=r=>{var d=rl(),y=a(d,!0);t(d),k(f=>_(y,f),[()=>Xs(e(ne).estimated_size_bytes)]),v(r,d)};p(da,r=>{e(ne)&&r(ua)})}t(Os);var ha=s(Os,2);let dt;t(Xe);var pa=s(Xe,2);{var _a=r=>{var d=dl(),y=a(d),f=a(y),I=a(f),z=a(I,!0);t(I),Oe(2),t(f);var J=s(f,2),K=a(J),L=a(K,!0);t(K),Oe(2),t(J),t(y);var ee=s(y,2),V=s(a(ee),2),G=s(a(V),2),ce=a(G);O(ce),Oe(2),t(G);var N=s(G,2);N.__click=Pt;var g=a(N,!0);t(N);var x=s(N,2);{var R=S=>{var A=cl();A.__click=Et;var M=a(A,!0);t(A),k(ve=>{A.disabled=e(H)!==null,_(M,ve)},[()=>e(H)==="cleanup"?"Deleting...":`Delete ${Ss(e(X).readings_to_delete)}`]),v(S,A)};p(x,S=>{e(X)&&e(X).readings_to_delete>0&&S(R)})}t(V);var D=s(V,2);{var W=S=>{var A=vl(),M=a(A);t(A),k(()=>_(M,`No readings older than ${e(Ie)??""} days.`)),v(S,A)};p(D,S=>{e(X)&&e(X).readings_to_delete===0&&S(W)})}t(ee),t(d),k((S,A)=>{_(z,S),_(L,A),N.disabled=e(H)!==null,_(g,e(H)==="cleanup-preview"?"Checking...":"Preview")},[()=>e(ne)?Ss(e(ne).total_readings):"—",()=>e(ne)?Xs(e(ne).estimated_size_bytes):"—"]),U(ce,()=>e(Ie),S=>l(Ie,S)),v(r,d)};p(pa,r=>{e(E)==="storage"&&r(_a)})}t(Rs);var ut=s(Rs,2),Ze=a(ut);Ze.__click=()=>Ke("power");var ma=s(a(Ze),2);let ht;t(Ze);var fa=s(Ze,2);{var ga=r=>{var d=ul(),y=s(a(d),2),f=a(y);f.__click=Ft;var I=s(a(f));t(f);var z=s(f,2);z.__click=Lt;var J=s(a(z));t(z),t(y),t(d),k(()=>{f.disabled=e(H)!==null,_(I,` ${e(H)==="reboot"?"Rebooting...":"Reboot"}`),z.disabled=e(H)!==null,_(J,` ${e(H)==="shutdown"?"Shutting down...":"Shutdown"}`)}),v(r,d)};p(fa,r=>{e(E)==="power"&&r(ga)})}t(ut),t(ot),k((r,d)=>{_($t,e(Ue)?.hostname??"Unknown"),_(Vt,`v${e(Ue)?.version??"?"??""}`),_(qt,r),_(Jt,e(Ue)?.ip_addresses?.[0]??"Unknown"),_(Kt,d),nt=P(zs,1,"status-item ai-status svelte-hj1sc2",null,nt,{active:e(Me)?.available}),F(We,"aria-expanded",e(E)==="display"),rt=P(Qt,0,"chevron svelte-hj1sc2",null,rt,{rotated:e(E)==="display"}),F(Ye,"aria-expanded",e(E)==="homeassistant"),ct=P(aa,0,"chevron svelte-hj1sc2",null,ct,{rotated:e(E)==="homeassistant"}),F(Qe,"aria-expanded",e(E)==="ai"),vt=P(ra,0,"chevron svelte-hj1sc2",null,vt,{rotated:e(E)==="ai"}),F(Xe,"aria-expanded",e(E)==="storage"),dt=P(ha,0,"chevron svelte-hj1sc2",null,dt,{rotated:e(E)==="storage"}),F(Ze,"aria-expanded",e(E)==="power"),ht=P(ma,0,"chevron svelte-hj1sc2",null,ht,{rotated:e(E)==="power"})},[()=>Rt(e(Ue)?.uptime_seconds??null),()=>e(ne)?Ss(e(ne).total_readings):"—"]),v(n,w)};p(Ut,n=>{e(Ks)?n(Nt):n(Dt,!1)})}t(As),v(bt,As),xa()}ya(["click","change"]);export{Cl as component};
