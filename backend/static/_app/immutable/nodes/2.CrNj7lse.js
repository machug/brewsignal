import{d as ss,c as Vn,a as ye,f as Ee,s as we,e as bi}from"../chunks/CsQfwH0S.js";import{h as Fr,K as Or,b7 as Nr,b as Gr,ah as as,at as zl,c as u,ai as Ge,aj as is,al as S,an as x,ak as G,aq as Pe,ar as at,s as ie,as as Gl,p as ql,ao as xi,aL as zr,ap as $n,e as Ir,am as Br}from"../chunks/fKkNMI8q.js";import{e as bn,i as Hn}from"../chunks/COk1ZY4R.js";import{B as Vr,i as $e}from"../chunks/BvBRaQNg.js";import{h as Hr}from"../chunks/DLseniaC.js";import{s as sl}from"../chunks/BDI2zAFW.js";import{t as yi}from"../chunks/C8NDSE1R.js";import{w as Pn}from"../chunks/k2D9zoAh.js";import{r as Si,s as Fl}from"../chunks/DbN3nGCc.js";import{s as Nl}from"../chunks/CcRNvR1k.js";import{b as ki}from"../chunks/C-0Ur6Zf.js";import{b as js}from"../chunks/CqqoqCZR.js";import{p as _n}from"../chunks/CllCHKBI.js";import{c as Xn,d as mn,b as Ks,g as Ti,e as Wr}from"../chunks/CPwbAm-l.js";import{T as Ur,q as Yr,s as qr,t as jr,v as Kr,w as Jr,x as Zr,y as Qr,j as $r}from"../chunks/i8VL_lOf.js";import{i as Xr,s as eo}from"../chunks/C8srtpii.js";function to(e,l,a){Fr&&Or();var n=new Vr(e),i=!Nr();Gr(()=>{var f=l();i&&f!==null&&typeof f=="object"&&(f={}),n.ensure(f,a)})}const lo=!0,Rt="u-",no="uplot",so=Rt+"hz",ao=Rt+"vt",io=Rt+"title",ro=Rt+"wrap",oo=Rt+"under",uo=Rt+"over",co=Rt+"axis",tn=Rt+"off",fo=Rt+"select",po=Rt+"cursor-x",vo=Rt+"cursor-y",ho=Rt+"cursor-pt",go=Rt+"legend",mo=Rt+"live",_o=Rt+"inline",wo=Rt+"series",bo=Rt+"marker",Fa=Rt+"label",xo=Rt+"value",Nn="width",Gn="height",Fn="top",Oa="bottom",hn="left",Ls="right",Js="#000",Na=Js+"0",Ds="mousemove",Ga="mousedown",Rs="mouseup",za="mouseenter",Ia="mouseleave",Ba="dblclick",yo="resize",So="scroll",Va="change",ts="dppxchange",Zs="--",Tn=typeof window<"u",Gs=Tn?document:null,wn=Tn?window:null,ko=Tn?navigator:null;let He,Jn;function zs(){let e=devicePixelRatio;He!=e&&(He=e,Jn&&Bs(Va,Jn,zs),Jn=matchMedia(`(min-resolution: ${He-.001}dppx) and (max-resolution: ${He+.001}dppx)`),ln(Va,Jn,zs),wn.dispatchEvent(new CustomEvent(ts)))}function ul(e,l){if(l!=null){let a=e.classList;!a.contains(l)&&a.add(l)}}function Is(e,l){let a=e.classList;a.contains(l)&&a.remove(l)}function st(e,l,a){e.style[l]=a+"px"}function kl(e,l,a,n){let i=Gs.createElement(e);return l!=null&&ul(i,l),a?.insertBefore(i,n),i}function ml(e,l){return kl("div",e,l)}const Ha=new WeakMap;function Pl(e,l,a,n,i){let f="translate("+l+"px,"+a+"px)",c=Ha.get(e);f!=c&&(e.style.transform=f,Ha.set(e,f),l<0||a<0||l>n||a>i?ul(e,tn):Is(e,tn))}const Wa=new WeakMap;function Ua(e,l,a){let n=l+a,i=Wa.get(e);n!=i&&(Wa.set(e,n),e.style.background=l,e.style.borderColor=a)}const Ya=new WeakMap;function qa(e,l,a,n){let i=l+""+a,f=Ya.get(e);i!=f&&(Ya.set(e,i),e.style.height=a+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-a/2+"px":0)}const Qs={passive:!0},To={...Qs,capture:!0};function ln(e,l,a,n){l.addEventListener(e,a,n?To:Qs)}function Bs(e,l,a,n){l.removeEventListener(e,a,Qs)}Tn&&zs();function Tl(e,l,a,n){let i;a=a||0,n=n||l.length-1;let f=n<=2147483647;for(;n-a>1;)i=f?a+n>>1:cl((a+n)/2),l[i]<e?a=i:n=i;return e-l[a]<=l[n]-e?a:n}function Ei(e){return(a,n,i)=>{let f=-1,c=-1;for(let p=n;p<=i;p++)if(e(a[p])){f=p;break}for(let p=i;p>=n;p--)if(e(a[p])){c=p;break}return[f,c]}}const Mi=e=>e!=null,Ai=e=>e!=null&&e>0,rs=Ei(Mi),Eo=Ei(Ai);function Mo(e,l,a,n=0,i=!1){let f=i?Eo:rs,c=i?Ai:Mi;[l,a]=f(e,l,a);let p=e[l],v=e[l];if(l>-1)if(n==1)p=e[l],v=e[a];else if(n==-1)p=e[a],v=e[l];else for(let h=l;h<=a;h++){let k=e[h];c(k)&&(k<p?p=k:k>v&&(v=k))}return[p??Ke,v??-Ke]}function os(e,l,a,n){let i=Ja(e),f=Ja(l);e==l&&(i==-1?(e*=a,l/=a):(e/=a,l*=a));let c=a==10?Il:Ci,p=i==1?cl:_l,v=f==1?_l:cl,h=p(c(Dt(e))),k=v(c(Dt(l))),m=xn(a,h),_=xn(a,k);return a==10&&(h<0&&(m=Je(m,-h)),k<0&&(_=Je(_,-k))),n||a==2?(e=m*i,l=_*f):(e=Pi(e,m),l=us(l,_)),[e,l]}function $s(e,l,a,n){let i=os(e,l,a,n);return e==0&&(i[0]=0),l==0&&(i[1]=0),i}const Xs=.1,ja={mode:3,pad:Xs},In={pad:0,soft:null,mode:0},Ao={min:In,max:In};function ls(e,l,a,n){return cs(a)?Ka(e,l,a):(In.pad=a,In.soft=n?0:null,In.mode=n?3:0,Ka(e,l,Ao))}function Ie(e,l){return e??l}function Co(e,l,a){for(l=Ie(l,0),a=Ie(a,e.length-1);l<=a;){if(e[l]!=null)return!0;l++}return!1}function Ka(e,l,a){let n=a.min,i=a.max,f=Ie(n.pad,0),c=Ie(i.pad,0),p=Ie(n.hard,-Ke),v=Ie(i.hard,Ke),h=Ie(n.soft,Ke),k=Ie(i.soft,-Ke),m=Ie(n.mode,0),_=Ie(i.mode,0),Y=l-e,T=Il(Y),V=Xt(Dt(e),Dt(l)),se=Il(V),oe=Dt(se-T);(Y<1e-24||oe>10)&&(Y=0,(e==0||l==0)&&(Y=1e-24,m==2&&h!=Ke&&(f=0),_==2&&k!=-Ke&&(c=0)));let y=Y||V||1e3,$=Il(y),C=xn(10,cl($)),R=y*(Y==0?e==0?.1:1:f),A=Je(Pi(e-R,C/10),24),ae=e>=h&&(m==1||m==3&&A<=h||m==2&&A>=h)?h:Ke,te=Xt(p,A<ae&&e>=ae?ae:El(ae,A)),j=y*(Y==0?l==0?.1:1:c),re=Je(us(l+j,C/10),24),w=l<=k&&(_==1||_==3&&re>=k||_==2&&re<=k)?k:-Ke,U=El(v,re>w&&l<=w?w:Xt(w,re));return te==U&&te==0&&(U=100),[te,U]}const Lo=new Intl.NumberFormat(Tn?ko.language:"en-US"),ea=e=>Lo.format(e),fl=Math,es=fl.PI,Dt=fl.abs,cl=fl.floor,Lt=fl.round,_l=fl.ceil,El=fl.min,Xt=fl.max,xn=fl.pow,Ja=fl.sign,Il=fl.log10,Ci=fl.log2,Do=(e,l=1)=>fl.sinh(e)*l,Ps=(e,l=1)=>fl.asinh(e/l),Ke=1/0;function Za(e){return(Il((e^e>>31)-(e>>31))|0)+1}function Vs(e,l,a){return El(Xt(e,l),a)}function Li(e){return typeof e=="function"}function Le(e){return Li(e)?e:()=>e}const Ro=()=>{},Di=e=>e,Ri=(e,l)=>l,Po=e=>null,Qa=e=>!0,$a=(e,l)=>e==l,Fo=/\.\d*?(?=9{6,}|0{6,})/gm,nn=e=>{if(Oi(e)||jl.has(e))return e;const l=`${e}`,a=l.match(Fo);if(a==null)return e;let n=a[0].length-1;if(l.indexOf("e-")!=-1){let[i,f]=l.split("e");return+`${nn(i)}e${f}`}return Je(e,n)};function Xl(e,l){return nn(Je(nn(e/l))*l)}function us(e,l){return nn(_l(nn(e/l))*l)}function Pi(e,l){return nn(cl(nn(e/l))*l)}function Je(e,l=0){if(Oi(e))return e;let a=10**l,n=e*a*(1+Number.EPSILON);return Lt(n)/a}const jl=new Map;function Fi(e){return((""+e).split(".")[1]||"").length}function Wn(e,l,a,n){let i=[],f=n.map(Fi);for(let c=l;c<a;c++){let p=Dt(c),v=Je(xn(e,c),p);for(let h=0;h<n.length;h++){let k=e==10?+`${n[h]}e${c}`:n[h]*v,m=(c>=0?0:p)+(c>=f[h]?0:f[h]),_=e==10?k:Je(k,m);i.push(_),jl.set(_,m)}}return i}const Bn={},ta=[],yn=[null,null],Yl=Array.isArray,Oi=Number.isInteger,Oo=e=>e===void 0;function Xa(e){return typeof e=="string"}function cs(e){let l=!1;if(e!=null){let a=e.constructor;l=a==null||a==Object}return l}function No(e){return e!=null&&typeof e=="object"}const Go=Object.getPrototypeOf(Uint8Array),Ni="__proto__";function Sn(e,l=cs){let a;if(Yl(e)){let n=e.find(i=>i!=null);if(Yl(n)||l(n)){a=Array(e.length);for(let i=0;i<e.length;i++)a[i]=Sn(e[i],l)}else a=e.slice()}else if(e instanceof Go)a=e.slice();else if(l(e)){a={};for(let n in e)n!=Ni&&(a[n]=Sn(e[n],l))}else a=e;return a}function Et(e){let l=arguments;for(let a=1;a<l.length;a++){let n=l[a];for(let i in n)i!=Ni&&(cs(e[i])?Et(e[i],Sn(n[i])):e[i]=Sn(n[i]))}return e}const zo=0,Io=1,Bo=2;function Vo(e,l,a){for(let n=0,i,f=-1;n<l.length;n++){let c=l[n];if(c>f){for(i=c-1;i>=0&&e[i]==null;)e[i--]=null;for(i=c+1;i<a&&e[i]==null;)e[f=i++]=null}}}function Ho(e,l){if(Yo(e)){let c=e[0].slice();for(let p=1;p<e.length;p++)c.push(...e[p].slice(1));return qo(c[0])||(c=Uo(c)),c}let a=new Set;for(let c=0;c<e.length;c++){let v=e[c][0],h=v.length;for(let k=0;k<h;k++)a.add(v[k])}let n=[Array.from(a).sort((c,p)=>c-p)],i=n[0].length,f=new Map;for(let c=0;c<i;c++)f.set(n[0][c],c);for(let c=0;c<e.length;c++){let p=e[c],v=p[0];for(let h=1;h<p.length;h++){let k=p[h],m=Array(i).fill(void 0),_=l?l[c][h]:Io,Y=[];for(let T=0;T<k.length;T++){let V=k[T],se=f.get(v[T]);V===null?_!=zo&&(m[se]=V,_==Bo&&Y.push(se)):m[se]=V}Vo(m,Y,i),n.push(m)}}return n}const Wo=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Uo(e){let l=e[0],a=l.length,n=Array(a);for(let f=0;f<n.length;f++)n[f]=f;n.sort((f,c)=>l[f]-l[c]);let i=[];for(let f=0;f<e.length;f++){let c=e[f],p=Array(a);for(let v=0;v<a;v++)p[v]=c[n[v]];i.push(p)}return i}function Yo(e){let l=e[0][0],a=l.length;for(let n=1;n<e.length;n++){let i=e[n][0];if(i.length!=a)return!1;if(i!=l){for(let f=0;f<a;f++)if(i[f]!=l[f])return!1}}return!0}function qo(e,l=100){const a=e.length;if(a<=1)return!0;let n=0,i=a-1;for(;n<=i&&e[n]==null;)n++;for(;i>=n&&e[i]==null;)i--;if(i<=n)return!0;const f=Xt(1,cl((i-n+1)/l));for(let c=e[n],p=n+f;p<=i;p+=f){const v=e[p];if(v!=null){if(v<=c)return!1;c=v}}return!0}const Gi=["January","February","March","April","May","June","July","August","September","October","November","December"],zi=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Ii(e){return e.slice(0,3)}const jo=zi.map(Ii),Ko=Gi.map(Ii),Jo={MMMM:Gi,MMM:Ko,WWWW:zi,WWW:jo};function On(e){return(e<10?"0":"")+e}function Zo(e){return(e<10?"00":e<100?"0":"")+e}const Qo={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>On(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>On(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>On(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return l==0?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>On(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>On(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Zo(e.getMilliseconds())};function la(e,l){l=l||Jo;let a=[],n=/\{([a-z]+)\}|[^{]+/gi,i;for(;i=n.exec(e);)a.push(i[0][0]=="{"?Qo[i[1]]:i[0]);return f=>{let c="";for(let p=0;p<a.length;p++)c+=typeof a[p]=="string"?a[p]:a[p](f,l);return c}}const $o=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Xo(e,l){let a;return l=="UTC"||l=="Etc/UTC"?a=new Date(+e+e.getTimezoneOffset()*6e4):l==$o?a=e:(a=new Date(e.toLocaleString("en-US",{timeZone:l})),a.setMilliseconds(e.getMilliseconds())),a}const Bi=e=>e%1==0,ns=[1,2,2.5,5],eu=Wn(10,-32,0,ns),Vi=Wn(10,0,32,ns),tu=Vi.filter(Bi),en=eu.concat(Vi),na=`
`,Hi="{YYYY}",ei=na+Hi,Wi="{M}/{D}",zn=na+Wi,Zn=zn+"/{YY}",Ui="{aa}",lu="{h}:{mm}",gn=lu+Ui,ti=na+gn,li=":{ss}",We=null;function Yi(e){let l=e*1e3,a=l*60,n=a*60,i=n*24,f=i*30,c=i*365,v=(e==1?Wn(10,0,3,ns).filter(Bi):Wn(10,-3,0,ns)).concat([l,l*5,l*10,l*15,l*30,a,a*5,a*10,a*15,a*30,n,n*2,n*3,n*4,n*6,n*8,n*12,i,i*2,i*3,i*4,i*5,i*6,i*7,i*8,i*9,i*10,i*15,f,f*2,f*3,f*4,f*6,c,c*2,c*5,c*10,c*25,c*50,c*100]);const h=[[c,Hi,We,We,We,We,We,We,1],[i*28,"{MMM}",ei,We,We,We,We,We,1],[i,Wi,ei,We,We,We,We,We,1],[n,"{h}"+Ui,Zn,We,zn,We,We,We,1],[a,gn,Zn,We,zn,We,We,We,1],[l,li,Zn+" "+gn,We,zn+" "+gn,We,ti,We,1],[e,li+".{fff}",Zn+" "+gn,We,zn+" "+gn,We,ti,We,1]];function k(m){return(_,Y,T,V,se,oe)=>{let y=[],$=se>=c,C=se>=f&&se<c,R=m(T),A=Je(R*e,3),ae=Fs(R.getFullYear(),$?0:R.getMonth(),C||$?1:R.getDate()),te=Je(ae*e,3);if(C||$){let j=C?se/f:0,re=$?se/c:0,w=A==te?A:Je(Fs(ae.getFullYear()+re,ae.getMonth()+j,1)*e,3),U=new Date(Lt(w/e)),N=U.getFullYear(),le=U.getMonth();for(let F=0;w<=V;F++){let ee=Fs(N+re*F,le+j*F,1),O=ee-m(Je(ee*e,3));w=Je((+ee+O)*e,3),w<=V&&y.push(w)}}else{let j=se>=i?i:se,re=cl(T)-cl(A),w=te+re+us(A-te,j);y.push(w);let U=m(w),N=U.getHours()+U.getMinutes()/a+U.getSeconds()/n,le=se/n,F=_.axes[Y]._space,ee=oe/F;for(;w=Je(w+se,e==1?0:3),!(w>V);)if(le>1){let O=cl(Je(N+le,6))%24,pe=m(w).getHours()-O;pe>1&&(pe=-1),w-=pe*n,N=(N+le)%24;let be=y[y.length-1];Je((w-be)/se,3)*ee>=.7&&y.push(w)}else y.push(w)}return y}}return[v,h,k]}const[nu,su,au]=Yi(1),[iu,ru,ou]=Yi(.001);Wn(2,-53,53,[1]);function ni(e,l){return e.map(a=>a.map((n,i)=>i==0||i==8||n==null?n:l(i==1||a[8]==0?n:a[1]+n)))}function si(e,l){return(a,n,i,f,c)=>{let p=l.find(T=>c>=T[0])||l[l.length-1],v,h,k,m,_,Y;return n.map(T=>{let V=e(T),se=V.getFullYear(),oe=V.getMonth(),y=V.getDate(),$=V.getHours(),C=V.getMinutes(),R=V.getSeconds(),A=se!=v&&p[2]||oe!=h&&p[3]||y!=k&&p[4]||$!=m&&p[5]||C!=_&&p[6]||R!=Y&&p[7]||p[1];return v=se,h=oe,k=y,m=$,_=C,Y=R,A(V)})}}function uu(e,l){let a=la(l);return(n,i,f,c,p)=>i.map(v=>a(e(v)))}function Fs(e,l,a){return new Date(e,l,a)}function ai(e,l){return l(e)}const cu="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function ii(e,l){return(a,n,i,f)=>f==null?Zs:l(e(n))}function fu(e,l){let a=e.series[l];return a.width?a.stroke(e,l):a.points.width?a.points.stroke(e,l):null}function du(e,l){return e.series[l].fill(e,l)}const pu={show:!0,live:!0,isolate:!1,mount:Ro,markers:{show:!0,width:2,stroke:fu,fill:du,dash:"solid"},idx:null,idxs:null,values:[]};function vu(e,l){let a=e.cursor.points,n=ml(),i=a.size(e,l);st(n,Nn,i),st(n,Gn,i);let f=i/-2;st(n,"marginLeft",f),st(n,"marginTop",f);let c=a.width(e,l,i);return c&&st(n,"borderWidth",c),n}function hu(e,l){let a=e.series[l].points;return a._fill||a._stroke}function gu(e,l){let a=e.series[l].points;return a._stroke||a._fill}function mu(e,l){return e.series[l].points.size}const Os=[0,0];function _u(e,l,a){return Os[0]=l,Os[1]=a,Os}function Qn(e,l,a,n=!0){return i=>{i.button==0&&(!n||i.target==l)&&a(i)}}function Ns(e,l,a,n=!0){return i=>{(!n||i.target==l)&&a(i)}}const wu={show:!0,x:!0,y:!0,lock:!1,move:_u,points:{one:!1,show:vu,size:mu,width:0,stroke:gu,fill:hu},bind:{mousedown:Qn,mouseup:Qn,click:Qn,dblclick:Qn,mousemove:Ns,mouseleave:Ns,mouseenter:Ns},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,a,n,i)=>n-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},qi={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},sa=Et({},qi,{filter:Ri}),ji=Et({},sa,{size:10}),Ki=Et({},qi,{show:!1}),aa='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ji="bold "+aa,Zi=1.5,ri={show:!0,scale:"x",stroke:Js,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ji,side:2,grid:sa,ticks:ji,border:Ki,font:aa,lineGap:Zi,rotate:0},bu="Value",xu="Time",oi={show:!0,scale:"x",auto:!1,sorted:1,min:Ke,max:-Ke,idxs:[]};function yu(e,l,a,n,i){return l.map(f=>f==null?"":ea(f))}function Su(e,l,a,n,i,f,c){let p=[],v=jl.get(i)||0;a=c?a:Je(us(a,i),v);for(let h=a;h<=n;h=Je(h+i,v))p.push(Object.is(h,-0)?0:h);return p}function Hs(e,l,a,n,i,f,c){const p=[],v=e.scales[e.axes[l].scale].log,h=v==10?Il:Ci,k=cl(h(a));i=xn(v,k),v==10&&(i=en[Tl(i,en)]);let m=a,_=i*v;v==10&&(_=en[Tl(_,en)]);do p.push(m),m=m+i,v==10&&!jl.has(m)&&(m=Je(m,jl.get(i))),m>=_&&(i=m,_=i*v,v==10&&(_=en[Tl(_,en)]));while(m<=n);return p}function ku(e,l,a,n,i,f,c){let v=e.scales[e.axes[l].scale].asinh,h=n>v?Hs(e,l,Xt(v,a),n,i):[v],k=n>=0&&a<=0?[0]:[];return(a<-v?Hs(e,l,Xt(v,-n),-a,i):[v]).reverse().map(_=>-_).concat(k,h)}const Qi=/./,Tu=/[12357]/,Eu=/[125]/,ui=/1/,Ws=(e,l,a,n)=>e.map((i,f)=>l==4&&i==0||f%n==0&&a.test(i.toExponential()[i<0?1:0])?i:null);function Mu(e,l,a,n,i){let f=e.axes[a],c=f.scale,p=e.scales[c],v=e.valToPos,h=f._space,k=v(10,c),m=v(9,c)-k>=h?Qi:v(7,c)-k>=h?Tu:v(5,c)-k>=h?Eu:ui;if(m==ui){let _=Dt(v(1,c)-k);if(_<h)return Ws(l.slice().reverse(),p.distr,m,_l(h/_)).reverse()}return Ws(l,p.distr,m,1)}function Au(e,l,a,n,i){let f=e.axes[a],c=f.scale,p=f._space,v=e.valToPos,h=Dt(v(1,c)-v(2,c));return h<p?Ws(l.slice().reverse(),3,Qi,_l(p/h)).reverse():l}function Cu(e,l,a,n){return n==null?Zs:l==null?"":ea(l)}const ci={show:!0,scale:"y",stroke:Js,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ji,side:3,grid:sa,ticks:ji,border:Ki,font:aa,lineGap:Zi,rotate:0};function Lu(e,l){let a=3+(e||1)*2;return Je(a*l,3)}function Du(e,l){let{scale:a,idxs:n}=e.series[0],i=e._data[0],f=e.valToPos(i[n[0]],a,!0),c=e.valToPos(i[n[1]],a,!0),p=Dt(c-f),v=e.series[l],h=p/(v.points.space*He);return n[1]-n[0]<=h}const fi={scale:null,auto:!0,sorted:0,min:Ke,max:-Ke},$i=(e,l,a,n,i)=>i,di={show:!0,auto:!0,sorted:0,gaps:$i,alpha:1,facets:[Et({},fi,{scale:"x"}),Et({},fi,{scale:"y"})]},pi={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:$i,alpha:1,points:{show:Du,filter:null},values:null,min:Ke,max:-Ke,idxs:[],path:null,clip:null};function Ru(e,l,a,n,i){return a/10}const Xi={time:lo,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Pu=Et({},Xi,{time:!1,ori:1}),vi={};function er(e,l){let a=vi[e];return a||(a={key:e,plots:[],sub(n){a.plots.push(n)},unsub(n){a.plots=a.plots.filter(i=>i!=n)},pub(n,i,f,c,p,v,h){for(let k=0;k<a.plots.length;k++)a.plots[k]!=i&&a.plots[k].pub(n,i,f,c,p,v,h)}},e!=null&&(vi[e]=a)),a}const kn=1,Us=2;function sn(e,l,a){const n=e.mode,i=e.series[l],f=n==2?e._data[l]:e._data,c=e.scales,p=e.bbox;let v=f[0],h=n==2?f[1]:f[l],k=n==2?c[i.facets[0].scale]:c[e.series[0].scale],m=n==2?c[i.facets[1].scale]:c[i.scale],_=p.left,Y=p.top,T=p.width,V=p.height,se=e.valToPosH,oe=e.valToPosV;return k.ori==0?a(i,v,h,k,m,se,oe,_,Y,T,V,ds,En,vs,lr,sr):a(i,v,h,k,m,oe,se,Y,_,V,T,ps,Mn,oa,nr,ar)}function ia(e,l){let a=0,n=0,i=Ie(e.bands,ta);for(let f=0;f<i.length;f++){let c=i[f];c.series[0]==l?a=c.dir:c.series[1]==l&&(c.dir==1?n|=1:n|=2)}return[a,n==1?-1:n==2?1:n==3?2:0]}function Fu(e,l,a,n,i){let f=e.mode,c=e.series[l],p=f==2?c.facets[1].scale:c.scale,v=e.scales[p];return i==-1?v.min:i==1?v.max:v.distr==3?v.dir==1?v.min:v.max:0}function Bl(e,l,a,n,i,f){return sn(e,l,(c,p,v,h,k,m,_,Y,T,V,se)=>{let oe=c.pxRound;const y=h.dir*(h.ori==0?1:-1),$=h.ori==0?En:Mn;let C,R;y==1?(C=a,R=n):(C=n,R=a);let A=oe(m(p[C],h,V,Y)),ae=oe(_(v[C],k,se,T)),te=oe(m(p[R],h,V,Y)),j=oe(_(f==1?k.max:k.min,k,se,T)),re=new Path2D(i);return $(re,te,j),$(re,A,j),$(re,A,ae),re})}function fs(e,l,a,n,i,f){let c=null;if(e.length>0){c=new Path2D;const p=l==0?vs:oa;let v=a;for(let m=0;m<e.length;m++){let _=e[m];if(_[1]>_[0]){let Y=_[0]-v;Y>0&&p(c,v,n,Y,n+f),v=_[1]}}let h=a+i-v,k=10;h>0&&p(c,v,n-k/2,h,n+f+k)}return c}function Ou(e,l,a){let n=e[e.length-1];n&&n[0]==l?n[1]=a:e.push([l,a])}function ra(e,l,a,n,i,f,c){let p=[],v=e.length;for(let h=i==1?a:n;h>=a&&h<=n;h+=i)if(l[h]===null){let m=h,_=h;if(i==1)for(;++h<=n&&l[h]===null;)_=h;else for(;--h>=a&&l[h]===null;)_=h;let Y=f(e[m]),T=_==m?Y:f(e[_]),V=m-i;Y=c<=0&&V>=0&&V<v?f(e[V]):Y;let oe=_+i;T=c>=0&&oe>=0&&oe<v?f(e[oe]):T,T>=Y&&p.push([Y,T])}return p}function hi(e){return e==0?Di:e==1?Lt:l=>Xl(l,e)}function tr(e){let l=e==0?ds:ps,a=e==0?(i,f,c,p,v,h)=>{i.arcTo(f,c,p,v,h)}:(i,f,c,p,v,h)=>{i.arcTo(c,f,v,p,h)},n=e==0?(i,f,c,p,v)=>{i.rect(f,c,p,v)}:(i,f,c,p,v)=>{i.rect(c,f,v,p)};return(i,f,c,p,v,h=0,k=0)=>{h==0&&k==0?n(i,f,c,p,v):(h=El(h,p/2,v/2),k=El(k,p/2,v/2),l(i,f+h,c),a(i,f+p,c,f+p,c+v,h),a(i,f+p,c+v,f,c+v,k),a(i,f,c+v,f,c,k),a(i,f,c,f+p,c,h),i.closePath())}}const ds=(e,l,a)=>{e.moveTo(l,a)},ps=(e,l,a)=>{e.moveTo(a,l)},En=(e,l,a)=>{e.lineTo(l,a)},Mn=(e,l,a)=>{e.lineTo(a,l)},vs=tr(0),oa=tr(1),lr=(e,l,a,n,i,f)=>{e.arc(l,a,n,i,f)},nr=(e,l,a,n,i,f)=>{e.arc(a,l,n,i,f)},sr=(e,l,a,n,i,f,c)=>{e.bezierCurveTo(l,a,n,i,f,c)},ar=(e,l,a,n,i,f,c)=>{e.bezierCurveTo(a,l,i,n,c,f)};function ir(e){return(l,a,n,i,f)=>sn(l,a,(c,p,v,h,k,m,_,Y,T,V,se)=>{let{pxRound:oe,points:y}=c,$,C;h.ori==0?($=ds,C=lr):($=ps,C=nr);const R=Je(y.width*He,3);let A=(y.size-y.width)/2*He,ae=Je(A*2,3),te=new Path2D,j=new Path2D,{left:re,top:w,width:U,height:N}=l.bbox;vs(j,re-ae,w-ae,U+ae*2,N+ae*2);const le=F=>{if(v[F]!=null){let ee=oe(m(p[F],h,V,Y)),O=oe(_(v[F],k,se,T));$(te,ee+A,O),C(te,ee,O,A,0,es*2)}};if(f)f.forEach(le);else for(let F=n;F<=i;F++)le(F);return{stroke:R>0?te:null,fill:te,clip:j,flags:kn|Us}})}function rr(e){return(l,a,n,i,f,c)=>{n!=i&&(f!=n&&c!=n&&e(l,a,n),f!=i&&c!=i&&e(l,a,i),e(l,a,c))}}const Nu=rr(En),Gu=rr(Mn);function or(e){const l=Ie(e?.alignGaps,0);return(a,n,i,f)=>sn(a,n,(c,p,v,h,k,m,_,Y,T,V,se)=>{[i,f]=rs(v,i,f);let oe=c.pxRound,y=N=>oe(m(N,h,V,Y)),$=N=>oe(_(N,k,se,T)),C,R;h.ori==0?(C=En,R=Nu):(C=Mn,R=Gu);const A=h.dir*(h.ori==0?1:-1),ae={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:kn},te=ae.stroke;let j=!1;if(f-i>=V*4){let N=H=>a.posToVal(H,h.key,!0),le=null,F=null,ee,O,De,de=y(p[A==1?i:f]),pe=y(p[i]),be=y(p[f]),ue=N(A==1?pe+1:be-1);for(let H=A==1?i:f;H>=i&&H<=f;H+=A){let xe=p[H],Me=(A==1?xe<ue:xe>ue)?de:y(xe),Se=v[H];Me==de?Se!=null?(O=Se,le==null?(C(te,Me,$(O)),ee=le=F=O):O<le?le=O:O>F&&(F=O)):Se===null&&(j=!0):(le!=null&&R(te,de,$(le),$(F),$(ee),$(O)),Se!=null?(O=Se,C(te,Me,$(O)),le=F=ee=O):(le=F=null,Se===null&&(j=!0)),de=Me,ue=N(de+A))}le!=null&&le!=F&&De!=de&&R(te,de,$(le),$(F),$(ee),$(O))}else for(let N=A==1?i:f;N>=i&&N<=f;N+=A){let le=v[N];le===null?j=!0:le!=null&&C(te,y(p[N]),$(le))}let[w,U]=ia(a,n);if(c.fill!=null||w!=0){let N=ae.fill=new Path2D(te),le=c.fillTo(a,n,c.min,c.max,w),F=$(le),ee=y(p[i]),O=y(p[f]);A==-1&&([O,ee]=[ee,O]),C(N,O,F),C(N,ee,F)}if(!c.spanGaps){let N=[];j&&N.push(...ra(p,v,i,f,A,y,l)),ae.gaps=N=c.gaps(a,n,i,f,N),ae.clip=fs(N,h.ori,Y,T,V,se)}return U!=0&&(ae.band=U==2?[Bl(a,n,i,f,te,-1),Bl(a,n,i,f,te,1)]:Bl(a,n,i,f,te,U)),ae})}function zu(e){const l=Ie(e.align,1),a=Ie(e.ascDesc,!1),n=Ie(e.alignGaps,0),i=Ie(e.extend,!1);return(f,c,p,v)=>sn(f,c,(h,k,m,_,Y,T,V,se,oe,y,$)=>{[p,v]=rs(m,p,v);let C=h.pxRound,{left:R,width:A}=f.bbox,ae=pe=>C(T(pe,_,y,se)),te=pe=>C(V(pe,Y,$,oe)),j=_.ori==0?En:Mn;const re={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:kn},w=re.stroke,U=_.dir*(_.ori==0?1:-1);let N=te(m[U==1?p:v]),le=ae(k[U==1?p:v]),F=le,ee=le;i&&l==-1&&(ee=R,j(w,ee,N)),j(w,le,N);for(let pe=U==1?p:v;pe>=p&&pe<=v;pe+=U){let be=m[pe];if(be==null)continue;let ue=ae(k[pe]),H=te(be);l==1?j(w,ue,N):j(w,F,H),j(w,ue,H),N=H,F=ue}let O=F;i&&l==1&&(O=R+A,j(w,O,N));let[De,de]=ia(f,c);if(h.fill!=null||De!=0){let pe=re.fill=new Path2D(w),be=h.fillTo(f,c,h.min,h.max,De),ue=te(be);j(pe,O,ue),j(pe,ee,ue)}if(!h.spanGaps){let pe=[];pe.push(...ra(k,m,p,v,U,ae,n));let be=h.width*He/2,ue=a||l==1?be:-be,H=a||l==-1?-be:be;pe.forEach(xe=>{xe[0]+=ue,xe[1]+=H}),re.gaps=pe=h.gaps(f,c,p,v,pe),re.clip=fs(pe,_.ori,se,oe,y,$)}return de!=0&&(re.band=de==2?[Bl(f,c,p,v,w,-1),Bl(f,c,p,v,w,1)]:Bl(f,c,p,v,w,de)),re})}function gi(e,l,a,n,i,f,c=Ke){if(e.length>1){let p=null;for(let v=0,h=1/0;v<e.length;v++)if(l[v]!==void 0){if(p!=null){let k=Dt(e[v]-e[p]);k<h&&(h=k,c=Dt(a(e[v],n,i,f)-a(e[p],n,i,f)))}p=v}}return c}function Iu(e){e=e||Bn;const l=Ie(e.size,[.6,Ke,1]),a=e.align||0,n=e.gap||0;let i=e.radius;i=i==null?[0,0]:typeof i=="number"?[i,0]:i;const f=Le(i),c=1-l[0],p=Ie(l[1],Ke),v=Ie(l[2],1),h=Ie(e.disp,Bn),k=Ie(e.each,Y=>{}),{fill:m,stroke:_}=h;return(Y,T,V,se)=>sn(Y,T,(oe,y,$,C,R,A,ae,te,j,re,w)=>{let U=oe.pxRound,N=a,le=n*He,F=p*He,ee=v*He,O,De;C.ori==0?[O,De]=f(Y,T):[De,O]=f(Y,T);const de=C.dir*(C.ori==0?1:-1);let pe=C.ori==0?vs:oa,be=C.ori==0?k:(W,Fe,Qe,qt,It,_t,Pt)=>{k(W,Fe,Qe,It,qt,Pt,_t)},ue=Ie(Y.bands,ta).find(W=>W.series[0]==T),H=ue!=null?ue.dir:0,xe=oe.fillTo(Y,T,oe.min,oe.max,H),Oe=U(ae(xe,R,w,j)),Me,Se,ut,Xe=re,Re=U(oe.width*He),gt=!1,At=null,Ze=null,ct=null,mt=null;m!=null&&(Re==0||_!=null)&&(gt=!0,At=m.values(Y,T,V,se),Ze=new Map,new Set(At).forEach(W=>{W!=null&&Ze.set(W,new Path2D)}),Re>0&&(ct=_.values(Y,T,V,se),mt=new Map,new Set(ct).forEach(W=>{W!=null&&mt.set(W,new Path2D)})));let{x0:Te,size:xt}=h;if(Te!=null&&xt!=null){N=1,y=Te.values(Y,T,V,se),Te.unit==2&&(y=y.map(Qe=>Y.posToVal(te+Qe*re,C.key,!0)));let W=xt.values(Y,T,V,se);xt.unit==2?Se=W[0]*re:Se=A(W[0],C,re,te)-A(0,C,re,te),Xe=gi(y,$,A,C,re,te,Xe),ut=Xe-Se+le}else Xe=gi(y,$,A,C,re,te,Xe),ut=Xe*c+le,Se=Xe-ut;ut<1&&(ut=0),Re>=Se/2&&(Re=0),ut<5&&(U=Di);let zt=ut>0,ft=Xe-ut-(zt?Re:0);Se=U(Vs(ft,ee,F)),Me=(N==0?Se/2:N==de?0:Se)-N*de*((N==0?le/2:0)+(zt?Re/2:0));const Ue={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Wt=gt?null:new Path2D;let dt=null;if(ue!=null)dt=Y.data[ue.series[1]];else{let{y0:W,y1:Fe}=h;W!=null&&Fe!=null&&($=Fe.values(Y,T,V,se),dt=W.values(Y,T,V,se))}let Yt=O*Se,me=De*Se;for(let W=de==1?V:se;W>=V&&W<=se;W+=de){let Fe=$[W];if(Fe==null)continue;if(dt!=null){let je=dt[W]??0;if(Fe-je==0)continue;Oe=ae(je,R,w,j)}let Qe=C.distr!=2||h!=null?y[W]:W,qt=A(Qe,C,re,te),It=ae(Ie(Fe,xe),R,w,j),_t=U(qt-Me),Pt=U(Xt(It,Oe)),rt=U(El(It,Oe)),wt=Pt-rt;if(Fe!=null){let je=Fe<0?me:Yt,yt=Fe<0?Yt:me;gt?(Re>0&&ct[W]!=null&&pe(mt.get(ct[W]),_t,rt+cl(Re/2),Se,Xt(0,wt-Re),je,yt),At[W]!=null&&pe(Ze.get(At[W]),_t,rt+cl(Re/2),Se,Xt(0,wt-Re),je,yt)):pe(Wt,_t,rt+cl(Re/2),Se,Xt(0,wt-Re),je,yt),be(Y,T,W,_t-Re/2,rt,Se+Re,wt)}}return Re>0?Ue.stroke=gt?mt:Wt:gt||(Ue._fill=oe.width==0?oe._fill:oe._stroke??oe._fill,Ue.width=0),Ue.fill=gt?Ze:Wt,Ue})}function Bu(e,l){const a=Ie(l?.alignGaps,0);return(n,i,f,c)=>sn(n,i,(p,v,h,k,m,_,Y,T,V,se,oe)=>{[f,c]=rs(h,f,c);let y=p.pxRound,$=O=>y(_(O,k,se,T)),C=O=>y(Y(O,m,oe,V)),R,A,ae;k.ori==0?(R=ds,ae=En,A=sr):(R=ps,ae=Mn,A=ar);const te=k.dir*(k.ori==0?1:-1);let j=$(v[te==1?f:c]),re=j,w=[],U=[];for(let O=te==1?f:c;O>=f&&O<=c;O+=te)if(h[O]!=null){let de=v[O],pe=$(de);w.push(re=pe),U.push(C(h[O]))}const N={stroke:e(w,U,R,ae,A,y),fill:null,clip:null,band:null,gaps:null,flags:kn},le=N.stroke;let[F,ee]=ia(n,i);if(p.fill!=null||F!=0){let O=N.fill=new Path2D(le),De=p.fillTo(n,i,p.min,p.max,F),de=C(De);ae(O,re,de),ae(O,j,de)}if(!p.spanGaps){let O=[];O.push(...ra(v,h,f,c,te,$,a)),N.gaps=O=p.gaps(n,i,f,c,O),N.clip=fs(O,k.ori,T,V,se,oe)}return ee!=0&&(N.band=ee==2?[Bl(n,i,f,c,le,-1),Bl(n,i,f,c,le,1)]:Bl(n,i,f,c,le,ee)),N})}function Vu(e){return Bu(Hu,e)}function Hu(e,l,a,n,i,f){const c=e.length;if(c<2)return null;const p=new Path2D;if(a(p,e[0],l[0]),c==2)n(p,e[1],l[1]);else{let v=Array(c),h=Array(c-1),k=Array(c-1),m=Array(c-1);for(let _=0;_<c-1;_++)k[_]=l[_+1]-l[_],m[_]=e[_+1]-e[_],h[_]=k[_]/m[_];v[0]=h[0];for(let _=1;_<c-1;_++)h[_]===0||h[_-1]===0||h[_-1]>0!=h[_]>0?v[_]=0:(v[_]=3*(m[_-1]+m[_])/((2*m[_]+m[_-1])/h[_-1]+(m[_]+2*m[_-1])/h[_]),isFinite(v[_])||(v[_]=0));v[c-1]=h[c-2];for(let _=0;_<c-1;_++)i(p,e[_]+m[_]/3,l[_]+v[_]*m[_]/3,e[_+1]-m[_]/3,l[_+1]-v[_+1]*m[_]/3,e[_+1],l[_+1])}return p}const Ys=new Set;function mi(){for(let e of Ys)e.syncRect(!0)}Tn&&(ln(yo,wn,mi),ln(So,wn,mi,!0),ln(ts,wn,()=>{Mt.pxRatio=He}));const Wu=or(),Uu=ir();function _i(e,l,a,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((f,c)=>qs(f,c,l,a))}function Yu(e,l){return e.map((a,n)=>n==0?{}:Et({},l,a))}function qs(e,l,a,n){return Et({},l==0?a:n,e)}function ur(e,l,a){return l==null?yn:[l,a]}const qu=ur;function ju(e,l,a){return l==null?yn:ls(l,a,Xs,!0)}function cr(e,l,a,n){return l==null?yn:os(l,a,e.scales[n].log,!1)}const Ku=cr;function fr(e,l,a,n){return l==null?yn:$s(l,a,e.scales[n].log,!1)}const Ju=fr;function Zu(e,l,a,n,i){let f=Xt(Za(e),Za(l)),c=l-e,p=Tl(i/n*c,a);do{let v=a[p],h=n*v/c;if(h>=i&&f+(v<5?jl.get(v):0)<=17)return[v,h]}while(++p<a.length);return[0,0]}function wi(e){let l,a;return e=e.replace(/(\d+)px/,(n,i)=>(l=Lt((a=+i)*He))+"px"),[e,l,a]}function Qu(e){e.show&&[e.font,e.labelFont].forEach(l=>{let a=Je(l[2]*He,1);l[0]=l[0].replace(/[0-9.]+px/,a+"px"),l[1]=a})}function Mt(e,l,a){const n={mode:Ie(e.mode,1)},i=n.mode;function f(t,s,r,o){let d=s.valToPct(t);return o+r*(s.dir==-1?1-d:d)}function c(t,s,r,o){let d=s.valToPct(t);return o+r*(s.dir==-1?d:1-d)}function p(t,s,r,o){return s.ori==0?f(t,s,r,o):c(t,s,r,o)}n.valToPosH=f,n.valToPosV=c;let v=!1;n.status=0;const h=n.root=ml(no);if(e.id!=null&&(h.id=e.id),ul(h,e.class),e.title){let t=ml(io,h);t.textContent=e.title}const k=kl("canvas"),m=n.ctx=k.getContext("2d"),_=ml(ro,h);ln("click",_,t=>{t.target===T&&(tt!=cn||it!=fn)&&Ht.click(n,t)},!0);const Y=n.under=ml(oo,_);_.appendChild(k);const T=n.over=ml(uo,_);e=Sn(e);const V=+Ie(e.pxAlign,1),se=hi(V);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(n,e)||e)});const oe=e.ms||.001,y=n.series=i==1?_i(e.series||[],oi,pi,!1):Yu(e.series||[null],di),$=n.axes=_i(e.axes||[],ri,ci,!0),C=n.scales={},R=n.bands=e.bands||[];R.forEach(t=>{t.fill=Le(t.fill||null),t.dir=Ie(t.dir,-1)});const A=i==2?y[1].facets[0].scale:y[0].scale,ae={axes:wr,series:vr},te=(e.drawOrder||["axes","series"]).map(t=>ae[t]);function j(t){const s=t.distr==3?r=>Il(r>0?r:t.clamp(n,r,t.min,t.max,t.key)):t.distr==4?r=>Ps(r,t.asinh):t.distr==100?r=>t.fwd(r):r=>r;return r=>{let o=s(r),{_min:d,_max:g}=t,b=g-d;return(o-d)/b}}function re(t){let s=C[t];if(s==null){let r=(e.scales||Bn)[t]||Bn;if(r.from!=null){re(r.from);let o=Et({},C[r.from],r,{key:t});o.valToPct=j(o),C[t]=o}else{s=C[t]=Et({},t==A?Xi:Pu,r),s.key=t;let o=s.time,d=s.range,g=Yl(d);if((t!=A||i==2&&!o)&&(g&&(d[0]==null||d[1]==null)&&(d={min:d[0]==null?ja:{mode:1,hard:d[0],soft:d[0]},max:d[1]==null?ja:{mode:1,hard:d[1],soft:d[1]}},g=!1),!g&&cs(d))){let b=d;d=(M,D,Q)=>D==null?yn:ls(D,Q,b)}s.range=Le(d||(o?qu:t==A?s.distr==3?Ku:s.distr==4?Ju:ur:s.distr==3?cr:s.distr==4?fr:ju)),s.auto=Le(g?!1:s.auto),s.clamp=Le(s.clamp||Ru),s._min=s._max=null,s.valToPct=j(s)}}}re("x"),re("y"),i==1&&y.forEach(t=>{re(t.scale)}),$.forEach(t=>{re(t.scale)});for(let t in e.scales)re(t);const w=C[A],U=w.distr;let N,le;w.ori==0?(ul(h,so),N=f,le=c):(ul(h,ao),N=c,le=f);const F={};for(let t in C){let s=C[t];(s.min!=null||s.max!=null)&&(F[t]={min:s.min,max:s.max},s.min=s.max=null)}const ee=e.tzDate||(t=>new Date(Lt(t/oe))),O=e.fmtDate||la,De=oe==1?au(ee):ou(ee),de=si(ee,ni(oe==1?su:ru,O)),pe=ii(ee,ai(cu,O)),be=[],ue=n.legend=Et({},pu,e.legend),H=n.cursor=Et({},wu,{drag:{y:i==2}},e.cursor),xe=ue.show,Oe=H.show,Me=ue.markers;ue.idxs=be,Me.width=Le(Me.width),Me.dash=Le(Me.dash),Me.stroke=Le(Me.stroke),Me.fill=Le(Me.fill);let Se,ut,Xe,Re=[],gt=[],At,Ze=!1,ct={};if(ue.live){const t=y[1]?y[1].values:null;Ze=t!=null,At=Ze?t(n,1,0):{_:0};for(let s in At)ct[s]=Zs}if(xe)if(Se=kl("table",go,h),Xe=kl("tbody",null,Se),ue.mount(n,Se),Ze){ut=kl("thead",null,Se,Xe);let t=kl("tr",null,ut);kl("th",null,t);for(var mt in At)kl("th",Fa,t).textContent=mt}else ul(Se,_o),ue.live&&ul(Se,mo);const Te={show:!0},xt={show:!1};function zt(t,s){if(s==0&&(Ze||!ue.live||i==2))return yn;let r=[],o=kl("tr",wo,Xe,Xe.childNodes[s]);ul(o,t.class),t.show||ul(o,tn);let d=kl("th",null,o);if(Me.show){let M=ml(bo,d);if(s>0){let D=Me.width(n,s);D&&(M.style.border=D+"px "+Me.dash(n,s)+" "+Me.stroke(n,s)),M.style.background=Me.fill(n,s)}}let g=ml(Fa,d);t.label instanceof HTMLElement?g.appendChild(t.label):g.textContent=t.label,s>0&&(Me.show||(g.style.color=t.width>0?Me.stroke(n,s):Me.fill(n,s)),Ue("click",d,M=>{if(H._lock)return;Kt(M);let D=y.indexOf(t);if((M.ctrlKey||M.metaKey)!=ue.isolate){let Q=y.some((X,ne)=>ne>0&&ne!=D&&X.show);y.forEach((X,ne)=>{ne>0&&Cl(ne,Q?ne==D?Te:xt:Te,!0,Tt.setSeries)})}else Cl(D,{show:!t.show},!0,Tt.setSeries)},!1),z&&Ue(za,d,M=>{H._lock||(Kt(M),Cl(y.indexOf(t),pn,!0,Tt.setSeries))},!1));for(var b in At){let M=kl("td",xo,o);M.textContent="--",r.push(M)}return[o,r]}const ft=new Map;function Ue(t,s,r,o=!0){const d=ft.get(s)||{},g=H.bind[t](n,s,r,o);g&&(ln(t,s,d[t]=g),ft.set(s,d))}function Wt(t,s,r){const o=ft.get(s)||{};for(let d in o)(t==null||d==t)&&(Bs(d,s,o[d]),delete o[d]);t==null&&ft.delete(s)}let dt=0,Yt=0,me=0,W=0,Fe=0,Qe=0,qt=Fe,It=Qe,_t=me,Pt=W,rt=0,wt=0,je=0,yt=0;n.bbox={};let dl=!1,al=!1,el=!1,Ct=!1,wl=!1,bt=!1;function tl(t,s,r){(r||t!=n.width||s!=n.height)&&Ml(t,s),an(!1),el=!0,al=!0,rn()}function Ml(t,s){n.width=dt=me=t,n.height=Yt=W=s,Fe=Qe=0,Jl(),Al();let r=n.bbox;rt=r.left=Xl(Fe*He,.5),wt=r.top=Xl(Qe*He,.5),je=r.width=Xl(me*He,.5),yt=r.height=Xl(W*He,.5)}const Kl=3;function jt(){let t=!1,s=0;for(;!t;){s++;let r=mr(s),o=_r(s);t=s==Kl||r&&o,t||(Ml(n.width,n.height),al=!0)}}function bl({width:t,height:s}){tl(t,s)}n.setSize=bl;function Jl(){let t=!1,s=!1,r=!1,o=!1;$.forEach((d,g)=>{if(d.show&&d._show){let{side:b,_size:M}=d,D=b%2,Q=d.label!=null?d.labelSize:0,X=M+Q;X>0&&(D?(me-=X,b==3?(Fe+=X,o=!0):r=!0):(W-=X,b==0?(Qe+=X,t=!0):s=!0))}}),Z[0]=t,Z[1]=r,Z[2]=s,Z[3]=o,me-=B[1]+B[3],Fe+=B[3],W-=B[2]+B[0],Qe+=B[0]}function Al(){let t=Fe+me,s=Qe+W,r=Fe,o=Qe;function d(g,b){switch(g){case 1:return t+=b,t-b;case 2:return s+=b,s-b;case 3:return r-=b,r+b;case 0:return o-=b,o+b}}$.forEach((g,b)=>{if(g.show&&g._show){let M=g.side;g._pos=d(M,g._size),g.label!=null&&(g._lpos=d(M,g.labelSize))}})}if(H.dataIdx==null){let t=H.hover,s=t.skip=new Set(t.skip??[]);s.add(void 0);let r=t.prox=Le(t.prox),o=t.bias??=0;H.dataIdx=(d,g,b,M)=>{if(g==0)return b;let D=b,Q=r(d,g,b,M)??Ke,X=Q>=0&&Q<Ke,ne=w.ori==0?me:W,_e=H.left,Ve=l[0],ze=l[g];if(s.has(ze[b])){D=null;let Ae=null,he=null,ce;if(o==0||o==-1)for(ce=b;Ae==null&&ce-- >0;)s.has(ze[ce])||(Ae=ce);if(o==0||o==1)for(ce=b;he==null&&ce++<ze.length;)s.has(ze[ce])||(he=ce);if(Ae!=null||he!=null)if(X){let nt=Ae==null?-1/0:N(Ve[Ae],w,ne,0),vt=he==null?1/0:N(Ve[he],w,ne,0),Gt=_e-nt,qe=vt-_e;Gt<=qe?Gt<=Q&&(D=Ae):qe<=Q&&(D=he)}else D=he==null?Ae:Ae==null?he:b-Ae<=he-b?Ae:he}else X&&Dt(_e-N(Ve[b],w,ne,0))>Q&&(D=null);return D}}const Kt=t=>{H.event=t};H.idxs=be,H._lock=!1;let et=H.points;et.show=Le(et.show),et.size=Le(et.size),et.stroke=Le(et.stroke),et.width=Le(et.width),et.fill=Le(et.fill);const Bt=n.focus=Et({},e.focus||{alpha:.3},H.focus),z=Bt.prox>=0,K=z&&et.one;let q=[],ge=[],Ne=[];function St(t,s){let r=et.show(n,s);if(r instanceof HTMLElement)return ul(r,ho),ul(r,t.class),Pl(r,-10,-10,me,W),T.insertBefore(r,q[s]),r}function E(t,s){if(i==1||s>0){let r=i==1&&C[t.scale].time,o=t.value;t.value=r?Xa(o)?ii(ee,ai(o,O)):o||pe:o||Cu,t.label=t.label||(r?xu:bu)}if(K||s>0){t.width=t.width==null?1:t.width,t.paths=t.paths||Wu||Po,t.fillTo=Le(t.fillTo||Fu),t.pxAlign=+Ie(t.pxAlign,V),t.pxRound=hi(t.pxAlign),t.stroke=Le(t.stroke||null),t.fill=Le(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=Lu(Xt(1,t.width),1),o=t.points=Et({},{size:r,width:Xt(1,r*.2),stroke:t.stroke,space:r*2,paths:Uu,_stroke:null,_fill:null},t.points);o.show=Le(o.show),o.filter=Le(o.filter),o.fill=Le(o.fill),o.stroke=Le(o.stroke),o.paths=Le(o.paths),o.pxAlign=t.pxAlign}if(xe){let r=zt(t,s);Re.splice(s,0,r[0]),gt.splice(s,0,r[1]),ue.values.push(null)}if(Oe){be.splice(s,0,null);let r=null;K?s==0&&(r=St(t,s)):s>0&&(r=St(t,s)),q.splice(s,0,r),ge.splice(s,0,0),Ne.splice(s,0,0)}Nt("addSeries",s)}function L(t,s){s=s??y.length,t=i==1?qs(t,s,oi,pi):qs(t,s,{},di),y.splice(s,0,t),E(y[s],s)}n.addSeries=L;function J(t){if(y.splice(t,1),xe){ue.values.splice(t,1),gt.splice(t,1);let s=Re.splice(t,1)[0];Wt(null,s.firstChild),s.remove()}Oe&&(be.splice(t,1),q.splice(t,1)[0].remove(),ge.splice(t,1),Ne.splice(t,1)),Nt("delSeries",t)}n.delSeries=J;const Z=[!1,!1,!1,!1];function fe(t,s){if(t._show=t.show,t.show){let r=t.side%2,o=C[t.scale];o==null&&(t.scale=r?y[1].scale:A,o=C[t.scale]);let d=o.time;t.size=Le(t.size),t.space=Le(t.space),t.rotate=Le(t.rotate),Yl(t.incrs)&&t.incrs.forEach(b=>{!jl.has(b)&&jl.set(b,Fi(b))}),t.incrs=Le(t.incrs||(o.distr==2?tu:d?oe==1?nu:iu:en)),t.splits=Le(t.splits||(d&&o.distr==1?De:o.distr==3?Hs:o.distr==4?ku:Su)),t.stroke=Le(t.stroke),t.grid.stroke=Le(t.grid.stroke),t.ticks.stroke=Le(t.ticks.stroke),t.border.stroke=Le(t.border.stroke);let g=t.values;t.values=Yl(g)&&!Yl(g[0])?Le(g):d?Yl(g)?si(ee,ni(g,O)):Xa(g)?uu(ee,g):g||de:g||yu,t.filter=Le(t.filter||(o.distr>=3&&o.log==10?Mu:o.distr==3&&o.log==2?Au:Ri)),t.font=wi(t.font),t.labelFont=wi(t.labelFont),t._size=t.size(n,null,s,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(Z[s]=!0,t._el=ml(co,_))}}function I(t,s,r,o){let[d,g,b,M]=r,D=s%2,Q=0;return D==0&&(M||g)&&(Q=s==0&&!d||s==2&&!b?Lt(ri.size/3):0),D==1&&(d||b)&&(Q=s==1&&!g||s==3&&!M?Lt(ci.size/2):0),Q}const P=n.padding=(e.padding||[I,I,I,I]).map(t=>Le(Ie(t,I))),B=n._padding=P.map((t,s)=>t(n,s,Z,0));let ve,ke=null,Ce=null;const kt=i==1?y[0].idxs:null;let pt=null,Vt=!1;function pl(t,s){if(l=t??[],n.data=n._data=l,i==2){ve=0;for(let r=1;r<y.length;r++)ve+=l[r][0].length}else{l.length==0&&(n.data=n._data=l=[[]]),pt=l[0],ve=pt.length;let r=l;if(U==2){r=l.slice();let o=r[0]=Array(ve);for(let d=0;d<ve;d++)o[d]=d}n._data=l=r}if(an(!0),Nt("setData"),U==2&&(el=!0),s!==!1){let r=w;r.auto(n,Vt)?ll():Hl(A,r.min,r.max),Ct=Ct||H.left>=0,bt=!0,rn()}}n.setData=pl;function ll(){Vt=!0;let t,s;i==1&&(ve>0?(ke=kt[0]=0,Ce=kt[1]=ve-1,t=l[0][ke],s=l[0][Ce],U==2?(t=ke,s=Ce):t==s&&(U==3?[t,s]=os(t,t,w.log,!1):U==4?[t,s]=$s(t,t,w.log,!1):w.time?s=t+Lt(86400/oe):[t,s]=ls(t,s,Xs,!0))):(ke=kt[0]=t=null,Ce=kt[1]=s=null)),Hl(A,t,s)}let vl,Ye,Be,ot,Jt,xl,Ut,hs,gs,nl;function ua(t,s,r,o,d,g){t??=Na,r??=ta,o??="butt",d??=Na,g??="round",t!=vl&&(m.strokeStyle=vl=t),d!=Ye&&(m.fillStyle=Ye=d),s!=Be&&(m.lineWidth=Be=s),g!=Jt&&(m.lineJoin=Jt=g),o!=xl&&(m.lineCap=xl=o),r!=ot&&m.setLineDash(ot=r)}function ca(t,s,r,o){s!=Ye&&(m.fillStyle=Ye=s),t!=Ut&&(m.font=Ut=t),r!=hs&&(m.textAlign=hs=r),o!=gs&&(m.textBaseline=gs=o)}function ms(t,s,r,o,d=0){if(o.length>0&&t.auto(n,Vt)&&(s==null||s.min==null)){let g=Ie(ke,0),b=Ie(Ce,o.length-1),M=r.min==null?Mo(o,g,b,d,t.distr==3):[r.min,r.max];t.min=El(t.min,r.min=M[0]),t.max=Xt(t.max,r.max=M[1])}}const fa={min:null,max:null};function dr(){for(let o in C){let d=C[o];F[o]==null&&(d.min==null||F[A]!=null&&d.auto(n,Vt))&&(F[o]=fa)}for(let o in C){let d=C[o];F[o]==null&&d.from!=null&&F[d.from]!=null&&(F[o]=fa)}F[A]!=null&&an(!0);let t={};for(let o in F){let d=F[o];if(d!=null){let g=t[o]=Sn(C[o],No);if(d.min!=null)Et(g,d);else if(o!=A||i==2)if(ve==0&&g.from==null){let b=g.range(n,null,null,o);g.min=b[0],g.max=b[1]}else g.min=Ke,g.max=-Ke}}if(ve>0){y.forEach((o,d)=>{if(i==1){let g=o.scale,b=F[g];if(b==null)return;let M=t[g];if(d==0){let D=M.range(n,M.min,M.max,g);M.min=D[0],M.max=D[1],ke=Tl(M.min,l[0]),Ce=Tl(M.max,l[0]),Ce-ke>1&&(l[0][ke]<M.min&&ke++,l[0][Ce]>M.max&&Ce--),o.min=pt[ke],o.max=pt[Ce]}else o.show&&o.auto&&ms(M,b,o,l[d],o.sorted);o.idxs[0]=ke,o.idxs[1]=Ce}else if(d>0&&o.show&&o.auto){let[g,b]=o.facets,M=g.scale,D=b.scale,[Q,X]=l[d],ne=t[M],_e=t[D];ne!=null&&ms(ne,F[M],g,Q,g.sorted),_e!=null&&ms(_e,F[D],b,X,b.sorted),o.min=b.min,o.max=b.max}});for(let o in t){let d=t[o],g=F[o];if(d.from==null&&(g==null||g.min==null)){let b=d.range(n,d.min==Ke?null:d.min,d.max==-Ke?null:d.max,o);d.min=b[0],d.max=b[1]}}}for(let o in t){let d=t[o];if(d.from!=null){let g=t[d.from];if(g.min==null)d.min=d.max=null;else{let b=d.range(n,g.min,g.max,o);d.min=b[0],d.max=b[1]}}}let s={},r=!1;for(let o in t){let d=t[o],g=C[o];if(g.min!=d.min||g.max!=d.max){g.min=d.min,g.max=d.max;let b=g.distr;g._min=b==3?Il(g.min):b==4?Ps(g.min,g.asinh):b==100?g.fwd(g.min):g.min,g._max=b==3?Il(g.max):b==4?Ps(g.max,g.asinh):b==100?g.fwd(g.max):g.max,s[o]=r=!0}}if(r){y.forEach((o,d)=>{i==2?d>0&&s.y&&(o._paths=null):s[o.scale]&&(o._paths=null)});for(let o in s)el=!0,Nt("setScale",o);Oe&&H.left>=0&&(Ct=bt=!0)}for(let o in F)F[o]=null}function pr(t){let s=Vs(ke-1,0,ve-1),r=Vs(Ce+1,0,ve-1);for(;t[s]==null&&s>0;)s--;for(;t[r]==null&&r<ve-1;)r++;return[s,r]}function vr(){if(ve>0){let t=y.some(s=>s._focus)&&nl!=Bt.alpha;t&&(m.globalAlpha=nl=Bt.alpha),y.forEach((s,r)=>{if(r>0&&s.show&&(da(r,!1),da(r,!0),s._paths==null)){let o=nl;nl!=s.alpha&&(m.globalAlpha=nl=s.alpha);let d=i==2?[0,l[r][0].length-1]:pr(l[r]);s._paths=s.paths(n,r,d[0],d[1]),nl!=o&&(m.globalAlpha=nl=o)}}),y.forEach((s,r)=>{if(r>0&&s.show){let o=nl;nl!=s.alpha&&(m.globalAlpha=nl=s.alpha),s._paths!=null&&pa(r,!1);{let d=s._paths!=null?s._paths.gaps:null,g=s.points.show(n,r,ke,Ce,d),b=s.points.filter(n,r,g,d);(g||b)&&(s.points._paths=s.points.paths(n,r,ke,Ce,b),pa(r,!0))}nl!=o&&(m.globalAlpha=nl=o),Nt("drawSeries",r)}}),t&&(m.globalAlpha=nl=1)}}function da(t,s){let r=s?y[t].points:y[t];r._stroke=r.stroke(n,t),r._fill=r.fill(n,t)}function pa(t,s){let r=s?y[t].points:y[t],{stroke:o,fill:d,clip:g,flags:b,_stroke:M=r._stroke,_fill:D=r._fill,_width:Q=r.width}=r._paths;Q=Je(Q*He,3);let X=null,ne=Q%2/2;s&&D==null&&(D=Q>0?"#fff":M);let _e=r.pxAlign==1&&ne>0;if(_e&&m.translate(ne,ne),!s){let Ve=rt-Q/2,ze=wt-Q/2,Ae=je+Q,he=yt+Q;X=new Path2D,X.rect(Ve,ze,Ae,he)}s?_s(M,Q,r.dash,r.cap,D,o,d,b,g):hr(t,M,Q,r.dash,r.cap,D,o,d,b,X,g),_e&&m.translate(-ne,-ne)}function hr(t,s,r,o,d,g,b,M,D,Q,X){let ne=!1;D!=0&&R.forEach((_e,Ve)=>{if(_e.series[0]==t){let ze=y[_e.series[1]],Ae=l[_e.series[1]],he=(ze._paths||Bn).band;Yl(he)&&(he=_e.dir==1?he[0]:he[1]);let ce,nt=null;ze.show&&he&&Co(Ae,ke,Ce)?(nt=_e.fill(n,Ve)||g,ce=ze._paths.clip):he=null,_s(s,r,o,d,nt,b,M,D,Q,X,ce,he),ne=!0}}),ne||_s(s,r,o,d,g,b,M,D,Q,X)}const va=kn|Us;function _s(t,s,r,o,d,g,b,M,D,Q,X,ne){ua(t,s,r,o,d),(D||Q||ne)&&(m.save(),D&&m.clip(D),Q&&m.clip(Q)),ne?(M&va)==va?(m.clip(ne),X&&m.clip(X),Yn(d,b),Un(t,g,s)):M&Us?(Yn(d,b),m.clip(ne),Un(t,g,s)):M&kn&&(m.save(),m.clip(ne),X&&m.clip(X),Yn(d,b),m.restore(),Un(t,g,s)):(Yn(d,b),Un(t,g,s)),(D||Q||ne)&&m.restore()}function Un(t,s,r){r>0&&(s instanceof Map?s.forEach((o,d)=>{m.strokeStyle=vl=d,m.stroke(o)}):s!=null&&t&&m.stroke(s))}function Yn(t,s){s instanceof Map?s.forEach((r,o)=>{m.fillStyle=Ye=o,m.fill(r)}):s!=null&&t&&m.fill(s)}function gr(t,s,r,o){let d=$[t],g;if(o<=0)g=[0,0];else{let b=d._space=d.space(n,t,s,r,o),M=d._incrs=d.incrs(n,t,s,r,o,b);g=Zu(s,r,M,o,b)}return d._found=g}function ws(t,s,r,o,d,g,b,M,D,Q){let X=b%2/2;V==1&&m.translate(X,X),ua(M,b,D,Q,M),m.beginPath();let ne,_e,Ve,ze,Ae=d+(o==0||o==3?-g:g);r==0?(_e=d,ze=Ae):(ne=d,Ve=Ae);for(let he=0;he<t.length;he++)s[he]!=null&&(r==0?ne=Ve=t[he]:_e=ze=t[he],m.moveTo(ne,_e),m.lineTo(Ve,ze));m.stroke(),V==1&&m.translate(-X,-X)}function mr(t){let s=!0;return $.forEach((r,o)=>{if(!r.show)return;let d=C[r.scale];if(d.min==null){r._show&&(s=!1,r._show=!1,an(!1));return}else r._show||(s=!1,r._show=!0,an(!1));let g=r.side,b=g%2,{min:M,max:D}=d,[Q,X]=gr(o,M,D,b==0?me:W);if(X==0)return;let ne=d.distr==2,_e=r._splits=r.splits(n,o,M,D,Q,X,ne),Ve=d.distr==2?_e.map(ce=>pt[ce]):_e,ze=d.distr==2?pt[_e[1]]-pt[_e[0]]:Q,Ae=r._values=r.values(n,r.filter(n,Ve,o,X,ze),o,X,ze);r._rotate=g==2?r.rotate(n,Ae,o,X):0;let he=r._size;r._size=_l(r.size(n,Ae,o,t)),he!=null&&r._size!=he&&(s=!1)}),s}function _r(t){let s=!0;return P.forEach((r,o)=>{let d=r(n,o,Z,t);d!=B[o]&&(s=!1),B[o]=d}),s}function wr(){for(let t=0;t<$.length;t++){let s=$[t];if(!s.show||!s._show)continue;let r=s.side,o=r%2,d,g,b=s.stroke(n,t),M=r==0||r==3?-1:1,[D,Q]=s._found;if(s.label!=null){let Qt=s.labelGap*M,ol=Lt((s._lpos+Qt)*He);ca(s.labelFont[0],b,"center",r==2?Fn:Oa),m.save(),o==1?(d=g=0,m.translate(ol,Lt(wt+yt/2)),m.rotate((r==3?-es:es)/2)):(d=Lt(rt+je/2),g=ol);let $l=Li(s.label)?s.label(n,t,D,Q):s.label;m.fillText($l,d,g),m.restore()}if(Q==0)continue;let X=C[s.scale],ne=o==0?je:yt,_e=o==0?rt:wt,Ve=s._splits,ze=X.distr==2?Ve.map(Qt=>pt[Qt]):Ve,Ae=X.distr==2?pt[Ve[1]]-pt[Ve[0]]:D,he=s.ticks,ce=s.border,nt=he.show?he.size:0,vt=Lt(nt*He),Gt=Lt((s.alignTo==2?s._size-nt-s.gap:s.gap)*He),qe=s._rotate*-es/180,ht=se(s._pos*He),il=(vt+Gt)*M,Zt=ht+il;g=o==0?Zt:0,d=o==1?Zt:0;let hl=s.font[0],yl=s.align==1?hn:s.align==2?Ls:qe>0?hn:qe<0?Ls:o==0?"center":r==3?Ls:hn,Dl=qe||o==1?"middle":r==2?Fn:Oa;ca(hl,b,yl,Dl);let rl=s.font[1]*s.lineGap,gl=Ve.map(Qt=>se(p(Qt,X,ne,_e))),Sl=s._values;for(let Qt=0;Qt<Sl.length;Qt++){let ol=Sl[Qt];if(ol!=null){o==0?d=gl[Qt]:g=gl[Qt],ol=""+ol;let $l=ol.indexOf(`
`)==-1?[ol]:ol.split(/\n/gm);for(let $t=0;$t<$l.length;$t++){let Pa=$l[$t];qe?(m.save(),m.translate(d,g+$t*rl),m.rotate(qe),m.fillText(Pa,0,0),m.restore()):m.fillText(Pa,d,g+$t*rl)}}}he.show&&ws(gl,he.filter(n,ze,t,Q,Ae),o,r,ht,vt,Je(he.width*He,3),he.stroke(n,t),he.dash,he.cap);let Rl=s.grid;Rl.show&&ws(gl,Rl.filter(n,ze,t,Q,Ae),o,o==0?2:1,o==0?wt:rt,o==0?yt:je,Je(Rl.width*He,3),Rl.stroke(n,t),Rl.dash,Rl.cap),ce.show&&ws([ht],[1],o==0?1:0,o==0?1:2,o==1?wt:rt,o==1?yt:je,Je(ce.width*He,3),ce.stroke(n,t),ce.dash,ce.cap)}Nt("drawAxes")}function an(t){y.forEach((s,r)=>{r>0&&(s._paths=null,t&&(i==1?(s.min=null,s.max=null):s.facets.forEach(o=>{o.min=null,o.max=null})))})}let qn=!1,bs=!1,An=[];function br(){bs=!1;for(let t=0;t<An.length;t++)Nt(...An[t]);An.length=0}function rn(){qn||(Wo(ha),qn=!0)}function xr(t,s=!1){qn=!0,bs=s,t(n),ha(),s&&An.length>0&&queueMicrotask(br)}n.batch=xr;function ha(){if(dl&&(dr(),dl=!1),el&&(jt(),el=!1),al){if(st(Y,hn,Fe),st(Y,Fn,Qe),st(Y,Nn,me),st(Y,Gn,W),st(T,hn,Fe),st(T,Fn,Qe),st(T,Nn,me),st(T,Gn,W),st(_,Nn,dt),st(_,Gn,Yt),k.width=Lt(dt*He),k.height=Lt(Yt*He),$.forEach(({_el:t,_show:s,_size:r,_pos:o,side:d})=>{if(t!=null)if(s){let g=d===3||d===0?r:0,b=d%2==1;st(t,b?"left":"top",o-g),st(t,b?"width":"height",r),st(t,b?"top":"left",b?Qe:Fe),st(t,b?"height":"width",b?W:me),Is(t,tn)}else ul(t,tn)}),vl=Ye=Be=Jt=xl=Ut=hs=gs=ot=null,nl=1,Dn(!0),Fe!=qt||Qe!=It||me!=_t||W!=Pt){an(!1);let t=me/_t,s=W/Pt;if(Oe&&!Ct&&H.left>=0){H.left*=t,H.top*=s,on&&Pl(on,Lt(H.left),0,me,W),un&&Pl(un,0,Lt(H.top),me,W);for(let r=0;r<q.length;r++){let o=q[r];o!=null&&(ge[r]*=t,Ne[r]*=s,Pl(o,_l(ge[r]),_l(Ne[r]),me,W))}}if(lt.show&&!wl&&lt.left>=0&&lt.width>0){lt.left*=t,lt.width*=t,lt.top*=s,lt.height*=s;for(let r in Es)st(dn,r,lt[r])}qt=Fe,It=Qe,_t=me,Pt=W}Nt("setSize"),al=!1}dt>0&&Yt>0&&(m.clearRect(0,0,k.width,k.height),Nt("drawClear"),te.forEach(t=>t()),Nt("draw")),lt.show&&wl&&(jn(lt),wl=!1),Oe&&Ct&&(Ql(null,!0,!1),Ct=!1),ue.show&&ue.live&&bt&&(ks(),bt=!1),v||(v=!0,n.status=1,Nt("ready")),Vt=!1,qn=!1}n.redraw=(t,s)=>{el=s||!1,t!==!1?Hl(A,w.min,w.max):rn()};function xs(t,s){let r=C[t];if(r.from==null){if(ve==0){let o=r.range(n,s.min,s.max,t);s.min=o[0],s.max=o[1]}if(s.min>s.max){let o=s.min;s.min=s.max,s.max=o}if(ve>1&&s.min!=null&&s.max!=null&&s.max-s.min<1e-16)return;t==A&&r.distr==2&&ve>0&&(s.min=Tl(s.min,l[0]),s.max=Tl(s.max,l[0]),s.min==s.max&&s.max++),F[t]=s,dl=!0,rn()}}n.setScale=xs;let ys,Ss,on,un,ga,ma,cn,fn,_a,wa,tt,it,Vl=!1;const Ht=H.drag;let Ft=Ht.x,Ot=Ht.y;Oe&&(H.x&&(ys=ml(po,T)),H.y&&(Ss=ml(vo,T)),w.ori==0?(on=ys,un=Ss):(on=Ss,un=ys),tt=H.left,it=H.top);const lt=n.select=Et({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),dn=lt.show?ml(fo,lt.over?T:Y):null;function jn(t,s){if(lt.show){for(let r in t)lt[r]=t[r],r in Es&&st(dn,r,t[r]);s!==!1&&Nt("setSelect")}}n.setSelect=jn;function yr(t){if(y[t].show)xe&&Is(Re[t],tn);else if(xe&&ul(Re[t],tn),Oe){let r=K?q[0]:q[t];r!=null&&Pl(r,-10,-10,me,W)}}function Hl(t,s,r){xs(t,{min:s,max:r})}function Cl(t,s,r,o){s.focus!=null&&Mr(t),s.show!=null&&y.forEach((d,g)=>{g>0&&(t==g||t==null)&&(d.show=s.show,yr(g),i==2?(Hl(d.facets[0].scale,null,null),Hl(d.facets[1].scale,null,null)):Hl(d.scale,null,null),rn())}),r!==!1&&Nt("setSeries",t,s),o&&Rn("setSeries",n,t,s)}n.setSeries=Cl;function Sr(t,s){Et(R[t],s)}function kr(t,s){t.fill=Le(t.fill||null),t.dir=Ie(t.dir,-1),s=s??R.length,R.splice(s,0,t)}function Tr(t){t==null?R.length=0:R.splice(t,1)}n.addBand=kr,n.setBand=Sr,n.delBand=Tr;function Er(t,s){y[t].alpha=s,Oe&&q[t]!=null&&(q[t].style.opacity=s),xe&&Re[t]&&(Re[t].style.opacity=s)}let Ol,Wl,Zl;const pn={focus:!0};function Mr(t){if(t!=Zl){let s=t==null,r=Bt.alpha!=1;y.forEach((o,d)=>{if(i==1||d>0){let g=s||d==0||d==t;o._focus=s?null:g,r&&Er(d,g?1:Bt.alpha)}}),Zl=t,r&&rn()}}xe&&z&&Ue(Ia,Se,t=>{H._lock||(Kt(t),Zl!=null&&Cl(null,pn,!0,Tt.setSeries))});function Ll(t,s,r){let o=C[s];r&&(t=t/He-(o.ori==1?Qe:Fe));let d=me;o.ori==1&&(d=W,t=d-t),o.dir==-1&&(t=d-t);let g=o._min,b=o._max,M=t/d,D=g+(b-g)*M,Q=o.distr;return Q==3?xn(10,D):Q==4?Do(D,o.asinh):Q==100?o.bwd(D):D}function Ar(t,s){let r=Ll(t,A,s);return Tl(r,l[0],ke,Ce)}n.valToIdx=t=>Tl(t,l[0]),n.posToIdx=Ar,n.posToVal=Ll,n.valToPos=(t,s,r)=>C[s].ori==0?f(t,C[s],r?je:me,r?rt:0):c(t,C[s],r?yt:W,r?wt:0),n.setCursor=(t,s,r)=>{tt=t.left,it=t.top,Ql(null,s,r)};function ba(t,s){st(dn,hn,lt.left=t),st(dn,Nn,lt.width=s)}function xa(t,s){st(dn,Fn,lt.top=t),st(dn,Gn,lt.height=s)}let Cn=w.ori==0?ba:xa,Ln=w.ori==1?ba:xa;function Cr(){if(xe&&ue.live)for(let t=i==2?1:0;t<y.length;t++){if(t==0&&Ze)continue;let s=ue.values[t],r=0;for(let o in s)gt[t][r++].firstChild.nodeValue=s[o]}}function ks(t,s){if(t!=null&&(t.idxs?t.idxs.forEach((r,o)=>{be[o]=r}):Oo(t.idx)||be.fill(t.idx),ue.idx=be[0]),xe&&ue.live){for(let r=0;r<y.length;r++)(r>0||i==1&&!Ze)&&Lr(r,be[r]);Cr()}bt=!1,s!==!1&&Nt("setLegend")}n.setLegend=ks;function Lr(t,s){let r=y[t],o=t==0&&U==2?pt:l[t],d;Ze?d=r.values(n,t,s)??ct:(d=r.value(n,s==null?null:o[s],t,s),d=d==null?ct:{_:d}),ue.values[t]=d}function Ql(t,s,r){_a=tt,wa=it,[tt,it]=H.move(n,tt,it),H.left=tt,H.top=it,Oe&&(on&&Pl(on,Lt(tt),0,me,W),un&&Pl(un,0,Lt(it),me,W));let o,d=ke>Ce;Ol=Ke,Wl=null;let g=w.ori==0?me:W,b=w.ori==1?me:W;if(tt<0||ve==0||d){o=H.idx=null;for(let M=0;M<y.length;M++){let D=q[M];D!=null&&Pl(D,-10,-10,me,W)}z&&Cl(null,pn,!0,t==null&&Tt.setSeries),ue.live&&(be.fill(o),bt=!0)}else{let M,D,Q;i==1&&(M=w.ori==0?tt:it,D=Ll(M,A),o=H.idx=Tl(D,l[0],ke,Ce),Q=N(l[0][o],w,g,0));let X=-10,ne=-10,_e=0,Ve=0,ze=!0,Ae="",he="";for(let ce=i==2?1:0;ce<y.length;ce++){let nt=y[ce],vt=be[ce],Gt=vt==null?null:i==1?l[ce][vt]:l[ce][1][vt],qe=H.dataIdx(n,ce,o,D),ht=qe==null?null:i==1?l[ce][qe]:l[ce][1][qe];if(bt=bt||ht!=Gt||qe!=vt,be[ce]=qe,ce>0&&nt.show){let il=qe==null?-10:qe==o?Q:N(i==1?l[0][qe]:l[ce][0][qe],w,g,0),Zt=ht==null?-10:le(ht,i==1?C[nt.scale]:C[nt.facets[1].scale],b,0);if(z&&ht!=null){let hl=w.ori==1?tt:it,yl=Dt(Bt.dist(n,ce,qe,Zt,hl));if(yl<Ol){let Dl=Bt.bias;if(Dl!=0){let rl=Ll(hl,nt.scale),gl=ht>=0?1:-1,Sl=rl>=0?1:-1;Sl==gl&&(Sl==1?Dl==1?ht>=rl:ht<=rl:Dl==1?ht<=rl:ht>=rl)&&(Ol=yl,Wl=ce)}else Ol=yl,Wl=ce}}if(bt||K){let hl,yl;w.ori==0?(hl=il,yl=Zt):(hl=Zt,yl=il);let Dl,rl,gl,Sl,Rl,Qt,ol=!0,$l=et.bbox;if($l!=null){ol=!1;let $t=$l(n,ce);gl=$t.left,Sl=$t.top,Dl=$t.width,rl=$t.height}else gl=hl,Sl=yl,Dl=rl=et.size(n,ce);if(Qt=et.fill(n,ce),Rl=et.stroke(n,ce),K)ce==Wl&&Ol<=Bt.prox&&(X=gl,ne=Sl,_e=Dl,Ve=rl,ze=ol,Ae=Qt,he=Rl);else{let $t=q[ce];$t!=null&&(ge[ce]=gl,Ne[ce]=Sl,qa($t,Dl,rl,ol),Ua($t,Qt,Rl),Pl($t,_l(gl),_l(Sl),me,W))}}}}if(K){let ce=Bt.prox,nt=Zl==null?Ol<=ce:Ol>ce||Wl!=Zl;if(bt||nt){let vt=q[0];vt!=null&&(ge[0]=X,Ne[0]=ne,qa(vt,_e,Ve,ze),Ua(vt,Ae,he),Pl(vt,_l(X),_l(ne),me,W))}}}if(lt.show&&Vl)if(t!=null){let[M,D]=Tt.scales,[Q,X]=Tt.match,[ne,_e]=t.cursor.sync.scales,Ve=t.cursor.drag;if(Ft=Ve._x,Ot=Ve._y,Ft||Ot){let{left:ze,top:Ae,width:he,height:ce}=t.select,nt=t.scales[ne].ori,vt=t.posToVal,Gt,qe,ht,il,Zt,hl=M!=null&&Q(M,ne),yl=D!=null&&X(D,_e);hl&&Ft?(nt==0?(Gt=ze,qe=he):(Gt=Ae,qe=ce),ht=C[M],il=N(vt(Gt,ne),ht,g,0),Zt=N(vt(Gt+qe,ne),ht,g,0),Cn(El(il,Zt),Dt(Zt-il))):Cn(0,g),yl&&Ot?(nt==1?(Gt=ze,qe=he):(Gt=Ae,qe=ce),ht=C[D],il=le(vt(Gt,_e),ht,b,0),Zt=le(vt(Gt+qe,_e),ht,b,0),Ln(El(il,Zt),Dt(Zt-il))):Ln(0,b)}else Ms()}else{let M=Dt(_a-ga),D=Dt(wa-ma);if(w.ori==1){let _e=M;M=D,D=_e}Ft=Ht.x&&M>=Ht.dist,Ot=Ht.y&&D>=Ht.dist;let Q=Ht.uni;Q!=null?Ft&&Ot&&(Ft=M>=Q,Ot=D>=Q,!Ft&&!Ot&&(D>M?Ot=!0:Ft=!0)):Ht.x&&Ht.y&&(Ft||Ot)&&(Ft=Ot=!0);let X,ne;Ft&&(w.ori==0?(X=cn,ne=tt):(X=fn,ne=it),Cn(El(X,ne),Dt(ne-X)),Ot||Ln(0,b)),Ot&&(w.ori==1?(X=cn,ne=tt):(X=fn,ne=it),Ln(El(X,ne),Dt(ne-X)),Ft||Cn(0,g)),!Ft&&!Ot&&(Cn(0,0),Ln(0,0))}if(Ht._x=Ft,Ht._y=Ot,t==null){if(r){if(Ra!=null){let[M,D]=Tt.scales;Tt.values[0]=M!=null?Ll(w.ori==0?tt:it,M):null,Tt.values[1]=D!=null?Ll(w.ori==1?tt:it,D):null}Rn(Ds,n,tt,it,me,W,o)}if(z){let M=r&&Tt.setSeries,D=Bt.prox;Zl==null?Ol<=D&&Cl(Wl,pn,!0,M):Ol>D?Cl(null,pn,!0,M):Wl!=Zl&&Cl(Wl,pn,!0,M)}}bt&&(ue.idx=o,ks()),s!==!1&&Nt("setCursor")}let Ul=null;Object.defineProperty(n,"rect",{get(){return Ul==null&&Dn(!1),Ul}});function Dn(t=!1){t?Ul=null:(Ul=T.getBoundingClientRect(),Nt("syncRect",Ul))}function ya(t,s,r,o,d,g,b){H._lock||Vl&&t!=null&&t.movementX==0&&t.movementY==0||(Ts(t,s,r,o,d,g,b,!1,t!=null),t!=null?Ql(null,!0,!0):Ql(s,!0,!1))}function Ts(t,s,r,o,d,g,b,M,D){if(Ul==null&&Dn(!1),Kt(t),t!=null)r=t.clientX-Ul.left,o=t.clientY-Ul.top;else{if(r<0||o<0){tt=-10,it=-10;return}let[Q,X]=Tt.scales,ne=s.cursor.sync,[_e,Ve]=ne.values,[ze,Ae]=ne.scales,[he,ce]=Tt.match,nt=s.axes[0].side%2==1,vt=w.ori==0?me:W,Gt=w.ori==1?me:W,qe=nt?g:d,ht=nt?d:g,il=nt?o:r,Zt=nt?r:o;if(ze!=null?r=he(Q,ze)?p(_e,C[Q],vt,0):-10:r=vt*(il/qe),Ae!=null?o=ce(X,Ae)?p(Ve,C[X],Gt,0):-10:o=Gt*(Zt/ht),w.ori==1){let hl=r;r=o,o=hl}}D&&(s==null||s.cursor.event.type==Ds)&&((r<=1||r>=me-1)&&(r=Xl(r,me)),(o<=1||o>=W-1)&&(o=Xl(o,W))),M?(ga=r,ma=o,[cn,fn]=H.move(n,r,o)):(tt=r,it=o)}const Es={width:0,height:0,left:0,top:0};function Ms(){jn(Es,!1)}let Sa,ka,Ta,Ea;function Ma(t,s,r,o,d,g,b){Vl=!0,Ft=Ot=Ht._x=Ht._y=!1,Ts(t,s,r,o,d,g,b,!0,!1),t!=null&&(Ue(Rs,Gs,Aa,!1),Rn(Ga,n,cn,fn,me,W,null));let{left:M,top:D,width:Q,height:X}=lt;Sa=M,ka=D,Ta=Q,Ea=X}function Aa(t,s,r,o,d,g,b){Vl=Ht._x=Ht._y=!1,Ts(t,s,r,o,d,g,b,!1,!0);let{left:M,top:D,width:Q,height:X}=lt,ne=Q>0||X>0,_e=Sa!=M||ka!=D||Ta!=Q||Ea!=X;if(ne&&_e&&jn(lt),Ht.setScale&&ne&&_e){let Ve=M,ze=Q,Ae=D,he=X;if(w.ori==1&&(Ve=D,ze=X,Ae=M,he=Q),Ft&&Hl(A,Ll(Ve,A),Ll(Ve+ze,A)),Ot)for(let ce in C){let nt=C[ce];ce!=A&&nt.from==null&&nt.min!=Ke&&Hl(ce,Ll(Ae+he,ce),Ll(Ae,ce))}Ms()}else H.lock&&(H._lock=!H._lock,Ql(s,!0,t!=null));t!=null&&(Wt(Rs,Gs),Rn(Rs,n,tt,it,me,W,null))}function Dr(t,s,r,o,d,g,b){if(H._lock)return;Kt(t);let M=Vl;if(Vl){let D=!0,Q=!0,X=10,ne,_e;w.ori==0?(ne=Ft,_e=Ot):(ne=Ot,_e=Ft),ne&&_e&&(D=tt<=X||tt>=me-X,Q=it<=X||it>=W-X),ne&&D&&(tt=tt<cn?0:me),_e&&Q&&(it=it<fn?0:W),Ql(null,!0,!0),Vl=!1}tt=-10,it=-10,be.fill(null),Ql(null,!0,!0),M&&(Vl=M)}function Ca(t,s,r,o,d,g,b){H._lock||(Kt(t),ll(),Ms(),t!=null&&Rn(Ba,n,tt,it,me,W,null))}function La(){$.forEach(Qu),tl(n.width,n.height,!0)}ln(ts,wn,La);const vn={};vn.mousedown=Ma,vn.mousemove=ya,vn.mouseup=Aa,vn.dblclick=Ca,vn.setSeries=(t,s,r,o)=>{let d=Tt.match[2];r=d(n,s,r),r!=-1&&Cl(r,o,!0,!1)},Oe&&(Ue(Ga,T,Ma),Ue(Ds,T,ya),Ue(za,T,t=>{Kt(t),Dn(!1)}),Ue(Ia,T,Dr),Ue(Ba,T,Ca),Ys.add(n),n.syncRect=Dn);const Kn=n.hooks=e.hooks||{};function Nt(t,s,r){bs?An.push([t,s,r]):t in Kn&&Kn[t].forEach(o=>{o.call(null,n,s,r)})}(e.plugins||[]).forEach(t=>{for(let s in t.hooks)Kn[s]=(Kn[s]||[]).concat(t.hooks[s])});const Da=(t,s,r)=>r,Tt=Et({key:null,setSeries:!1,filters:{pub:Qa,sub:Qa},scales:[A,y[1]?y[1].scale:null],match:[$a,$a,Da],values:[null,null]},H.sync);Tt.match.length==2&&Tt.match.push(Da),H.sync=Tt;const Ra=Tt.key,As=er(Ra);function Rn(t,s,r,o,d,g,b){Tt.filters.pub(t,s,r,o,d,g,b)&&As.pub(t,s,r,o,d,g,b)}As.sub(n);function Rr(t,s,r,o,d,g,b){Tt.filters.sub(t,s,r,o,d,g,b)&&vn[t](null,s,r,o,d,g,b)}n.pub=Rr;function Pr(){As.unsub(n),Ys.delete(n),ft.clear(),Bs(ts,wn,La),h.remove(),Se?.remove(),Nt("destroy")}n.destroy=Pr;function Cs(){Nt("init",e,l),pl(l||e.data,!1),F[A]?xs(A,F[A]):ll(),wl=lt.show&&(lt.width>0||lt.height>0),Ct=bt=!0,tl(e.width,e.height)}return y.forEach(E),$.forEach(fe),a?a instanceof HTMLElement?(a.appendChild(h),Cs()):a(n,Cs):Cs(),n}Mt.assign=Et;Mt.fmtNum=ea;Mt.rangeNum=ls;Mt.rangeLog=os;Mt.rangeAsinh=$s;Mt.orient=sn;Mt.pxRatio=He;Mt.join=Ho;Mt.fmtDate=la,Mt.tzDate=Xo;Mt.sync=er;{Mt.addGap=Ou,Mt.clipGaps=fs;let e=Mt.paths={points:ir};e.linear=or,e.stepped=zu,e.bars=Iu,e.spline=Vu}var $u=Ee('<input type="text" class="og-input svelte-3wi8ix" placeholder="1.050" maxlength="5"/>'),Xu=Ee('<span class="estimated-badge svelte-3wi8ix">est</span>'),ec=Ee('<button type="button" class="og-btn svelte-3wi8ix"><span> </span> <!> <svg class="edit-icon svelte-3wi8ix" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg></button>'),tc=Ee('<span class="estimated-badge svelte-3wi8ix">est</span>'),lc=Ee("<span> </span> <!>",1),nc=Ee('<div class="stat-pill prediction-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">ETA</span> <span class="stat-value prediction svelte-3wi8ix"> </span> <span class="prediction-badge svelte-3wi8ix">pred</span></div>'),sc=Ee('<div class="stats-panel svelte-3wi8ix"><div class="stats-grid svelte-3wi8ix"><div class="stats-column svelte-3wi8ix"><h4 class="stats-header svelte-3wi8ix"> </h4> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Current</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Start</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">High</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Low</span> <span class="stat-value svelte-3wi8ix"> </span></div></div> <div class="stats-column svelte-3wi8ix"><h4 class="stats-header svelte-3wi8ix">Temperature</h4> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Current</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Average</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">High</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div> <div class="stat-row svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Low</span> <span class="stat-value svelte-3wi8ix"> <span class="stat-unit svelte-3wi8ix"> </span></span></div></div></div> <div class="stats-bottom svelte-3wi8ix"><div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Rate</span> <span> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Duration</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">At SG</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill og-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">OG</span> <!></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">Atten.</span> <span class="stat-value svelte-3wi8ix"> </span></div> <div class="stat-pill svelte-3wi8ix"><span class="stat-label svelte-3wi8ix">ABV</span> <span class="stat-value svelte-3wi8ix"> </span></div> <!></div></div>'),ac=Ee('<div class="stats-empty svelte-3wi8ix"><span>Not enough data for statistics</span></div>');function ic(e,l){as(l,!0);const a=.5,n=1.2,i=0,f=100;function c(w,U){const N=[...w].sort((O,De)=>O-De),le=U/100*(N.length-1),F=Math.floor(le),ee=Math.ceil(le);return F===ee?N[F]:N[F]+(N[ee]-N[F])*(le-F)}let p=_n(l,"trend",3,null),v=Pe(!1),h=Pe(""),k=Pe(null),m=Ge(()=>Xn.config.temp_units==="C"),_=Ge(Ti),Y=Ge(Ks),T=Ge(()=>{if(l.readings.length===0)return null;const w=l.readings.filter(Te=>Te.status!=="invalid");if(w.length===0)return null;const U=[...w].sort((Te,xt)=>new Date(Te.timestamp).getTime()-new Date(xt.timestamp).getTime()),N=U[0],le=U[U.length-1],F=U.map(Te=>Te.sg_calibrated??Te.sg_raw).filter(Te=>Te!==null&&Te>=a&&Te<=n),ee=U.map(Te=>Te.temp_calibrated??Te.temp_raw).filter(Te=>Te!==null&&Te>=i&&Te<=f);if(F.length===0)return null;const O=F[F.length-1],De=F[0],de=c(F,95),pe=c(F,5),be=new Date(N.timestamp).getTime(),ue=new Date(le.timestamp).getTime(),xe=(ue-be)/(1e3*60*60*24),Oe=xe>0?(O-De)/xe:0;let Me=null,Se=null,ut=null,Xe=null;if(ee.length>0){const Te=ee[ee.length-1],xt=ee.reduce((Ue,Wt)=>Ue+Wt,0)/ee.length,zt=c(ee,95),ft=c(ee,5);Me=u(m)?Te:Te*9/5+32,Se=u(m)?xt:xt*9/5+32,ut=u(m)?zt:zt*9/5+32,Xe=u(m)?ft:ft*9/5+32}let Re=0;const gt=.001;for(let Te=F.length-2;Te>=0;Te--)if(Math.abs(F[Te]-O)>gt){const xt=new Date(U[Te+1].timestamp).getTime();Re=(ue-xt)/(1e3*60*60*24);break}let At=null,Ze=null;const ct=l.originalGravity??de,mt=l.originalGravity===null;return ct>1&&ct>O&&(At=(ct-O)/(ct-1)*100,Ze=(ct-O)*131.25),{currentSg:O,firstSg:De,highSg:de,lowSg:pe,currentTemp:Me,avgTemp:Se,highTemp:ut,lowTemp:Xe,fermRate:Oe,durationDays:xe,daysAtCurrentSg:Re,apparentAttenuation:At,abv:Ze,ogIsEstimated:mt,effectiveOg:ct}});function V(){ie(h,l.originalGravity?.toFixed(3)??"",!0),ie(v,!0),setTimeout(()=>u(k)?.focus(),0)}function se(){const w=u(h).trim();if(!w)l.onOgChange?.(null);else{const U=parseFloat(w);!isNaN(U)&&U>=.99&&U<=1.2&&l.onOgChange?.(U)}ie(v,!1)}function oe(w){w.key==="Enter"?se():w.key==="Escape"&&ie(v,!1)}function y(w){return mn(w)}function $(w){return`${w>=0?"+":""}${w.toFixed(4)}`}function C(w){return w<1?`${(w*24).toFixed(1)}h`:`${w.toFixed(1)}d`}function R(w){return w===null?"--":w.toFixed(1)}function A(w){return w===null?"--":`${w.toFixed(1)}%`}var ae=Vn(),te=zl(ae);{var j=w=>{var U=sc(),N=S(U),le=S(N),F=S(le),ee=S(F,!0);x(F);var O=G(F,2),De=G(S(O),2),de=S(De,!0);x(De),x(O);var pe=G(O,2),be=G(S(pe),2),ue=S(be,!0);x(be),x(pe);var H=G(pe,2),xe=G(S(H),2),Oe=S(xe,!0);x(xe),x(H);var Me=G(H,2),Se=G(S(Me),2),ut=S(Se,!0);x(Se),x(Me),x(le);var Xe=G(le,2),Re=G(S(Xe),2),gt=G(S(Re),2),At=S(gt,!0),Ze=G(At),ct=S(Ze,!0);x(Ze),x(gt),x(Re);var mt=G(Re,2),Te=G(S(mt),2),xt=S(Te,!0),zt=G(xt),ft=S(zt,!0);x(zt),x(Te),x(mt);var Ue=G(mt,2),Wt=G(S(Ue),2),dt=S(Wt,!0),Yt=G(dt),me=S(Yt,!0);x(Yt),x(Wt),x(Ue);var W=G(Ue,2),Fe=G(S(W),2),Qe=S(Fe,!0),qt=G(Qe),It=S(qt,!0);x(qt),x(Fe),x(W),x(Xe),x(N);var _t=G(N,2),Pt=S(_t),rt=G(S(Pt),2);let wt;var je=S(rt);x(rt),x(Pt);var yt=G(Pt,2),dl=G(S(yt),2),al=S(dl,!0);x(dl),x(yt);var el=G(yt,2),Ct=G(S(el),2),wl=S(Ct,!0);x(Ct),x(el);var bt=G(el,2),tl=G(S(bt),2);{var Ml=K=>{var q=$u();Si(q),q.__keydown=oe,js(q,ge=>ie(k,ge),()=>u(k)),bi("blur",q,se),ki(q,()=>u(h),ge=>ie(h,ge)),ye(K,q)},Kl=K=>{var q=Vn(),ge=zl(q);{var Ne=E=>{var L=ec();L.__click=V;var J=S(L);let Z;var fe=S(J,!0);x(J);var I=G(J,2);{var P=B=>{var ve=Xu();ye(B,ve)};$e(I,B=>{u(T).ogIsEstimated&&B(P)})}Gl(2),x(L),at(B=>{Fl(L,"title",u(T).ogIsEstimated?"Estimated from high reading - click to set actual OG":"Click to edit Original Gravity"),Z=sl(J,1,"stat-value svelte-3wi8ix",null,Z,{estimated:u(T).ogIsEstimated}),we(fe,B)},[()=>y(u(T).effectiveOg)]),ye(E,L)},St=E=>{var L=lc(),J=zl(L);let Z;var fe=S(J,!0);x(J);var I=G(J,2);{var P=B=>{var ve=tc();ye(B,ve)};$e(I,B=>{u(T).ogIsEstimated&&B(P)})}at(B=>{Z=sl(J,1,"stat-value svelte-3wi8ix",null,Z,{estimated:u(T).ogIsEstimated}),we(fe,B)},[()=>y(u(T).effectiveOg)]),ye(E,L)};$e(ge,E=>{l.onOgChange?E(Ne):E(St,!1)},!0)}ye(K,q)};$e(tl,K=>{l.onOgChange&&u(v)?K(Ml):K(Kl,!1)})}x(bt);var jt=G(bt,2),bl=G(S(jt),2),Jl=S(bl,!0);x(bl),x(jt);var Al=G(jt,2),Kt=G(S(Al),2),et=S(Kt,!0);x(Kt),x(Al);var Bt=G(Al,2);{var z=K=>{var q=nc(),ge=G(S(q),2),Ne=S(ge,!0);x(ge),Gl(2),x(q),at((St,E)=>{Fl(q,"title",`Estimated time until target FG (R=${St??""})`),we(Ne,E)},[()=>p().r2.toFixed(2),()=>C(p().daysToFg)]),ye(K,q)};$e(Bt,K=>{p()?.daysToFg!==null&&p()?.daysToFg!==void 0&&K(z)})}x(_t),x(U),at((K,q,ge,Ne,St,E,L,J,Z,fe,I,P,B)=>{we(ee,u(Y)==="SG"?"Gravity":u(Y)==="P"?"Plato":"Brix"),we(de,K),we(ue,q),we(Oe,ge),we(ut,Ne),we(At,St),we(ct,u(_)),we(xt,E),we(ft,u(_)),we(dt,L),we(me,u(_)),we(Qe,J),we(It,u(_)),wt=sl(rt,1,"stat-value rate svelte-3wi8ix",null,wt,{fermenting:u(T).fermRate<0}),we(je,`${Z??""}/day`),we(al,fe),we(wl,I),we(Jl,P),we(et,B)},[()=>y(u(T).currentSg),()=>y(u(T).firstSg),()=>y(u(T).highSg),()=>y(u(T).lowSg),()=>R(u(T).currentTemp),()=>R(u(T).avgTemp),()=>R(u(T).highTemp),()=>R(u(T).lowTemp),()=>$(u(T).fermRate),()=>C(u(T).durationDays),()=>C(u(T).daysAtCurrentSg),()=>A(u(T).apparentAttenuation),()=>A(u(T).abv)]),ye(w,U)},re=w=>{var U=ac();ye(w,U)};$e(te,w=>{u(T)?w(j):w(re,!1)})}ye(e,ae),is()}ss(["keydown","click"]);var rc=Ee('<button type="button"> </button>'),oc=Ee("<option> </option>"),uc=Ee('<button type="button"><span class="legend-dot anomaly-dot svelte-12kwequ"></span> <span> </span></button>'),cc=Ee('<div class="loading-overlay svelte-12kwequ"><div class="loading-spinner svelte-12kwequ"></div></div>'),fc=Ee('<div class="chart-error svelte-12kwequ"><span>Failed to load chart</span> <button type="button" class="retry-btn svelte-12kwequ">Retry</button></div>'),dc=Ee('<div class="chart-empty svelte-12kwequ"><span>No historical data yet</span> <span class="text-xs opacity-60">Data will appear as readings are logged</span></div>'),pc=Ee('<div class="chart-wrapper svelte-12kwequ"><div class="chart-controls svelte-12kwequ"><div class="flex items-center gap-1.5"></div> <div class="controls-right svelte-12kwequ"><div class="refresh-control svelte-12kwequ"><label for="refreshInterval" class="svelte-12kwequ">Refresh</label> <select id="refreshInterval" class="refresh-select svelte-12kwequ"></select></div> <div class="chart-legend svelte-12kwequ"><span class="legend-item svelte-12kwequ"><span class="legend-dot svelte-12kwequ" style="background: var(--tilt-yellow);"></span> <span>SG</span></span> <span class="legend-item svelte-12kwequ"><span class="legend-line svelte-12kwequ"></span> <span>Wort</span></span> <button type="button"><span class="legend-line legend-line-dotted svelte-12kwequ"></span> <span>Ambient</span></button> <button type="button"><span class="legend-line legend-line-dashed svelte-12kwequ"></span> <span>Chamber</span></button> <button type="button"><span class="legend-line legend-line-dashed svelte-12kwequ"></span> <span>Trend</span></button> <!></div></div></div> <div class="chart-container svelte-12kwequ"><!> <!></div> <!></div>');function vc(e,l){as(l,!0);const a="brewsignal_chart_refresh_minutes",n=[{label:"Off",value:0},{label:"1 min",value:1},{label:"3 min",value:3},{label:"5 min",value:5},{label:"10 min",value:10}];let i=Ge(()=>Xn.config.smoothing_enabled),f=Ge(()=>Xn.config.smoothing_samples),c=Pe("UTC"),p=Pe(0),v=Pe(3),h=_n(l,"deviceColor",3,"BLACK"),k=_n(l,"originalGravity",3,null),m=_n(l,"controlEvents",19,()=>[]),_=Ge(()=>Xn.config.temp_units==="C"),Y=Ge(Ks),T,V=null,se=Pe(!0),oe=Pe(null),y=Pe(24),$=Pe(ql([])),C=Pe(ql([])),R=Pe(ql([])),A=Pe(null),ae=Pe(null);const te={RED:"#f43f5e",GREEN:"#10b981",BLACK:"#6b7280",PURPLE:"#a78bfa",ORANGE:"#fb923c",BLUE:"#60a5fa",YELLOW:"#facc15",PINK:"#f472b6"},j="#facc15",re="rgba(250, 204, 21, 0.3)",w="#71717a",U="#a1a1aa",N="rgba(255, 255, 255, 0.04)",le="#22d3ee",F="#a78bfa",ee="rgba(250, 204, 21, 0.5)",O="#ef4444",De="brewsignal_chart_trend_enabled";let de=Pe(!0);const pe="brewsignal_chart_ambient_enabled",be="brewsignal_chart_chamber_enabled",ue="brewsignal_chart_anomaly_enabled";let H=Pe(!0),xe=Pe(!0),Oe=Pe(!0),Me=Pe(ql([])),Se=Pe(ql([]));function ut(E,L,J=1.01){const Z=[];for(let Be=0;Be<E.length;Be++)L[Be]!==null&&Z.push([E[Be],L[Be]]);if(Z.length<10)return null;const fe=Z.length;let I=0,P=0,B=0,ve=0;for(const[Be,ot]of Z)I+=Be,P+=ot,B+=Be*ot,ve+=Be*Be;const ke=fe*ve-I*I;if(Math.abs(ke)<1e-10)return null;const Ce=(fe*B-I*P)/ke,kt=(P-Ce*I)/fe,pt=P/fe;let Vt=0,pl=0;for(const[Be,ot]of Z){const Jt=Ce*Be+kt;Vt+=(ot-Jt)**2,pl+=(ot-pt)**2}const ll=pl>0?1-Vt/pl:0;let vl=null,Ye=null;if(Ce<0&&ll>.3){const Be=E[E.length-1],ot=(J-kt)/Ce;ot>Be&&(Ye=(ot-Be)/(1440*60),Ye>0&&Ye<60?vl=J:Ye=null)}return{slope:Ce,intercept:kt,r2:ll,predictedFg:vl,daysToFg:Ye}}function Xe(E){const L=[];let J=null,Z=null;for(const I of E){const P=mt(I.timestamp);I.action==="heat_on"?J=P:I.action==="heat_off"&&J!==null?(L.push({type:"heating",startTime:J,endTime:P}),J=null):I.action==="cool_on"?Z=P:I.action==="cool_off"&&Z!==null&&(L.push({type:"cooling",startTime:Z,endTime:P}),Z=null)}const fe=Date.now()/1e3;return J!==null&&L.push({type:"heating",startTime:J,endTime:fe}),Z!==null&&L.push({type:"cooling",startTime:Z,endTime:fe}),L}function Re(E,L){return E.map(J=>L.slope*J+L.intercept)}function gt(E,L,J){const Z=new Date(E*1e3);try{return J?Z.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:L}):Z.toLocaleDateString("en-AU",{month:"short",day:"numeric",timeZone:L})}catch(fe){return console.warn("Invalid timezone:",L,fe),J?Z.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!1}):Z.toLocaleDateString("en-AU",{month:"short",day:"numeric"})}}function At(E,L,J){const Z=j,fe=te[h()]||U;return{width:E,height:220,padding:[16,12,0,0],cursor:{show:!0,x:!0,y:!0,drag:{x:!1,y:!1,setScale:!1}},legend:{show:!0,live:!0,markers:{show:!1}},hooks:{setCursor:[I=>{const P=I.cursor.idx;if(P==null)return;const B=I.root.querySelector(".u-legend");B&&(B.style.cssText=`
							position: absolute;
							top: 12px;
							left: 12px;
							background: rgba(24, 24, 27, 0.95);
							border: 1px solid var(--border-default);
							border-radius: 0.5rem;
							padding: 0.75rem;
							font-family: 'JetBrains Mono', monospace;
							font-size: 0.6875rem;
							pointer-events: none;
							box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3);
							backdrop-filter: blur(8px);
						`)}]},scales:{x:{time:!0},sg:{auto:!0,range:(I,P,B)=>{const ve=(B-P)*.1||.005;return[P-ve,B+ve]}},temp:{auto:!0,range:(I,P,B)=>{const ve=B-P,ke=10;if(ve<ke){const kt=(B+P)/2;return[kt-ke/2,kt+ke/2]}const Ce=ve*.1;return[P-Ce,B+Ce]}}},axes:[{stroke:w,grid:{stroke:N,width:1},ticks:{stroke:N,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(I,P)=>P.map(B=>gt(B,J,u(y)<=24))},{scale:"sg",stroke:Z,grid:{stroke:N,width:1},ticks:{stroke:N,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(I,P)=>P.map(B=>mn(B)),side:3},{scale:"temp",stroke:fe,grid:{show:!1},ticks:{stroke:N,width:1,size:4},font:'11px "JetBrains Mono", monospace',labelFont:'11px "JetBrains Mono", monospace',values:(I,P)=>P.map(B=>B.toFixed(0)+""),side:1}],series:[{value:(I,P)=>gt(P,J,!1)+" "+gt(P,J,!0)},{label:u(Y)==="SG"?"Gravity":u(Y)==="P"?"Plato":"Brix",scale:"sg",stroke:Z,width:2,value:(I,P)=>P!==null?mn(P):"--",fill:(I,P)=>{const B=I.ctx.createLinearGradient(0,I.bbox.top,0,I.bbox.top+I.bbox.height);return B.addColorStop(0,re),B.addColorStop(1,"transparent"),B},points:{show:!1},paths:Mt.paths.spline?.()},{label:"Wort",scale:"temp",stroke:fe,width:1.5,dash:[4,4],value:(I,P)=>P!==null?P.toFixed(1)+"":"--",points:{show:!1},paths:Mt.paths.spline?.()},{label:"Ambient",scale:"temp",stroke:le,width:1.5,dash:[2,4],value:(I,P)=>P!==null?P.toFixed(1)+"":"--",points:{show:!1},paths:Mt.paths.spline?.(),show:u(H)},{label:"Chamber",scale:"temp",stroke:F,width:1.5,dash:[4,2],value:(I,P)=>P!==null?P.toFixed(1)+"":"--",points:{show:!1},paths:Mt.paths.spline?.(),show:u(xe)},{label:"Trend",scale:"sg",stroke:ee,width:2,dash:[8,4],value:(I,P)=>P!==null?mn(P):"--",points:{show:!1},show:u(de)},{label:"Anomaly",scale:"sg",stroke:O,width:0,value:(I,P)=>P!==null?mn(P)+" ":"--",points:{show:!0,size:8,fill:O,stroke:"#ffffff",width:2},show:u(Oe)}]}}function Ze(E,L){if(L<=1)return E;const J=[];for(let Z=0;Z<E.length;Z++){const fe=[],I=Math.floor(L/2);for(let P=Math.max(0,Z-I);P<=Math.min(E.length-1,Z+I);P++){const B=E[P];B!==null&&fe.push(B)}fe.length>0?J.push(fe.reduce((P,B)=>P+B,0)/fe.length):J.push(null)}return J}function ct(E,L,J,Z,fe,I){if(E.length<=I)return[E,L,J,Z,fe];const P=Math.ceil(E.length/I),B=[],ve=[],ke=[],Ce=[],kt=[];for(let pt=0;pt<E.length;pt+=P){const Vt=Math.min(pt+P,E.length);let pl=0,ll=0,vl=0,Ye=0,Be=0,ot=0,Jt=0,xl=0;for(let Ut=pt;Ut<Vt;Ut++)L[Ut]!==null&&(pl+=L[Ut],ll++),J[Ut]!==null&&(vl+=J[Ut],Ye++),Z[Ut]!==null&&(Be+=Z[Ut],ot++),fe[Ut]!==null&&(Jt+=fe[Ut],xl++);B.push(E[Math.floor((pt+Vt-1)/2)]),ve.push(ll>0?pl/ll:null),ke.push(Ye>0?vl/Ye:null),Ce.push(ot>0?Be/ot:null),kt.push(xl>0?Jt/xl:null)}return[B,ve,ke,Ce,kt]}function mt(E){return!E.endsWith("Z")&&!E.match(/[+-]\d{2}:\d{2}$/)&&(E=E+"Z"),new Date(E).getTime()/1e3}function Te(E,L,J){if(E.length===0||L.length===0)return L.map(()=>null);const Z=[...E].sort((P,B)=>mt(P.timestamp)-mt(B.timestamp)),fe=Z.map(P=>mt(P.timestamp)),I=Z.map(P=>P.temperature===null?null:J?P.temperature:P.temperature*9/5+32);return L.map(P=>{let B=null,ve=null;for(let ke=0;ke<fe.length;ke++)if(fe[ke]<=P&&(B={time:fe[ke],temp:I[ke]}),fe[ke]>=P&&ve===null){ve={time:fe[ke],temp:I[ke]};break}if(B&&ve&&B.temp!==null&&ve.temp!==null){if(B.time===ve.time)return B.temp;const ke=(P-B.time)/(ve.time-B.time);return B.temp+ke*(ve.temp-B.temp)}return B!==null&&B.temp!==null?B.temp:ve!==null&&ve.temp!==null?ve.temp:null})}function xt(E,L,J,Z){const fe=[...E].reverse();let I=[],P=[],B=[],ve=[];const ke=[];for(const Ye of fe){const Be=mt(Ye.timestamp),ot=Ye.sg_calibrated??Ye.sg_raw;if(I.push(Be),P.push(ot),Ye.is_anomaly&&ot!==null){ve.push(ot);let xl=[];if(Ye.anomaly_reasons)try{xl=JSON.parse(Ye.anomaly_reasons)}catch{xl=Ye.anomaly_reasons.split(",").map(Ut=>Ut.trim())}ke.push({timestamp:Be,sg:ot,reasons:xl})}else ve.push(null);const Jt=Ye.temp_calibrated??Ye.temp_raw;Jt!==null?B.push(Z?Jt:Jt*9/5+32):B.push(null)}ie(Me,ke,!0);let Ce=Te(L,I,Z),kt=Te(J,I,Z);u(i)&&u(f)>1&&(P=Ze(P,u(f)),B=Ze(B,u(f)),Ce=Ze(Ce,u(f)),kt=Ze(kt,u(f)));const pt=500,Vt=[...I],pl=[...ve];[I,P,B,Ce,kt]=ct(I,P,B,Ce,kt,pt),ve=I.map(Ye=>{for(let Be=0;Be<Vt.length;Be++)if(pl[Be]!==null){const ot=Math.abs(Vt[Be]-Ye),Jt=(Vt[Vt.length-1]-Vt[0])/pt;if(ot<=Jt)return pl[Be]}return null});const ll=ut(I,P);ie(A,ll,!0);const vl=ll?Re(I,ll):I.map(()=>null);return[I,P,B,Ce,kt,vl,ve]}const zt=3e4;async function ft(E=!1){const J=Date.now()-u(p);if(!(!E&&u(p)>0&&J<zt)){ie(se,!0),ie(oe,null);try{if(!u(ae)){const Z=await Yr(l.batchId);ie(ae,Z.device_id??null,!0)}if(u(ae)){const[Z,fe,I]=await Promise.all([qr(u(ae),u(y),l.batchId),jr(u(y)).catch(()=>[]),Kr(u(y)).catch(()=>[])]);ie($,Z,!0),ie(C,fe,!0),ie(R,I,!0),Ue()}else ie($,[],!0),ie(C,[],!0),ie(R,[],!0),ie(oe,"No device assigned to this batch")}catch(Z){ie(oe,Z instanceof Error?Z.message:"Failed to load data",!0)}finally{ie(p,Date.now(),!0),ie(se,!1)}}}function Ue(){if(!T||u($).length===0)return;const E=xt(u($),u(C),u(R),u(_)),L=At(T.clientWidth,u(_),u(c));V&&V.destroy(),V=new Mt(L,E,T)}function Wt(){V&&T&&V.setSize({width:T.clientWidth,height:220})}let dt=null;function Yt(){if(dt&&(clearInterval(dt),dt=null),u(v)>0){const E=u(v)*60*1e3;dt=setInterval(()=>{u(se)||ft(!1)},E)}}xi(async()=>{const E=localStorage.getItem(a);if(E!==null){const I=parseInt(E,10);Number.isNaN(I)||ie(v,I,!0)}const L=localStorage.getItem(De);L!==null&&ie(de,L==="true");const J=localStorage.getItem(pe);J!==null&&ie(H,J==="true");const Z=localStorage.getItem(be);Z!==null&&ie(xe,Z==="true");const fe=localStorage.getItem(ue);fe!==null&&ie(Oe,fe==="true");try{const I=await fetch("/api/system/timezone");if(I.ok){const P=await I.json();ie(c,P.timezone||"UTC",!0)}}catch{console.warn("Failed to fetch system timezone, using UTC")}await ft(!0),window.addEventListener("resize",Wt),Yt()}),zr(()=>{V?.destroy(),window.removeEventListener("resize",Wt),dt&&clearInterval(dt)}),$n(()=>{m()&&m().length>0?ie(Se,Xe(m()),!0):ie(Se,[],!0)}),$n(()=>{u(_)!==void 0&&u($).length>0&&T&&Ue()}),$n(()=>{u(i),u(f),u($).length>0&&T&&Ue()});function me(E){const L=Number(E.target.value);ie(v,L,!0),localStorage.setItem(a,String(L)),Yt(),ft(!0)}function W(){ie(de,!u(de)),localStorage.setItem(De,String(u(de))),V&&V.setSeries(5,{show:u(de)})}function Fe(){ie(H,!u(H)),localStorage.setItem(pe,String(u(H))),V&&V.setSeries(3,{show:u(H)})}function Qe(){ie(xe,!u(xe)),localStorage.setItem(be,String(u(xe))),V&&V.setSeries(4,{show:u(xe)})}function qt(){ie(Oe,!u(Oe)),localStorage.setItem(ue,String(u(Oe))),V&&V.setSeries(6,{show:u(Oe)})}var It=pc(),_t=S(It),Pt=S(_t);bn(Pt,21,()=>Ur,Hn,(E,L)=>{var J=rc();let Z;J.__click=()=>{u(y)!==u(L).hours&&(ie(y,u(L).hours,!0),ft(!0))};var fe=S(J,!0);x(J),at(()=>{Z=sl(J,1,"range-btn svelte-12kwequ",null,Z,{active:u(y)===u(L).hours}),we(fe,u(L).label)}),ye(E,J)}),x(Pt);var rt=G(Pt,2),wt=S(rt),je=G(S(wt),2);je.__change=me,bn(je,21,()=>n,Hn,(E,L)=>{var J=oc(),Z=S(J,!0);x(J);var fe={};at(()=>{we(Z,u(L).label),fe!==(fe=u(L).value)&&(J.value=(J.__value=u(L).value)??"")}),ye(E,J)}),x(je);var yt;Xr(je),x(wt);var dl=G(wt,2),al=G(S(dl),2),el=S(al);Gl(2),x(al);var Ct=G(al,2);let wl;Ct.__click=Fe;var bt=S(Ct);Nl(bt,"background: #22d3ee;"),Gl(2),x(Ct);var tl=G(Ct,2);let Ml;tl.__click=Qe;var Kl=S(tl);Nl(Kl,"background: #a78bfa;"),Gl(2),x(tl);var jt=G(tl,2);let bl;jt.__click=W;var Jl=S(jt);Nl(Jl,"background: rgba(250, 204, 21, 0.5);"),Gl(2),x(jt);var Al=G(jt,2);{var Kt=E=>{var L=uc();let J;L.__click=qt;var Z=S(L);Nl(Z,"background: #ef4444;");var fe=G(Z,2),I=S(fe);x(fe),x(L),at(()=>{J=sl(L,1,"legend-item legend-toggle anomaly-toggle svelte-12kwequ",null,J,{"legend-disabled":!u(Oe)}),Fl(L,"title",u(Oe)?"Hide anomaly markers":"Show anomaly markers"),we(I,`Anomalies (${u(Me).length??""})`)}),ye(E,L)};$e(Al,E=>{u(Me).length>0&&E(Kt)})}x(dl),x(rt),x(_t);var et=G(_t,2),Bt=S(et);{var z=E=>{var L=cc();ye(E,L)};$e(Bt,E=>{u(se)&&E(z)})}var K=G(Bt,2);{var q=E=>{var L=fc(),J=G(S(L),2);J.__click=()=>ft(!0),x(L),ye(E,L)},ge=E=>{var L=Vn(),J=zl(L);{var Z=fe=>{var I=dc();ye(fe,I)};$e(J,fe=>{u($).length===0&&fe(Z)},!0)}ye(E,L)};$e(K,E=>{u(oe)?E(q):E(ge,!1)})}x(et),js(et,E=>T=E,()=>T);var Ne=G(et,2);{var St=E=>{{let L=Ge(()=>u(A)?{predictedFg:u(A).predictedFg,daysToFg:u(A).daysToFg,r2:u(A).r2}:null);ic(E,{get readings(){return u($)},get originalGravity(){return k()},get trend(){return u(L)}})}};$e(Ne,E=>{u($).length>0&&E(St)})}x(It),at(()=>{yt!==(yt=u(v))&&(je.value=(je.__value=u(v))??"",eo(je,u(v))),Nl(el,`background: ${(te[h()]||"var(--text-secondary)")??""};`),wl=sl(Ct,1,"legend-item legend-toggle svelte-12kwequ",null,wl,{"legend-disabled":!u(H)}),Fl(Ct,"title",u(H)?"Hide ambient temp":"Show ambient temp"),Ml=sl(tl,1,"legend-item legend-toggle svelte-12kwequ",null,Ml,{"legend-disabled":!u(xe)}),Fl(tl,"title",u(xe)?"Hide chamber temp":"Show chamber temp"),bl=sl(jt,1,"legend-item legend-toggle svelte-12kwequ",null,bl,{"legend-disabled":!u(de)}),Fl(jt,"title",u(de)?"Hide trend line":"Show trend line")}),ye(e,It),is()}ss(["click","change"]);var hc=Ee('<span class="error-message svelte-1k5rb4o"> </span>'),gc=Ee('<div class="flex flex-col gap-1"><input type="text" maxlength="100"/> <!></div>'),mc=Ee('<button type="button" class="beer-name-btn svelte-1k5rb4o" title="Click to edit batch name"><h3 class="text-lg font-semibold text-[var(--text-primary)] tracking-tight truncate"> </h3> <svg class="edit-icon svelte-1k5rb4o" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg></button>'),_c=Ee('<div class="w-1 rounded-sm transition-all"></div>'),wc=Ee('<div class="confidence-badge svelte-1k5rb4o"><span class="text-xs"> </span> <span class="text-[10px]"> </span></div>'),bc=Ee('<div class="pairing-badge svelte-1k5rb4o" title="Device not paired - readings not being logged"><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg> Unpaired</div>'),xc=Ee("<li> </li>"),yc=Ee('<div class="anomaly-alert svelte-1k5rb4o"><div class="flex items-start gap-2"><svg class="w-5 h-5 flex-shrink-0 mt-0.5 svelte-1k5rb4o" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div class="flex-1"><p class="font-semibold text-sm mb-1">Anomaly Detected</p> <ul class="text-xs space-y-0.5 svelte-1k5rb4o"></ul></div></div></div>'),Sc=Ee(' <span class="text-lg text-[var(--text-secondary)]"> </span>',1),kc=Ee('--<span class="text-lg text-[var(--text-secondary)]"> </span>',1),Tc=Ee('<div class="text-[11px] text-[var(--text-muted)] font-mono mb-3 px-1"><span class="opacity-60">Raw:</span> <span class="ml-1"> </span> <span class="mx-1 opacity-40"></span> <span> </span></div>'),Ec=Ee("<div><!></div>"),Mc=Ee('<button type="button" class="expand-btn svelte-1k5rb4o"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg></button>'),Ac=Ee('<div style="background: var(--bg-surface); border: 1px solid var(--border-subtle);"><div class="h-0.5"></div> <div class="p-5"><div class="flex justify-between items-start mb-5"><div class="flex-1 min-w-0 mr-3"><!> <div class="flex items-center gap-2 mt-1"><span class="w-2 h-2 rounded-full"></span> <span class="text-sm text-[var(--text-muted)] font-medium"> </span></div></div> <div class="flex flex-col items-end gap-2"><div class="flex flex-col items-end gap-1"><div class="flex items-end gap-0.5"></div> <span class="text-[10px] text-[var(--text-muted)] font-mono"> </span></div> <!> <!></div></div> <!> <div class="grid grid-cols-2 gap-3 mb-4"><div class="rounded-md p-4 text-center" style="background: var(--bg-elevated);"><p class="text-3xl font-medium font-mono tracking-tight svelte-1k5rb4o" style="color: var(--text-primary);"> <span class="text-lg text-[var(--text-secondary)]"> </span></p> <p class="text-[11px] text-[var(--text-muted)] uppercase tracking-wider mt-1 font-medium"> </p></div> <div class="rounded-md p-4 text-center" style="background: var(--bg-elevated);"><p class="text-3xl font-medium font-mono tracking-tight text-[var(--text-primary)] svelte-1k5rb4o"><!></p> <p class="text-[11px] text-[var(--text-muted)] uppercase tracking-wider mt-1 font-medium">Temp</p></div></div> <!>  <!> <div class="flex justify-between items-center pt-3 border-t border-[var(--bg-hover)]"><span class="text-[11px] text-[var(--text-muted)]"> </span> <div class="flex items-center gap-2"><a class="view-details-link svelte-1k5rb4o" aria-label="View batch details">View Details</a> <!> <div class="w-1.5 h-1.5 rounded-full" style="background: var(--positive);"></div></div></div></div></div>');function Cc(e,l){as(l,!0);let a=_n(l,"expanded",3,!1),n=_n(l,"wide",3,!1),i=Ge(()=>l.batch.device_id?yi.tilts.get(l.batch.device_id)??null:null),f=Ge(()=>l.batch.name||l.batch.recipe?.name||`Batch #${l.batch.batch_number}`),c=Ge(()=>l.progress?.measured?.current_sg??l.batch.measured_og??1),p=Ge(()=>l.progress?.temperature?.current??null),v=Ge(()=>u(i)?.color??"BLACK"),h=Ge(()=>u(i)?.rssi??null),k=Ge(()=>u(i)?.paired??!0),m=Ge(()=>u(i)?.last_seen??new Date().toISOString()),_=Ge(()=>u(i)?.sg_raw??u(c)),Y=Ge(()=>u(i)?.temp_raw??u(p)),T=Ge(()=>u(i)?.confidence??null),V=Ge(()=>u(i)?.is_anomaly??!1),se=Ge(()=>u(i)?.anomaly_reasons??[]),oe=Ge(()=>de(u(T))),y=Pe(!1),$=Pe(ql([])),C=Pe(!1);$n(()=>{a()&&!u(y)&&(ie(y,!0),u(C)||Jr(l.batch.id,168).then(z=>{ie($,z,!0),ie(C,!0)}).catch(z=>{console.error("Failed to fetch control events:",z),ie($,[],!0),ie(C,!0)}))});let R=Pe(!1),A=Pe(""),ae=Pe(null),te=Pe(!1),j=Pe(null);function re(){ie(A,u(f),!0),ie(R,!0),ie(j,null),setTimeout(()=>u(ae)?.focus(),0)}async function w(){if(u(te))return;const z=u(A).trim();if(!z||z===u(f)){ie(R,!1),ie(j,null);return}ie(te,!0),ie(j,null);try{await Zr(l.batch.id,{name:z}),ie(R,!1),l.onBatchUpdated&&await l.onBatchUpdated()}catch(K){console.error("Failed to update batch name:",K),ie(j,K instanceof Error?K.message:"Failed to save batch name",!0)}finally{ie(te,!1)}}function U(z){z.key==="Enter"?w():z.key==="Escape"&&ie(R,!1)}let N=Ge(Ti),le=Ge(Ks);const F={RED:"var(--tilt-red)",GREEN:"var(--tilt-green)",BLACK:"var(--tilt-black)",PURPLE:"var(--tilt-purple)",ORANGE:"var(--tilt-orange)",BLUE:"var(--tilt-blue)",YELLOW:"var(--tilt-yellow)",PINK:"var(--tilt-pink)"};function ee(z){return mn(z)}function O(z){return Wr(z)}function De(z){return z>=-50?{bars:4,color:"var(--positive)",label:"Excellent"}:z>=-60?{bars:3,color:"var(--positive)",label:"Good"}:z>=-70?{bars:2,color:"var(--warning)",label:"Fair"}:{bars:1,color:"var(--negative)",label:"Weak"}}function de(z){return z==null?null:z>=.8?{emoji:"",label:"High",color:"var(--positive)"}:z>=.5?{emoji:"",label:"Medium",color:"var(--warning)"}:{emoji:"",label:"Low",color:"var(--negative)"}}function pe(z){const K=Math.floor((Date.now()-new Date(z).getTime())/1e3);if(K<10)return"just now";if(K<60)return`${K}s ago`;const q=Math.floor(K/60);if(q<60)return`${q}m ago`;const ge=Math.floor(q/60);return ge<24?`${ge}h ago`:`${Math.floor(ge/24)}d ago`}let be=Ge(()=>F[u(v)]||"var(--tilt-black)"),ue=Ge(()=>u(h)!==null?De(u(h)):{bars:0,color:"var(--text-muted)",label:"No Signal"}),H=Ge(()=>pe(u(m)));var xe=Ac();let Oe;var Me=S(xe),Se=G(Me,2),ut=S(Se),Xe=S(ut),Re=S(Xe);{var gt=z=>{var K=gc(),q=S(K);Si(q),q.__keydown=U;let ge;js(q,E=>ie(ae,E),()=>u(ae));var Ne=G(q,2);{var St=E=>{var L=hc(),J=S(L,!0);x(L),at(()=>we(J,u(j))),ye(E,L)};$e(Ne,E=>{u(j)&&E(St)})}x(K),at(()=>{q.disabled=u(te),ge=sl(q,1,"beer-name-input svelte-1k5rb4o",null,ge,{error:u(j)})}),bi("blur",q,w),ki(q,()=>u(A),E=>ie(A,E)),ye(z,K)},At=z=>{var K=mc();K.__click=re;var q=S(K),ge=S(q,!0);x(q),Gl(2),x(K),at(()=>we(ge,u(f))),ye(z,K)};$e(Re,z=>{u(R)?z(gt):z(At,!1)})}var Ze=G(Re,2),ct=S(Ze),mt=G(ct,2),Te=S(mt,!0);x(mt),x(Ze),x(Xe);var xt=G(Xe,2),zt=S(xt),ft=S(zt);bn(ft,20,()=>Array(4),Hn,(z,K,q)=>{var ge=_c();at(()=>Nl(ge,`
									height: ${8+q*4}px;
									background: ${(q<u(ue).bars?u(ue).color:"var(--bg-hover)")??""};
									opacity: ${q<u(ue).bars?1:.4};
								`)),ye(z,ge)}),x(ft);var Ue=G(ft,2),Wt=S(Ue);x(Ue),x(zt);var dt=G(zt,2);{var Yt=z=>{var K=wc(),q=S(K),ge=S(q,!0);x(q);var Ne=G(q,2),St=S(Ne,!0);x(Ne),x(K),at(E=>{Fl(K,"title",`ML confidence: ${u(oe).label??""} (${E??""}%)`),we(ge,u(oe).emoji),Nl(Ne,`color: ${u(oe).color??""};`),we(St,u(oe).label)},[()=>(u(T)*100).toFixed(0)]),ye(z,K)};$e(dt,z=>{u(oe)&&z(Yt)})}var me=G(dt,2);{var W=z=>{var K=bc();ye(z,K)};$e(me,z=>{u(k)||z(W)})}x(xt),x(ut);var Fe=G(ut,2);{var Qe=z=>{var K=yc(),q=S(K),ge=G(S(q),2),Ne=G(S(ge),2);bn(Ne,21,()=>u(se),Hn,(St,E)=>{var L=xc(),J=S(L);x(L),at(()=>we(J,` ${u(E)??""}`)),ye(St,L)}),x(Ne),x(ge),x(q),x(K),ye(z,K)};$e(Fe,z=>{u(V)&&u(se).length>0&&z(Qe)})}var qt=G(Fe,2),It=S(qt),_t=S(It),Pt=S(_t,!0),rt=G(Pt),wt=S(rt,!0);x(rt),x(_t);var je=G(_t,2),yt=S(je,!0);x(je),x(It);var dl=G(It,2),al=S(dl),el=S(al);{var Ct=z=>{var K=Sc(),q=zl(K,!0),ge=G(q),Ne=S(ge,!0);x(ge),at(St=>{we(q,St),we(Ne,u(N))},[()=>O(u(p))]),ye(z,K)},wl=z=>{var K=kc(),q=G(zl(K)),ge=S(q,!0);x(q),at(()=>we(ge,u(N))),ye(z,K)};$e(el,z=>{u(p)!==null?z(Ct):z(wl,!1)})}x(al),Gl(2),x(dl),x(qt);var bt=G(qt,2);{var tl=z=>{var K=Tc(),q=G(S(K),2),ge=S(q,!0);x(q);var Ne=G(q,4),St=S(Ne);x(Ne),x(K),at((E,L)=>{we(ge,E),we(St,`${L??""}${u(N)??""}`)},[()=>ee(u(_)),()=>u(Y)!==null?O(u(Y)):"--"]),ye(z,K)};$e(bt,z=>{(u(c)!==u(_)||u(p)!==u(Y))&&u(i)&&z(tl)})}var Ml=G(bt,2);{var Kl=z=>{var K=Ec();let q;var ge=S(K);to(ge,()=>l.batch.id,Ne=>{vc(Ne,{get batchId(){return l.batch.id},get deviceColor(){return u(v)},get originalGravity(){return l.batch.measured_og},get controlEvents(){return u($)}})}),x(K),at(()=>q=sl(K,1,"chart-section svelte-1k5rb4o",null,q,{hidden:!a()})),ye(z,K)};$e(Ml,z=>{u(y)&&z(Kl)})}var jt=G(Ml,2),bl=S(jt),Jl=S(bl);x(bl);var Al=G(bl,2),Kt=S(Al),et=G(Kt,2);{var Bt=z=>{var K=Mc();K.__click=function(...Ne){l.onToggleExpand?.apply(this,Ne)};var q=S(K);let ge;x(K),at(()=>{Fl(K,"aria-label",a()?"Collapse chart":"Expand chart"),ge=sl(q,0,"w-4 h-4 transition-transform",null,ge,{"rotate-180":a()})}),ye(z,K)};$e(et,z=>{l.onToggleExpand&&z(Bt)})}Gl(2),x(Al),x(jt),x(Se),x(xe),at(z=>{Oe=sl(xe,1,"card rounded-lg overflow-hidden animate-fade-in svelte-1k5rb4o",null,Oe,{expanded:a(),wide:n()}),Nl(Me,`background: ${u(be)??""};`),Nl(ct,`background: ${u(be)??""};`),we(Te,u(v)),Fl(zt,"title",`${u(ue).label??""} signal (${u(h)??"N/A"??""} dBm)`),we(Wt,`${u(h)??"N/A"??""} dBm`),we(Pt,z),we(wt,u(le)!=="SG"?u(le):""),we(yt,u(le)==="SG"?"Gravity":u(le)==="P"?"Plato":"Brix"),we(Jl,`Updated ${u(H)??""}`),Fl(Kt,"href",`/batches/${l.batch.id??""}`)},[()=>ee(u(c))]),ye(e,xe),is()}ss(["keydown","click"]);var Lc=Ee('<div><span class="alert-day svelte-1uha8ag"> </span> <span class="alert-message svelte-1uha8ag"> </span></div>'),Dc=Ee('<div class="alerts-list svelte-1uha8ag"></div>'),Rc=Ee('<button type="button" class="show-more-btn svelte-1uha8ag"> </button>'),Pc=Ee('<div class="alerts-banner svelte-1uha8ag"><div class="alerts-header svelte-1uha8ag"><div class="alerts-title svelte-1uha8ag"><svg class="w-5 h-5 svelte-1uha8ag" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" class="svelte-1uha8ag"></path></svg> <span class="svelte-1uha8ag">Weather Alerts</span> <span class="alerts-count svelte-1uha8ag"> </span></div> <button type="button" class="dismiss-btn svelte-1uha8ag" aria-label="Dismiss alerts"><svg class="w-4 h-4 svelte-1uha8ag" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-1uha8ag"></path></svg></button></div> <!> <!></div>'),Fc=Ee('<div class="empty-state svelte-1uha8ag"><div class="empty-icon svelte-1uha8ag"><span class="text-5xl svelte-1uha8ag"></span></div> <h2 class="empty-title svelte-1uha8ag">Loading Batches</h2> <p class="empty-description svelte-1uha8ag"><span class="connecting-dots svelte-1uha8ag">Fetching active fermentations</span></p></div>'),Oc=Ee('<div class="empty-state svelte-1uha8ag"><div class="empty-icon svelte-1uha8ag"><span class="text-5xl svelte-1uha8ag"></span></div> <h2 class="empty-title svelte-1uha8ag">Error Loading Batches</h2> <p class="empty-description svelte-1uha8ag"> </p></div>'),Nc=Ee('<div class="empty-state svelte-1uha8ag"><div class="empty-icon svelte-1uha8ag"><span class="text-5xl svelte-1uha8ag"></span></div> <h2 class="empty-title svelte-1uha8ag">No Active Fermentations</h2> <p class="empty-description svelte-1uha8ag">Start a batch and set status to "Fermenting" or "Conditioning" to track it here</p> <div class="empty-hint svelte-1uha8ag"><svg class="w-4 h-4 svelte-1uha8ag" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" class="svelte-1uha8ag"></path></svg> <span class="svelte-1uha8ag">Go to Batches  Create a new batch or update an existing batch status</span></div></div>'),Gc=Ee("<div></div>"),zc=Ee("<!> <!>",1);function tf(e,l){as(l,!0);let a=Pe(!1),n=Pe(!1),i=Pe(ql([])),f=Pe(ql(new Map)),c=Pe(!0),p=Pe(null);xi(async()=>{const R=localStorage.getItem("brewsignal_alerts_dismissed"),A=localStorage.getItem("brewsignal_alerts_dismissed_time");R==="true"&&A&&Date.now()-parseInt(A,10)<360*60*1e3&&ie(a,!0),await v()});async function v(){ie(c,!0),ie(p,null);try{const R=await Qr();ie(i,R.filter(j=>j.status==="fermenting"||j.status==="conditioning"),!0);const A=u(i).map(async j=>{try{const re=await $r(j.id);return[j.id,re]}catch{return null}}),ae=await Promise.all(A),te=new Map;for(const j of ae)j&&te.set(j[0],j[1]);ie(f,te,!0)}catch(R){ie(p,R instanceof Error?R.message:"Failed to load batches",!0)}finally{ie(c,!1)}}let h=Ge(()=>new Map(u(i).filter(R=>R.device_id&&(R.status==="fermenting"||R.status==="conditioning")).map(R=>[R.device_id,R.id]))),k=Ge(()=>{const R=new Map(u(f));for(const[A,ae]of u(h)){const te=yi.tilts.get(A);if(te){const j=R.get(ae)||{batch_id:ae,status:"fermenting",measured:{},temperature:{status:"unknown"},progress:{},targets:{}},re=te.sg_filtered??te.sg,w=te.temp_filtered??te.temp;R.set(ae,{...j,measured:{...j.measured,current_sg:re},temperature:{...j.temperature,current:w,status:j.temperature.yeast_min!==void 0&&j.temperature.yeast_max!==void 0?w<j.temperature.yeast_min?"too_cold":w>j.temperature.yeast_max?"too_hot":"in_range":j.temperature.status}})}}return R}),m=Pe(null);function _(R){ie(m,u(m)===R?null:R,!0)}function Y(){ie(a,!0),localStorage.setItem("brewsignal_alerts_dismissed","true"),localStorage.setItem("brewsignal_alerts_dismissed_time",Date.now().toString())}function T(){ie(n,!u(n))}var V=zc();Hr("1uha8ag",R=>{Ir(()=>{Br.title="Dashboard | BrewSignal"})});var se=zl(V);{var oe=R=>{var A=Pc(),ae=S(A),te=S(ae),j=G(S(te),4),re=S(j,!0);x(j),x(te);var w=G(te,2);w.__click=Y,x(ae);var U=G(ae,2);{var N=ee=>{var O=Dc();bn(O,21,()=>Pn.alerts,Hn,(De,de)=>{var pe=Lc();let be;var ue=S(pe),H=S(ue);x(ue);var xe=G(ue,2),Oe=S(xe,!0);x(xe),x(pe),at(()=>{be=sl(pe,1,"alert-item svelte-1uha8ag",null,be,{warning:u(de).level==="warning",critical:u(de).level==="critical"}),we(H,`${u(de).day??""}:`),we(Oe,u(de).message)}),ye(De,pe)}),x(O),ye(ee,O)};$e(U,ee=>{u(n)||ee(N)})}var le=G(U,2);{var F=ee=>{var O=Rc();O.__click=T;var De=S(O,!0);x(O),at(()=>we(De,u(n)?`Show ${Pn.alerts.length} alerts`:"Show less")),ye(ee,O)};$e(le,ee=>{Pn.alerts.length>3&&ee(F)})}x(A),at(()=>we(re,Pn.alerts.length)),ye(R,A)};$e(se,R=>{Pn.alerts.length>0&&!u(a)&&R(oe)})}var y=G(se,2);{var $=R=>{var A=Fc();ye(R,A)},C=R=>{var A=Vn(),ae=zl(A);{var te=re=>{var w=Oc(),U=G(S(w),4),N=S(U,!0);x(U),x(w),at(()=>we(N,u(p))),ye(re,w)},j=re=>{var w=Vn(),U=zl(w);{var N=F=>{var ee=Nc();ye(F,ee)},le=F=>{var ee=Gc();let O;bn(ee,21,()=>u(i),De=>De.id,(De,de)=>{{let pe=Ge(()=>u(k).get(u(de).id)),be=Ge(()=>u(m)===u(de).id),ue=Ge(()=>u(i).length===1);Cc(De,{get batch(){return u(de)},get progress(){return u(pe)},get expanded(){return u(be)},get wide(){return u(ue)},onToggleExpand:()=>_(u(de).id),onBatchUpdated:v})}}),x(ee),at(()=>O=sl(ee,1,"tilt-grid svelte-1uha8ag",null,O,{"single-tilt":u(i).length===1})),ye(F,ee)};$e(U,F=>{u(i).length===0?F(N):F(le,!1)},!0)}ye(re,w)};$e(ae,re=>{u(p)?re(te):re(j,!1)},!0)}ye(R,A)};$e(y,R=>{u(c)?R($):R(C,!1)})}ye(e,V),is()}ss(["click"]);export{tf as component};
