import{d as oa,f as d,a as o,s as b,t as qe,b as lt}from"../chunks/BHvHOtuG.js";import{ab as ca,ac as c,p as va,ad as da,ae as pa,af as ha,s as n,V as ua,ag as s,ah as a,ai as _a,g as e,aj as t,an as E,al as x,ak as Ge}from"../chunks/BeYMcFNd.js";import{e as fa,i as ga}from"../chunks/Cn7aBH5Z.js";import{i as u}from"../chunks/Cd5u1CHp.js";import{c as C,h as ma,r as M,s as be,u as Ye}from"../chunks/CzQHDmGl.js";import{s as I}from"../chunks/mUNFwJlR.js";import{b as N}from"../chunks/BperHIsi.js";import{i as ja,s as ba,b as ya}from"../chunks/UEX34lHC.js";var wa=d('<div class="loading-state svelte-hj1sc2"><div class="loading-spinner svelte-hj1sc2"></div> <span class="svelte-hj1sc2">Loading system information...</span></div>'),Sa=d('<div class="info-grid svelte-hj1sc2"><div class="info-item svelte-hj1sc2"><span class="info-label svelte-hj1sc2">Hostname</span> <span class="info-value font-mono svelte-hj1sc2"> </span></div> <div class="info-item svelte-hj1sc2"><span class="info-label svelte-hj1sc2">Version</span> <span class="info-value font-mono svelte-hj1sc2"> </span></div> <div class="info-item svelte-hj1sc2"><span class="info-label svelte-hj1sc2">Uptime</span> <span class="info-value font-mono svelte-hj1sc2"> </span></div> <div class="info-item svelte-hj1sc2"><span class="info-label svelte-hj1sc2">IP Address</span> <span class="info-value font-mono svelte-hj1sc2"> </span></div></div>'),xa=d('<p class="text-muted svelte-hj1sc2">Unable to load system information</p>'),ka=d('<div class="setting-row sub-setting svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Smoothing Samples</span> <span class="setting-description svelte-hj1sc2">Number of readings to average</span></div> <select class="select-input-sm svelte-hj1sc2"><option class="svelte-hj1sc2">3</option><option class="svelte-hj1sc2">5</option><option class="svelte-hj1sc2">10</option><option class="svelte-hj1sc2">15</option><option class="svelte-hj1sc2">20</option></select></div>'),Ta=d('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),Ca=d('<p class="config-error svelte-hj1sc2"> </p>'),Aa=d('<p class="config-success svelte-hj1sc2">Settings saved</p>'),Fa=d('<option class="svelte-hj1sc2"> </option>'),Ea=d('<div class="loading-spinner-small svelte-hj1sc2"></div>'),za=d('<div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Connection Status</span></div> <span> </span></div>'),Oa=d("<span> </span>"),Ha=d('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),Ia=d('<p class="config-error svelte-hj1sc2"> </p>'),Ua=d('<p class="config-success svelte-hj1sc2">Settings saved</p>'),Ra=d('<!> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Home Assistant URL</span> <span class="setting-description svelte-hj1sc2">e.g., http://192.168.1.100:8123</span></div> <input type="url" placeholder="http://homeassistant.local:8123" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Access Token</span> <span class="setting-description svelte-hj1sc2">Long-lived access token from HA profile</span></div> <input type="password" placeholder="Enter token..." class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Test Connection</span></div> <div class="test-connection svelte-hj1sc2"><button type="button" class="btn-secondary-sm svelte-hj1sc2"> </button> <!></div></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Ambient Temp Entity</span> <span class="setting-description svelte-hj1sc2">e.g., sensor.fermenter_room_temperature</span></div> <input type="text" placeholder="sensor.xxx_temperature" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Ambient Humidity Entity</span> <span class="setting-description svelte-hj1sc2">Optional humidity sensor</span></div> <input type="text" placeholder="sensor.xxx_humidity" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Weather Entity</span> <span class="setting-description svelte-hj1sc2">For forecast display, e.g., weather.home</span></div> <input type="text" placeholder="weather.home" class="input-field svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Heater Switch Entity</span> <span class="setting-description svelte-hj1sc2">Switch to control fermentation heating</span></div> <input type="text" placeholder="switch.fermenter_heater" class="input-field svelte-hj1sc2"/></div> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div>',1),Ma=d('<div class="status-item override svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Override</span> <span class="status-value svelte-hj1sc2"> </span></div>'),Na=d('<div class="control-status svelte-hj1sc2"><div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Heater</span> <span> </span></div> <div class="status-item svelte-hj1sc2"><span class="status-label svelte-hj1sc2">Wort Temp</span> <span class="status-value svelte-hj1sc2"> </span></div> <!></div>'),Pa=d('<button type="button" class="btn-override btn-cancel svelte-hj1sc2">Cancel</button>'),Ba=d('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),Da=d('<p class="config-error svelte-hj1sc2"> </p>'),La=d('<p class="config-success svelte-hj1sc2">Settings saved</p>'),Ja=d('<!> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Target Temperature</span> <span class="setting-description svelte-hj1sc2">Desired fermentation temperature (°F)</span></div> <input type="number" min="32" max="100" step="0.5" class="input-field input-number svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Hysteresis</span> <span class="setting-description svelte-hj1sc2">± tolerance before triggering (°F)</span></div> <input type="number" min="0.5" max="10" step="0.5" class="input-field input-number svelte-hj1sc2"/></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Manual Override</span> <span class="setting-description svelte-hj1sc2">Temporarily override automatic control (1 hour)</span></div> <div class="override-buttons svelte-hj1sc2"><button type="button">Force ON</button> <button type="button">Force OFF</button> <!></div></div> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div>',1),Wa=d('<div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Temperature Control</h2></div> <div class="card-body svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Enable Temperature Control</span> <span class="setting-description svelte-hj1sc2">Automatically control heater based on wort temp</span></div> <button type="button" aria-label="Toggle temperature control"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!></div></div>'),Ka=d('<div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Alert Threshold</span> <span class="setting-description svelte-hj1sc2">Alert when forecast differs from target by this amount (°F)</span></div> <div class="input-with-unit svelte-hj1sc2"><input type="number" min="1" max="20" step="0.5" class="input-field-sm svelte-hj1sc2"/> <span class="unit svelte-hj1sc2">°F</span></div></div> <p class="setting-hint mt-2 svelte-hj1sc2">Alerts are generated when the forecast high or low temperatures differ from your target fermentation temperature by more than the threshold.</p>',1),Va=d('<span class="loading-dot svelte-hj1sc2"></span> Saving...',1),qa=d('<p class="config-error svelte-hj1sc2"> </p>'),Ga=d('<p class="config-success svelte-hj1sc2">Settings saved</p>'),Ya=d('<div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Weather Alerts</h2></div> <div class="card-body svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Enable Weather Alerts</span> <span class="setting-description svelte-hj1sc2">Get alerts when forecast temps may affect fermentation</span></div> <button type="button" aria-label="Toggle weather alerts"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div></div></div>'),Qa=d('<div class="stat-item svelte-hj1sc2"><span class="stat-value font-mono svelte-hj1sc2"> </span> <span class="stat-label svelte-hj1sc2">Total Readings</span></div> <div class="stat-item svelte-hj1sc2"><span class="stat-value font-mono svelte-hj1sc2"> </span> <span class="stat-label svelte-hj1sc2">Estimated Size</span></div>',1),Xa=d('<p class="text-muted svelte-hj1sc2">Unable to load storage stats</p>'),Za=d('<button type="button" class="btn-danger-sm svelte-hj1sc2"> </button>'),$a=d('<p class="cleanup-message svelte-hj1sc2"> </p>'),en=d('<span class="loading-dot svelte-hj1sc2"></span> Rebooting...',1),sn=lt('<svg class="w-4 h-4 svelte-hj1sc2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" class="svelte-hj1sc2"></path></svg> Reboot System',1),tn=d('<span class="loading-dot svelte-hj1sc2"></span> Shutting down...',1),an=lt('<svg class="w-4 h-4 svelte-hj1sc2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636" class="svelte-hj1sc2"></path></svg> Shutdown System',1),nn=d('<div class="grid gap-6 svelte-hj1sc2"><div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">System Information</h2></div> <div class="card-body svelte-hj1sc2"><!></div></div> <div class="grid gap-6 md:grid-cols-2 svelte-hj1sc2"><div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Application Settings</h2></div> <div class="card-body svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Temperature Units</span> <span class="setting-description svelte-hj1sc2">Display temperature in Celsius or Fahrenheit</span></div> <div class="unit-toggle svelte-hj1sc2"><button type="button">°C</button> <button type="button">°F</button></div></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Minimum RSSI</span> <span class="setting-description svelte-hj1sc2">Ignore readings below this signal strength</span></div> <div class="rssi-input svelte-hj1sc2"><input type="number" min="-100" max="0" class="input-field-sm svelte-hj1sc2"/> <span class="input-suffix svelte-hj1sc2">dBm</span></div></div> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Reading Smoothing</span> <span class="setting-description svelte-hj1sc2">Average multiple readings to reduce noise</span></div> <button type="button" aria-label="Toggle reading smoothing"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!> <div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Identify by MAC</span> <span class="setting-description svelte-hj1sc2">Use MAC address instead of broadcast ID</span></div> <button type="button" aria-label="Toggle identify by MAC address"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <div class="mt-4 config-actions svelte-hj1sc2"><button type="button" class="btn-primary svelte-hj1sc2"><!></button> <!> <!></div></div></div> <div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Timezone</h2></div> <div class="card-body svelte-hj1sc2"><p class="section-description svelte-hj1sc2">Current timezone: <span class="font-mono text-[var(--amber-400)] svelte-hj1sc2"> </span></p> <div class="timezone-selector svelte-hj1sc2"><select class="select-input svelte-hj1sc2"></select> <!></div></div></div></div> <div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Home Assistant</h2></div> <div class="card-body svelte-hj1sc2"><div class="setting-row svelte-hj1sc2"><div class="setting-info svelte-hj1sc2"><span class="setting-label svelte-hj1sc2">Enable Integration</span> <span class="setting-description svelte-hj1sc2">Connect to Home Assistant for ambient temp and control</span></div> <button type="button" aria-label="Enable Home Assistant integration"><span class="toggle-slider svelte-hj1sc2"></span></button></div> <!></div></div> <!> <!> <div class="card svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Storage & Data Cleanup</h2></div> <div class="card-body svelte-hj1sc2"><div class="storage-grid svelte-hj1sc2"><div class="storage-stats svelte-hj1sc2"><!></div> <div class="cleanup-section svelte-hj1sc2"><p class="section-description mb-3 svelte-hj1sc2">Remove old readings to free up storage. Readings older than the specified days will be permanently deleted.</p> <div class="cleanup-controls svelte-hj1sc2"><div class="cleanup-input-group svelte-hj1sc2"><label for="retention-days" class="svelte-hj1sc2">Keep readings from last</label> <input id="retention-days" type="number" min="1" max="365" class="input-field-sm svelte-hj1sc2"/> <span class="svelte-hj1sc2">days</span></div> <div class="cleanup-actions svelte-hj1sc2"><button type="button" class="btn-secondary-sm svelte-hj1sc2"> </button> <!></div></div> <!></div></div></div></div> <div class="card danger-zone svelte-hj1sc2"><div class="card-header svelte-hj1sc2"><h2 class="card-title svelte-hj1sc2">Power Controls</h2></div> <div class="card-body svelte-hj1sc2"><p class="section-description danger-text svelte-hj1sc2">These actions will affect the entire system. Make sure you have saved any pending work.</p> <div class="power-buttons svelte-hj1sc2"><button type="button" class="btn-warning svelte-hj1sc2"><!></button> <button type="button" class="btn-danger svelte-hj1sc2"><!></button></div></div></div></div>'),ln=d('<div class="page-container svelte-hj1sc2"><div class="page-header svelte-hj1sc2"><h1 class="page-title svelte-hj1sc2">System</h1> <p class="page-description svelte-hj1sc2">System settings, timezone configuration, and power controls</p></div> <!></div>');function _n(rt,ot){ca(ot,!0);let Y=c(null),ye=c(null),ws=c(va([])),ie=c(""),Ss=c(!0),y=c(null),le=c("C"),we=c(-100),Q=c(!1),Se=c(5),re=c(!1),xe=c(!1),ke=c(null),Te=c(!1),oe=c(30),P=c(null),J=c(!1),ce=c(""),ve=c(""),Ce=c(""),Ae=c(""),pe=c(""),he=c(""),Fe=c(!1),X=c(null),Ee=c(null),ze=c(!1),Oe=c(null),He=c(!1),O=c(null),Z=c(!1),Ie=c(68),Ue=c(1),Re=c(!1),Me=c(null),Ne=c(!1),ue=c(!1),$=c(!1),Pe=c(5),Be=c(!1),De=c(null),Le=c(!1);async function ct(){try{const i=await fetch("/api/system/info");i.ok&&n(Y,await i.json(),!0)}catch(i){console.error("Failed to load system info:",i)}}async function xs(){try{const i=await fetch("/api/system/storage");i.ok&&n(ye,await i.json(),!0)}catch(i){console.error("Failed to load storage stats:",i)}}async function vt(){try{const[i,A]=await Promise.all([fetch("/api/system/timezones"),fetch("/api/system/timezone")]);if(i.ok){const B=await i.json();n(ws,B.timezones||[],!0)}if(A.ok){const B=await A.json();n(ie,B.timezone||"UTC",!0)}}catch(i){console.error("Failed to load timezones:",i)}}function ks(){n(le,C.config.temp_units,!0),n(we,C.config.min_rssi,!0),n(Q,C.config.smoothing_enabled,!0),n(Se,C.config.smoothing_samples,!0),n(re,C.config.id_by_mac,!0),n(J,C.config.ha_enabled,!0),n(ce,C.config.ha_url,!0),n(ve,C.config.ha_token,!0),n(Ce,C.config.ha_ambient_temp_entity_id,!0),n(Ae,C.config.ha_ambient_humidity_entity_id,!0),n(pe,C.config.ha_weather_entity_id,!0),n(he,C.config.ha_heater_entity_id,!0),n(Z,C.config.temp_control_enabled,!0),n(Ie,C.config.temp_target,!0),n(Ue,C.config.temp_hysteresis,!0),n($,C.config.weather_alerts_enabled,!0),n(Pe,C.config.alert_temp_threshold,!0)}async function dt(){n(xe,!0),n(ke,null),n(Te,!1);try{const i=await Ye({temp_units:e(le),min_rssi:e(we),smoothing_enabled:e(Q),smoothing_samples:e(Se),id_by_mac:e(re)});i.success?(n(Te,!0),setTimeout(()=>n(Te,!1),3e3)):n(ke,i.error||"Failed to save settings",!0)}finally{n(xe,!1)}}async function pt(){n(ze,!0),n(Oe,null),n(He,!1);try{const i=await Ye({ha_enabled:e(J),ha_url:e(ce),ha_token:e(ve),ha_ambient_temp_entity_id:e(Ce),ha_ambient_humidity_entity_id:e(Ae),ha_weather_entity_id:e(pe),ha_heater_entity_id:e(he)});i.success?(n(He,!0),setTimeout(()=>n(He,!1),3e3),await Cs()):n(Oe,i.error||"Failed to save settings",!0)}finally{n(ze,!1)}}async function Qe(){try{const i=await fetch("/api/control/status");i.ok&&n(O,await i.json(),!0)}catch(i){console.error("Failed to load control status:",i)}}async function ht(){n(Re,!0),n(Me,null),n(Ne,!1);try{const i=await Ye({temp_control_enabled:e(Z),temp_target:e(Ie),temp_hysteresis:e(Ue)});i.success?(n(Ne,!0),setTimeout(()=>n(Ne,!1),3e3),await Qe()):n(Me,i.error||"Failed to save settings",!0)}finally{n(Re,!1)}}async function ut(){n(Be,!0),n(De,null),n(Le,!1);try{const i=await Ye({weather_alerts_enabled:e($),alert_temp_threshold:e(Pe)});i.success?(n(Le,!0),setTimeout(()=>n(Le,!1),3e3)):n(De,i.error||"Failed to save settings",!0)}finally{n(Be,!1)}}async function Xe(i){n(ue,!0);try{(await fetch("/api/control/override",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:i,duration_minutes:60})})).ok&&await Qe()}catch(A){console.error("Failed to set override:",A)}finally{n(ue,!1)}}async function _t(i){n(y,"timezone");try{(await fetch("/api/system/timezone",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({timezone:i})})).ok&&n(ie,i,!0)}catch(A){console.error("Failed to set timezone:",A)}finally{n(y,null)}}async function ft(){n(y,"cleanup-preview");try{const i=await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_days:e(oe),confirm:!1})});i.ok&&n(P,await i.json(),!0)}catch(i){console.error("Failed to preview cleanup:",i)}finally{n(y,null)}}async function gt(){if(!(!e(P)||e(P).readings_to_delete===0)&&confirm(`Delete ${e(P).readings_to_delete.toLocaleString()} readings older than ${e(oe)} days?`)){n(y,"cleanup");try{(await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_days:e(oe),confirm:!0})})).ok&&(n(P,null),await xs())}catch(i){console.error("Failed to execute cleanup:",i)}finally{n(y,null)}}}async function mt(){if(confirm("Are you sure you want to reboot the system? The UI will be unavailable until restart completes.")){n(y,"reboot");try{await fetch("/api/system/reboot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})})}catch(i){console.error("Reboot command failed:",i)}finally{n(y,null)}}}async function jt(){if(confirm("Are you sure you want to shut down the system? You will need physical access to restart.")){n(y,"shutdown");try{await fetch("/api/system/shutdown",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:!0})})}catch(i){console.error("Shutdown command failed:",i)}finally{n(y,null)}}}function bt(i){if(!i)return"Unknown";const A=Math.floor(i/86400),B=Math.floor(i%86400/3600),_e=Math.floor(i%3600/60),ee=[];return A>0&&ee.push(`${A}d`),B>0&&ee.push(`${B}h`),_e>0&&ee.push(`${_e}m`),ee.length>0?ee.join(" "):"< 1m"}function yt(i){return!Number.isFinite(i)||i<0?"0 B":i<1024?`${i} B`:i<1024*1024?`${(i/1024).toFixed(1)} KB`:`${(i/(1024*1024)).toFixed(1)} MB`}function Ts(i){return i.toLocaleString()}async function wt(){n(Fe,!0),n(X,null);try{const i=await fetch("/api/ha/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e(ce),token:e(ve)})});i.ok?n(X,await i.json(),!0):n(X,{success:!1,message:"Request failed"},!0)}catch{n(X,{success:!1,message:"Network error"},!0)}finally{n(Fe,!1)}}async function Cs(){try{const i=await fetch("/api/ha/status");i.ok&&n(Ee,await i.json(),!0)}catch(i){console.error("Failed to load HA status:",i)}}da(async()=>{await Promise.all([ct(),xs(),vt(),Cs(),Qe()]),ks(),n(Ss,!1)}),pa(()=>{C.loaded&&ks()});var Ze=ln();ma("hj1sc2",i=>{ua(()=>{_a.title="System | Tilt UI"})});var St=s(a(Ze),2);{var xt=i=>{var A=wa();o(i,A)},kt=i=>{var A=nn(),B=a(A),_e=s(a(B),2),ee=a(_e);{var Tt=l=>{var r=Sa(),h=a(r),f=s(a(h),2),g=a(f,!0);t(f),t(h);var S=s(h,2),k=s(a(S),2),z=a(k);t(k),t(S);var T=s(S,2),F=s(a(T),2),H=a(F,!0);t(F),t(T);var q=s(T,2),D=s(a(q),2),K=a(D,!0);t(D),t(q),t(r),x(U=>{b(g,e(Y).hostname),b(z,`v${e(Y).version??""}`),b(H,U),b(K,e(Y).ip_addresses.length>0?e(Y).ip_addresses[0]:"Unknown")},[()=>bt(e(Y).uptime_seconds)]),o(l,r)},Ct=l=>{var r=xa();o(l,r)};u(ee,l=>{e(Y)?l(Tt):l(Ct,!1)})}t(_e),t(B);var $e=s(B,2),es=a($e),As=s(a(es),2),ss=a(As),Fs=s(a(ss),2),ts=a(Fs);let Es;ts.__click=()=>n(le,"C");var zs=s(ts,2);let Os;zs.__click=()=>n(le,"F"),t(Fs),t(ss);var as=s(ss,2),Hs=s(a(as),2),Is=a(Hs);M(Is),E(2),t(Hs),t(as);var ns=s(as,2),is=s(a(ns),2);let Us;is.__click=()=>n(Q,!e(Q)),t(ns);var Rs=s(ns,2);{var At=l=>{var r=ka(),h=s(a(r),2),f=a(h);f.value=f.__value=3;var g=s(f);g.value=g.__value=5;var S=s(g);S.value=S.__value=10;var k=s(S);k.value=k.__value=15;var z=s(k);z.value=z.__value=20,t(h),t(r),ya(h,()=>e(Se),T=>n(Se,T)),o(l,r)};u(Rs,l=>{e(Q)&&l(At)})}var ls=s(Rs,2),rs=s(a(ls),2);let Ms;rs.__click=()=>n(re,!e(re)),t(ls);var Ns=s(ls,2),fe=a(Ns);fe.__click=dt;var Ft=a(fe);{var Et=l=>{var r=Ta();E(),o(l,r)},zt=l=>{var r=qe("Save Settings");o(l,r)};u(Ft,l=>{e(xe)?l(Et):l(zt,!1)})}t(fe);var Ps=s(fe,2);{var Ot=l=>{var r=Ca(),h=a(r,!0);t(r),x(()=>b(h,e(ke))),o(l,r)};u(Ps,l=>{e(ke)&&l(Ot)})}var Ht=s(Ps,2);{var It=l=>{var r=Aa();o(l,r)};u(Ht,l=>{e(Te)&&l(It)})}t(Ns),t(As),t(es);var Bs=s(es,2),Ds=s(a(Bs),2),os=a(Ds),Ls=s(a(os)),Ut=a(Ls,!0);t(Ls),t(os);var Js=s(os,2),W=a(Js);W.__change=l=>_t(l.currentTarget.value),fa(W,21,()=>e(ws),ga,(l,r)=>{var h=Fa(),f=a(h,!0);t(h);var g={};x(()=>{b(f,e(r)),g!==(g=e(r))&&(h.value=(h.__value=e(r))??"")}),o(l,h)}),t(W);var Ws;ja(W);var Rt=s(W,2);{var Mt=l=>{var r=Ea();o(l,r)};u(Rt,l=>{e(y)==="timezone"&&l(Mt)})}t(Js),t(Ds),t(Bs),t($e);var cs=s($e,2),Ks=s(a(cs),2),vs=a(Ks),ds=s(a(vs),2);let Vs;ds.__click=()=>n(J,!e(J)),t(vs);var Nt=s(vs,2);{var Pt=l=>{var r=Ra(),h=Ge(r);{var f=v=>{var w=za(),p=s(a(w),2);let m;var ne=a(p,!0);t(p),t(w),x(()=>{m=I(p,1,"status-badge svelte-hj1sc2",null,m,{connected:e(Ee).connected}),b(ne,e(Ee).connected?"Connected":"Disconnected")}),o(v,w)};u(h,v=>{e(Ee)&&v(f)})}var g=s(h,2),S=s(a(g),2);M(S),t(g);var k=s(g,2),z=s(a(k),2);M(z),t(k);var T=s(k,2),F=s(a(T),2),H=a(F);H.__click=wt;var q=a(H,!0);t(H);var D=s(H,2);{var K=v=>{var w=Oa();let p;var m=a(w,!0);t(w),x(()=>{p=I(w,1,"test-result svelte-hj1sc2",null,p,{success:e(X).success}),b(m,e(X).message)}),o(v,w)};u(D,v=>{e(X)&&v(K)})}t(F),t(T);var U=s(T,2),se=s(a(U),2);M(se),t(U);var V=s(U,2),_=s(a(V),2);M(_),t(V);var j=s(V,2),L=s(a(j),2);M(L),t(j);var R=s(j,2),G=s(a(R),2);M(G),t(R);var de=s(R,2),te=a(de);te.__click=pt;var We=a(te);{var ae=v=>{var w=Ha();E(),o(v,w)},fs=v=>{var w=qe("Save HA Settings");o(v,w)};u(We,v=>{e(ze)?v(ae):v(fs,!1)})}t(te);var Ke=s(te,2);{var gs=v=>{var w=Ia(),p=a(w,!0);t(w),x(()=>b(p,e(Oe))),o(v,w)};u(Ke,v=>{e(Oe)&&v(gs)})}var Ve=s(Ke,2);{var ms=v=>{var w=Ua();o(v,w)};u(Ve,v=>{e(He)&&v(ms)})}t(de),x(()=>{H.disabled=e(Fe)||!e(ce)||!e(ve),b(q,e(Fe)?"Testing...":"Test"),te.disabled=e(ze)}),N(S,()=>e(ce),v=>n(ce,v)),N(z,()=>e(ve),v=>n(ve,v)),N(se,()=>e(Ce),v=>n(Ce,v)),N(_,()=>e(Ae),v=>n(Ae,v)),N(L,()=>e(pe),v=>n(pe,v)),N(G,()=>e(he),v=>n(he,v)),o(l,r)};u(Nt,l=>{e(J)&&l(Pt)})}t(Ks),t(cs);var qs=s(cs,2);{var Bt=l=>{var r=Wa(),h=s(a(r),2),f=a(h),g=s(a(f),2);let S;g.__click=()=>n(Z,!e(Z)),t(f);var k=s(f,2);{var z=T=>{var F=Ja(),H=Ge(F);{var q=p=>{var m=Na(),ne=a(m),js=s(a(ne),2);let at;var ta=a(js,!0);t(js),t(ne);var bs=s(ne,2),nt=s(a(bs),2),aa=a(nt,!0);t(nt),t(bs);var na=s(bs,2);{var ia=je=>{var ys=Ma(),it=s(a(ys),2),la=a(it,!0);t(it),t(ys),x(ra=>b(la,ra),[()=>e(O).override_state?.toUpperCase()]),o(je,ys)};u(na,je=>{e(O).override_active&&je(ia)})}t(m),x(je=>{at=I(js,1,"status-value svelte-hj1sc2",null,at,{"heater-on":e(O).heater_state==="on"}),b(ta,e(O).heater_state==="on"?"ON":e(O).heater_state==="off"?"OFF":"—"),b(aa,je)},[()=>e(O).wort_temp!==null?`${e(O).wort_temp.toFixed(1)}°F`:"—"]),o(p,m)};u(H,p=>{e(O)&&p(q)})}var D=s(H,2),K=s(a(D),2);M(K),t(D);var U=s(D,2),se=s(a(U),2);M(se),t(U);var V=s(U,2),_=s(a(V),2),j=a(_);let L;j.__click=()=>Xe("on");var R=s(j,2);let G;R.__click=()=>Xe("off");var de=s(R,2);{var te=p=>{var m=Pa();m.__click=()=>Xe(null),x(()=>m.disabled=e(ue)),o(p,m)};u(de,p=>{e(O)?.override_active&&p(te)})}t(_),t(V);var We=s(V,2),ae=a(We);ae.__click=ht;var fs=a(ae);{var Ke=p=>{var m=Ba();E(),o(p,m)},gs=p=>{var m=qe("Save Control Settings");o(p,m)};u(fs,p=>{e(Re)?p(Ke):p(gs,!1)})}t(ae);var Ve=s(ae,2);{var ms=p=>{var m=Da(),ne=a(m,!0);t(m),x(()=>b(ne,e(Me))),o(p,m)};u(Ve,p=>{e(Me)&&p(ms)})}var v=s(Ve,2);{var w=p=>{var m=La();o(p,m)};u(v,p=>{e(Ne)&&p(w)})}t(We),x(()=>{L=I(j,1,"btn-override svelte-hj1sc2",null,L,{active:e(O)?.override_state==="on"}),j.disabled=e(ue),G=I(R,1,"btn-override svelte-hj1sc2",null,G,{active:e(O)?.override_state==="off"}),R.disabled=e(ue),ae.disabled=e(Re)}),N(K,()=>e(Ie),p=>n(Ie,p)),N(se,()=>e(Ue),p=>n(Ue,p)),o(T,F)};u(k,T=>{e(Z)&&T(z)})}t(h),t(r),x(()=>{S=I(g,1,"toggle svelte-hj1sc2",null,S,{active:e(Z)}),be(g,"aria-pressed",e(Z))}),o(l,r)};u(qs,l=>{e(J)&&e(he)&&l(Bt)})}var Gs=s(qs,2);{var Dt=l=>{var r=Ya(),h=s(a(r),2),f=a(h),g=s(a(f),2);let S;g.__click=()=>n($,!e($)),t(f);var k=s(f,2);{var z=_=>{var j=Ka(),L=Ge(j),R=s(a(L),2),G=a(R);M(G),E(2),t(R),t(L),E(2),N(G,()=>e(Pe),de=>n(Pe,de)),o(_,j)};u(k,_=>{e($)&&_(z)})}var T=s(k,2),F=a(T);F.__click=ut;var H=a(F);{var q=_=>{var j=Va();E(),o(_,j)},D=_=>{var j=qe("Save Alert Settings");o(_,j)};u(H,_=>{e(Be)?_(q):_(D,!1)})}t(F);var K=s(F,2);{var U=_=>{var j=qa(),L=a(j,!0);t(j),x(()=>b(L,e(De))),o(_,j)};u(K,_=>{e(De)&&_(U)})}var se=s(K,2);{var V=_=>{var j=Ga();o(_,j)};u(se,_=>{e(Le)&&_(V)})}t(T),t(h),t(r),x(()=>{S=I(g,1,"toggle svelte-hj1sc2",null,S,{active:e($)}),be(g,"aria-pressed",e($)),F.disabled=e(Be)}),o(l,r)};u(Gs,l=>{e(J)&&e(pe)&&l(Dt)})}var ps=s(Gs,2),Ys=s(a(ps),2),Qs=a(Ys),hs=a(Qs),Lt=a(hs);{var Jt=l=>{var r=Qa(),h=Ge(r),f=a(h),g=a(f,!0);t(f),E(2),t(h);var S=s(h,2),k=a(S),z=a(k,!0);t(k),E(2),t(S),x((T,F)=>{b(g,T),b(z,F)},[()=>Ts(e(ye).total_readings),()=>yt(e(ye).estimated_size_bytes)]),o(l,r)},Wt=l=>{var r=Xa();o(l,r)};u(Lt,l=>{e(ye)?l(Jt):l(Wt,!1)})}t(hs);var Xs=s(hs,2),us=s(a(Xs),2),_s=a(us),Zs=s(a(_s),2);M(Zs),E(2),t(_s);var $s=s(_s,2),ge=a($s);ge.__click=ft;var Kt=a(ge,!0);t(ge);var Vt=s(ge,2);{var qt=l=>{var r=Za();r.__click=gt;var h=a(r,!0);t(r),x(f=>{r.disabled=e(y)!==null,b(h,f)},[()=>e(y)==="cleanup"?"Deleting...":`Delete ${Ts(e(P).readings_to_delete)} readings`]),o(l,r)};u(Vt,l=>{e(P)&&e(P).readings_to_delete>0&&l(qt)})}t($s),t(us);var Gt=s(us,2);{var Yt=l=>{var r=$a(),h=a(r);t(r),x(()=>b(h,`No readings older than ${e(oe)??""} days found.`)),o(l,r)};u(Gt,l=>{e(P)&&e(P).readings_to_delete===0&&l(Yt)})}t(Xs),t(Qs),t(Ys),t(ps);var et=s(ps,2),st=s(a(et),2),tt=s(a(st),2),me=a(tt);me.__click=mt;var Qt=a(me);{var Xt=l=>{var r=en();E(),o(l,r)},Zt=l=>{var r=sn();E(),o(l,r)};u(Qt,l=>{e(y)==="reboot"?l(Xt):l(Zt,!1)})}t(me);var Je=s(me,2);Je.__click=jt;var $t=a(Je);{var ea=l=>{var r=tn();E(),o(l,r)},sa=l=>{var r=an();E(),o(l,r)};u($t,l=>{e(y)==="shutdown"?l(ea):l(sa,!1)})}t(Je),t(tt),t(st),t(et),t(A),x(()=>{Es=I(ts,1,"unit-btn svelte-hj1sc2",null,Es,{active:e(le)==="C"}),Os=I(zs,1,"unit-btn svelte-hj1sc2",null,Os,{active:e(le)==="F"}),Us=I(is,1,"toggle svelte-hj1sc2",null,Us,{active:e(Q)}),be(is,"aria-pressed",e(Q)),Ms=I(rs,1,"toggle svelte-hj1sc2",null,Ms,{active:e(re)}),be(rs,"aria-pressed",e(re)),fe.disabled=e(xe),b(Ut,e(ie)),W.disabled=e(y)==="timezone",Ws!==(Ws=e(ie))&&(W.value=(W.__value=e(ie))??"",ba(W,e(ie))),Vs=I(ds,1,"toggle svelte-hj1sc2",null,Vs,{active:e(J)}),be(ds,"aria-pressed",e(J)),ge.disabled=e(y)!==null,b(Kt,e(y)==="cleanup-preview"?"Checking...":"Preview"),me.disabled=e(y)!==null,Je.disabled=e(y)!==null}),N(Is,()=>e(we),l=>n(we,l)),N(Zs,()=>e(oe),l=>n(oe,l)),o(i,A)};u(St,i=>{e(Ss)?i(xt):i(kt,!1)})}t(Ze),o(rt,Ze),ha()}oa(["click","change"]);export{_n as component};
