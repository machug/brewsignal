import{d as mr,f as p,a as v,s as l,e as $t,c as pe,t as be}from"../chunks/D3BGmjiQ.js";import{a as fr,s as m,p as kt,o as zr,f as Yt,c as i,d as a,g as n,t as S,h as gr,i as t,j as r,k as xe,n as Ut,l as te}from"../chunks/qPFz7rcR.js";import{e as Dt,i as At}from"../chunks/fEN5jtvK.js";import{i as k}from"../chunks/VWvnMYpw.js";import{r as et}from"../chunks/D6lThKhy.js";import{s as yt}from"../chunks/B1LnsfEN.js";import{b as J,a as He}from"../chunks/DzkFo9Qc.js";import{b as _e}from"../chunks/Dx7-pTgU.js";import{f as kr,a as yr,b as ee,c as hr,d as re,e as Fe,g as wr,h as qr,u as Er,i as Sr,j as Dr,k as Ar,l as jr,m as Cr,n as Lr,o as $r,p as Yr,q as Mr,r as Hr}from"../chunks/EAXntHjR.js";var Fr=p('<div class="rounded-lg bg-red-50 p-4 text-red-700 dark:bg-red-900/20 dark:text-red-400"> <button class="ml-2 underline">Dismiss</button></div>'),Tr=p('<span class="ml-1 rounded-full bg-amber-100 px-2 py-0.5 text-xs text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"> </span>'),Ir=p('<div class="flex items-center justify-center py-12"><div class="h-8 w-8 animate-spin rounded-full border-4 border-amber-500 border-t-transparent"></div></div>'),Nr=p('<div class="rounded-lg border border-dashed border-zinc-300 p-8 text-center dark:border-zinc-700"><p class="text-zinc-500 dark:text-zinc-400">No equipment added yet</p> <button class="mt-2 text-amber-600 hover:underline dark:text-amber-400">Add your first equipment</button></div>'),Vr=p('<p class="mt-2 text-sm text-zinc-600 dark:text-zinc-300"> </p>'),Br=p('<p class="text-sm text-zinc-500 dark:text-zinc-400"> </p>'),Ur=p('<div class="rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-700 dark:bg-zinc-800"><div class="flex items-start justify-between"><div><h3 class="font-medium text-zinc-900 dark:text-zinc-100"> </h3> <p class="text-sm text-zinc-500 dark:text-zinc-400"> </p></div> <span> </span></div> <!> <!> <div class="mt-3 flex gap-2"><button class="text-sm text-amber-600 hover:underline dark:text-amber-400">Edit</button> <button class="text-sm text-red-600 hover:underline dark:text-red-400">Delete</button></div></div>'),Pr=p('<div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3"></div>'),Kr=p('<div class="space-y-4"><div class="flex items-center justify-between"><p class="text-sm text-zinc-500 dark:text-zinc-400"> </p> <button class="rounded-lg bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600">Add Equipment</button></div> <!></div>'),Qr=p('<div class="grid gap-4 sm:grid-cols-3"><div class="rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-700 dark:bg-zinc-800"><p class="text-sm text-zinc-500 dark:text-zinc-400">Total Weight</p> <p class="text-2xl font-semibold text-zinc-900 dark:text-zinc-100"> </p></div> <div class="rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-700 dark:bg-zinc-800"><p class="text-sm text-zinc-500 dark:text-zinc-400">Varieties</p> <p class="text-2xl font-semibold text-zinc-900 dark:text-zinc-100"> </p></div> <div class="rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-700 dark:bg-zinc-800"><p class="text-sm text-zinc-500 dark:text-zinc-400">Lots</p> <p class="text-2xl font-semibold text-zinc-900 dark:text-zinc-100"> </p></div></div>'),Wr=p('<div class="rounded-lg border border-dashed border-zinc-300 p-8 text-center dark:border-zinc-700"><p class="text-zinc-500 dark:text-zinc-400"> </p></div>'),Gr=p('<tr class="border-b border-zinc-100 dark:border-zinc-800"><td class="py-3 font-medium text-zinc-900 dark:text-zinc-100"> </td><td class="py-3 text-right text-zinc-600 dark:text-zinc-300"> </td><td class="py-3 text-right text-zinc-600 dark:text-zinc-300"> </td><td class="py-3 capitalize text-zinc-600 dark:text-zinc-300"> </td><td class="py-3 text-zinc-600 dark:text-zinc-300"> </td><td class="py-3 text-zinc-500 dark:text-zinc-400"> </td><td class="py-3 text-right"><button class="text-amber-600 hover:underline dark:text-amber-400">Adjust</button> <span class="mx-1 text-zinc-300">|</span> <button class="text-zinc-600 hover:underline dark:text-zinc-400">Edit</button> <span class="mx-1 text-zinc-300">|</span> <button class="text-red-600 hover:underline dark:text-red-400">Delete</button></td></tr>'),Or=p('<div class="overflow-x-auto"><table class="w-full text-sm"><thead><tr class="border-b border-zinc-200 dark:border-zinc-700"><th class="py-3 text-left font-medium text-zinc-500 dark:text-zinc-400">Variety</th><th class="py-3 text-right font-medium text-zinc-500 dark:text-zinc-400">Amount</th><th class="py-3 text-right font-medium text-zinc-500 dark:text-zinc-400">AA%</th><th class="py-3 text-left font-medium text-zinc-500 dark:text-zinc-400">Form</th><th class="py-3 text-left font-medium text-zinc-500 dark:text-zinc-400">Year</th><th class="py-3 text-left font-medium text-zinc-500 dark:text-zinc-400">Location</th><th class="py-3 text-right font-medium text-zinc-500 dark:text-zinc-400">Actions</th></tr></thead><tbody></tbody></table></div>'),Jr=p('<div class="space-y-4"><!> <div class="flex items-center justify-between gap-4"><input type="text" placeholder="Search hops..." class="flex-1 rounded-lg border border-zinc-300 px-3 py-2 text-sm dark:border-zinc-600 dark:bg-zinc-800"/> <button class="rounded-lg bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600">Add Hops</button></div> <!></div>'),Rr=p('<div class="grid gap-4 sm:grid-cols-4"><div class="rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-700 dark:bg-zinc-800"><p class="text-sm text-zinc-500 dark:text-zinc-400">Total Packs</p> <p class="text-2xl font-semibold text-zinc-900 dark:text-zinc-100"> </p></div> <div class="rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-700 dark:bg-zinc-800"><p class="text-sm text-zinc-500 dark:text-zinc-400">Strains</p> <p class="text-2xl font-semibold text-zinc-900 dark:text-zinc-100"> </p></div> <div class="rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-700 dark:bg-zinc-800"><p class="text-sm text-zinc-500 dark:text-zinc-400">Expiring Soon</p> <p> </p></div> <div class="rounded-lg border border-zinc-200 bg-white p-4 dark:border-zinc-700 dark:bg-zinc-800"><p class="text-sm text-zinc-500 dark:text-zinc-400">Expired</p> <p> </p></div></div>'),Xr=p("<li> </li>"),Zr=p('<li class="text-amber-600"> </li>'),ta=p('<div class="rounded-lg border border-amber-200 bg-amber-50 p-4 dark:border-amber-800 dark:bg-amber-900/20"><p class="font-medium text-amber-800 dark:text-amber-200">Yeast expiring within 30 days:</p> <ul class="mt-2 space-y-1 text-sm text-amber-700 dark:text-amber-300"><!> <!></ul></div>'),ea=p('<div class="rounded-lg border border-dashed border-zinc-300 p-8 text-center dark:border-zinc-700"><p class="text-zinc-500 dark:text-zinc-400"> </p></div>'),ra=p('<div class="text-xs text-zinc-500 dark:text-zinc-400"> </div>'),aa=p('<div class="text-xs text-amber-600 dark:text-amber-400"> </div>'),ia=p('<span class="text-xs"> </span>'),na=p('<button class="text-green-600 hover:underline dark:text-green-400">Use 1</button> <span class="mx-1 text-zinc-300">|</span>',1),da=p('<tr class="border-b border-zinc-100 dark:border-zinc-800"><td class="py-3"><div class="font-medium text-zinc-900 dark:text-zinc-100"> </div> <!> <!></td><td class="py-3 text-right text-zinc-600 dark:text-zinc-300"> </td><td class="py-3 capitalize text-zinc-600 dark:text-zinc-300"> </td><td> <!></td><td class="py-3 text-zinc-500 dark:text-zinc-400"> </td><td class="py-3 text-right"><!> <button class="text-zinc-600 hover:underline dark:text-zinc-400">Edit</button> <span class="mx-1 text-zinc-300">|</span> <button class="text-red-600 hover:underline dark:text-red-400">Delete</button></td></tr>'),oa=p('<div class="overflow-x-auto"><table class="w-full text-sm"><thead><tr class="border-b border-zinc-200 dark:border-zinc-700"><th class="py-3 text-left font-medium text-zinc-500 dark:text-zinc-400">Strain</th><th class="py-3 text-right font-medium text-zinc-500 dark:text-zinc-400">Qty</th><th class="py-3 text-left font-medium text-zinc-500 dark:text-zinc-400">Form</th><th class="py-3 text-left font-medium text-zinc-500 dark:text-zinc-400">Expiry</th><th class="py-3 text-left font-medium text-zinc-500 dark:text-zinc-400">Location</th><th class="py-3 text-right font-medium text-zinc-500 dark:text-zinc-400">Actions</th></tr></thead><tbody></tbody></table></div>'),sa=p('<div class="space-y-4"><!> <!> <div class="flex flex-wrap items-center justify-between gap-4"><div class="flex items-center gap-4"><input type="text" placeholder="Search yeast..." class="rounded-lg border border-zinc-300 px-3 py-2 text-sm dark:border-zinc-600 dark:bg-zinc-800"/> <label class="flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400"><input type="checkbox"/> Show expired</label></div> <button class="rounded-lg bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600">Add Yeast</button></div> <!></div>'),la=p("<!> <!> <!>",1),ca=p("<option> </option>"),va=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50"><div class="w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-zinc-800"><h2 class="mb-4 text-lg font-semibold text-zinc-900 dark:text-zinc-100"> </h2> <div class="space-y-4"><div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Name *</label> <input type="text" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700" placeholder="My Fermenter"/></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Type *</label> <select class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"></select></div> <div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Brand</label> <input type="text" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"/></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Model</label> <input type="text" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"/></div></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Capacity (L)</label> <input type="number" step="0.1" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"/></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Notes</label> <textarea rows="2" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"></textarea></div> <label class="flex items-center gap-2"><input type="checkbox"/> <span class="text-sm text-zinc-700 dark:text-zinc-300">Active</span></label></div> <div class="mt-6 flex justify-end gap-3"><button class="rounded-lg border border-zinc-300 px-4 py-2 text-sm dark:border-zinc-600">Cancel</button> <button class="rounded-lg bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600 disabled:opacity-50"> </button></div></div></div>'),ua=p('<button type="button" class="absolute right-2 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),pa=p('<button type="button"><div class="font-medium text-zinc-900 dark:text-zinc-100"> </div> <div class="text-xs text-zinc-500 dark:text-zinc-400"> </div></button>'),ba=p('<div class="absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-lg border border-zinc-200 bg-white shadow-lg dark:border-zinc-600 dark:bg-zinc-700"></div>'),xa=p('<div class="absolute z-10 mt-1 w-full rounded-lg border border-zinc-200 bg-white p-3 text-sm text-zinc-500 shadow-lg dark:border-zinc-600 dark:bg-zinc-700 dark:text-zinc-400">No matching varieties found. Enter custom name.</div>'),_a=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50"><div class="w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-zinc-800"><h2 class="mb-4 text-lg font-semibold text-zinc-900 dark:text-zinc-100"> </h2> <div class="space-y-4"><div class="relative"><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Variety *</label> <div class="relative mt-1"><input type="text" placeholder="Search by name or origin..." class="w-full rounded-lg border border-zinc-300 px-3 py-2 pr-8 dark:border-zinc-600 dark:bg-zinc-700"/> <!></div> <!></div> <div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Amount (g) *</label> <input type="number" step="1" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"/></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Alpha Acid %</label> <input type="number" step="0.1" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"/></div></div> <div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Form</label> <select class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"><option>Pellet</option><option>Leaf</option><option>Plug</option></select></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Crop Year</label> <input type="number" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"/></div></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Storage Location</label> <input type="text" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700" placeholder="Freezer A"/></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Notes</label> <textarea rows="2" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"></textarea></div></div> <div class="mt-6 flex justify-end gap-3"><button class="rounded-lg border border-zinc-300 px-4 py-2 text-sm dark:border-zinc-600">Cancel</button> <button class="rounded-lg bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600 disabled:opacity-50"> </button></div></div></div>'),ma=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50"><div class="w-full max-w-sm rounded-lg bg-white p-6 shadow-xl dark:bg-zinc-800"><h2 class="mb-4 text-lg font-semibold text-zinc-900 dark:text-zinc-100"> </h2> <p class="mb-4 text-sm text-zinc-500 dark:text-zinc-400"> </p> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Amount to add/subtract (g)</label> <input type="number" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700" placeholder="-50 or 100"/> <p class="mt-1 text-xs text-zinc-500 dark:text-zinc-400">Use negative numbers to subtract</p></div> <div class="mt-6 flex justify-end gap-3"><button class="rounded-lg border border-zinc-300 px-4 py-2 text-sm dark:border-zinc-600">Cancel</button> <button class="rounded-lg bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600 disabled:opacity-50"> </button></div></div></div>'),fa=p('<button type="button" class="absolute right-2 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),za=p('<button type="button"><div class="font-medium text-zinc-900 dark:text-zinc-100"> </div> <div class="text-xs text-zinc-500 dark:text-zinc-400"> </div></button>'),ga=p('<div class="absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-lg border border-zinc-200 bg-white shadow-lg dark:border-zinc-600 dark:bg-zinc-700"></div>'),ka=p('<div class="absolute z-10 mt-1 w-full rounded-lg border border-zinc-200 bg-white p-3 text-sm text-zinc-500 shadow-lg dark:border-zinc-600 dark:bg-zinc-700 dark:text-zinc-400">No matching strains found. Use "Custom Name" below.</div>'),ya=p('<div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Custom Name</label> <input type="text" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700" placeholder="My harvested strain"/></div>'),ha=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50"><div class="w-full max-w-md max-h-[90vh] overflow-y-auto rounded-lg bg-white p-6 shadow-xl dark:bg-zinc-800"><h2 class="mb-4 text-lg font-semibold text-zinc-900 dark:text-zinc-100"> </h2> <div class="space-y-4"><div class="relative"><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Yeast Strain</label> <div class="relative mt-1"><input type="text" placeholder="Search by name, producer, or product ID..." class="w-full rounded-lg border border-zinc-300 px-3 py-2 pr-8 dark:border-zinc-600 dark:bg-zinc-700"/> <!></div> <!></div> <!> <div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Quantity</label> <input type="number" min="0" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"/></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Form</label> <select class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"><option>Dry</option><option>Liquid</option><option>Slant</option><option>Harvested</option></select></div></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Expiry Date</label> <input type="date" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"/></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Storage Location</label> <input type="text" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700" placeholder="Fridge A"/></div> <div><label class="block text-sm font-medium text-zinc-700 dark:text-zinc-300">Notes</label> <textarea rows="2" class="mt-1 w-full rounded-lg border border-zinc-300 px-3 py-2 dark:border-zinc-600 dark:bg-zinc-700"></textarea></div></div> <div class="mt-6 flex justify-end gap-3"><button class="rounded-lg border border-zinc-300 px-4 py-2 text-sm dark:border-zinc-600">Cancel</button> <button class="rounded-lg bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600 disabled:opacity-50"> </button></div></div></div>'),wa=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50"><div class="w-full max-w-sm rounded-lg bg-white p-6 shadow-xl dark:bg-zinc-800"><h2 class="mb-4 text-lg font-semibold text-zinc-900 dark:text-zinc-100">Confirm Delete</h2> <p class="text-zinc-600 dark:text-zinc-300">Are you sure you want to delete <strong><!></strong>?</p> <div class="mt-6 flex justify-end gap-3"><button class="rounded-lg border border-zinc-300 px-4 py-2 text-sm dark:border-zinc-600">Cancel</button> <button class="rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50"> </button></div></div></div>'),qa=p('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-semibold text-zinc-900 dark:text-zinc-100">Inventory</h1> <p class="text-sm text-zinc-500 dark:text-zinc-400">Track your brewing equipment, hops, and yeast</p></div></div> <!> <div class="border-b border-zinc-200 dark:border-zinc-700"><nav class="-mb-px flex space-x-8"><button>Equipment <span class="ml-2 rounded-full bg-zinc-100 px-2 py-0.5 text-xs dark:bg-zinc-800"> </span></button> <button>Hops <span class="ml-2 rounded-full bg-zinc-100 px-2 py-0.5 text-xs dark:bg-zinc-800"> </span></button> <button>Yeast <span class="ml-2 rounded-full bg-zinc-100 px-2 py-0.5 text-xs dark:bg-zinc-800"> </span> <!></button></nav></div> <!></div> <!> <!> <!> <!> <!>',1);function Ma(Te,Ie){fr(Ie,!0);let gt=m("hops"),ae=m(!0),ut=m(null),mt=m(kt([])),Pt=m(!1),Mt=m(null),W=m(kt({name:"",type:"fermenter",brand:"",model:"",capacity_liters:void 0,is_active:!0,notes:""})),pt=m(kt([])),ht=m(null),Kt=m(!1),Ht=m(null),N=m(kt({variety:"",amount_grams:0,alpha_acid_percent:void 0,crop_year:new Date().getFullYear(),form:"pellet",storage_location:"",notes:""})),Ft=m(""),Qt=m(kt([])),st=m(""),bt=m(!1),lt=m(-1),qt=m(null),Wt=te(()=>{if(!t(st).trim())return t(Qt).slice(0,50);const d=t(st).toLowerCase().split(/\s+/).filter(Boolean);return t(Qt).map(s=>{const z=`${s.name} ${s.origin||""} ${s.aroma_profile||""}`.toLowerCase();let M=0;for(const D of d)z.includes(D)&&(M+=10,s.name.toLowerCase().startsWith(D)&&(M+=5));return{variety:s,score:M}}).filter(s=>s.score>0).sort((s,z)=>z.score-s.score).slice(0,30).map(s=>s.variety)}),xt=m(kt([])),dt=m(null),jt=m(kt([])),Gt=m(!1),Tt=m(null),B=m(kt({yeast_strain_id:void 0,custom_name:"",quantity:1,form:"dry",expiry_date:"",storage_location:"",notes:""})),Ot=m(kt([])),It=m(""),ie=m(!1),ft=m(""),zt=m(!1),ct=m(-1),_t=m(null),Jt=te(()=>{if(!t(ft).trim())return t(Ot).slice(0,50);const d=t(ft).toLowerCase().split(/\s+/).filter(Boolean);return t(Ot).map(s=>{const z=`${s.name} ${s.producer} ${s.product_id||""}`.toLowerCase();let M=0;for(const D of d)z.includes(D)&&(M+=10,s.name.toLowerCase().startsWith(D)&&(M+=5),s.product_id?.toLowerCase().startsWith(D)&&(M+=5));return{strain:s,score:M}}).filter(s=>s.score>0).sort((s,z)=>z.score-s.score).slice(0,30).map(s=>s.strain)}),Rt=m(!1),Ct=m(null),Lt=m(0),U=m(null),it=m(!1),Xt=m(!1);const me=[{value:"all_in_one",label:"All-in-One System"},{value:"kettle",label:"Brew Kettle"},{value:"fermenter",label:"Fermenter"},{value:"mash_tun",label:"Mash Tun"},{value:"lauter_tun",label:"Lauter Tun"},{value:"hot_liquor_tank",label:"Hot Liquor Tank"},{value:"chiller",label:"Chiller"},{value:"pump",label:"Pump"},{value:"mill",label:"Grain Mill"},{value:"bottling",label:"Bottling"},{value:"kegging",label:"Kegging"},{value:"other",label:"Other"}];let fe=te(()=>{if(!t(Ft))return t(pt);const e=t(Ft).toLowerCase();return t(pt).filter(d=>d.variety.toLowerCase().includes(e)||d.storage_location?.toLowerCase().includes(e)||d.supplier?.toLowerCase().includes(e))}),ze=te(()=>{if(!t(It))return t(xt);const e=t(It).toLowerCase();return t(xt).filter(d=>d.yeast_strain?.name.toLowerCase().includes(e)||d.custom_name?.toLowerCase().includes(e)||d.yeast_strain?.product_id?.toLowerCase().includes(e))});async function ge(){i(ae,!0),i(ut,null);try{const[e,d,s,z,M,D,R,G]=await Promise.all([kr(),yr(),ee(),hr({include_expired:t(ie)}),re(),Fe(30),wr({limit:500}),qr({limit:500})]);i(mt,e,!0),i(pt,d,!0),i(ht,s,!0),i(xt,z,!0),i(dt,M,!0),i(jt,D,!0),i(Ot,R,!0),i(Qt,G,!0)}catch(e){i(ut,e instanceof Error?e.message:"Failed to load inventory",!0)}finally{i(ae,!1)}}function ne(e){e?(i(Mt,e,!0),i(W,{name:e.name,type:e.type,brand:e.brand||"",model:e.model||"",capacity_liters:e.capacity_liters,is_active:e.is_active,notes:e.notes||""},!0)):(i(Mt,null),i(W,{name:"",type:"fermenter",brand:"",model:"",capacity_liters:void 0,is_active:!0,notes:""},!0)),i(Pt,!0)}async function Ne(){if(t(W).name.trim()){i(it,!0);try{if(t(Mt)){const e=await Er(t(Mt).id,t(W));i(mt,t(mt).map(d=>d.id===e.id?e:d),!0)}else{const e=await Sr(t(W));i(mt,[e,...t(mt)],!0)}i(Pt,!1)}catch(e){i(ut,e instanceof Error?e.message:"Failed to save equipment",!0)}finally{i(it,!1)}}}function ke(e){e?(i(Ht,e,!0),i(N,{variety:e.variety,amount_grams:e.amount_grams,alpha_acid_percent:e.alpha_acid_percent,crop_year:e.crop_year,form:e.form,storage_location:e.storage_location||"",supplier:e.supplier||"",notes:e.notes||""},!0),i(qt,t(Qt).find(d=>d.name.toLowerCase()===e.variety.toLowerCase())||null,!0),i(st,e.variety,!0)):(i(Ht,null),i(N,{variety:"",amount_grams:0,alpha_acid_percent:void 0,crop_year:new Date().getFullYear(),form:"pellet",storage_location:"",notes:""},!0),i(qt,null),i(st,"")),i(bt,!1),i(lt,-1),i(Kt,!0)}function de(e){i(qt,e,!0),e?(t(N).variety=e.name,i(st,e.name,!0),e.alpha_acid_low&&e.alpha_acid_high&&(t(N).alpha_acid_percent=(e.alpha_acid_low+e.alpha_acid_high)/2)):(t(N).variety="",i(st,"")),i(bt,!1),i(lt,-1)}function Ve(e){const d=t(Wt);if(!t(bt)&&e.key!=="Escape"){i(bt,!0);return}switch(e.key){case"ArrowDown":e.preventDefault(),i(lt,Math.min(t(lt)+1,d.length-1),!0);break;case"ArrowUp":e.preventDefault(),i(lt,Math.max(t(lt)-1,-1),!0);break;case"Enter":e.preventDefault(),t(lt)>=0&&t(lt)<d.length?de(d[t(lt)]):t(st).trim()&&(t(N).variety=t(st).trim(),i(bt,!1));break;case"Escape":i(bt,!1),i(lt,-1);break;case"Tab":i(bt,!1);break}}function Be(){i(bt,!0),i(lt,-1),t(N).variety=t(st),t(qt)&&t(st)!==t(qt).name&&i(qt,null)}async function Ue(){if(t(N).variety.trim()){i(it,!0);try{if(t(Ht)){const e=await Dr(t(Ht).id,t(N));i(pt,t(pt).map(d=>d.id===e.id?e:d),!0)}else{const e=await Ar(t(N));i(pt,[e,...t(pt)],!0)}i(Kt,!1),i(ht,await ee(),!0)}catch(e){i(ut,e instanceof Error?e.message:"Failed to save hop",!0)}finally{i(it,!1)}}}function Pe(e){i(Ct,e,!0),i(Lt,0),i(Rt,!0)}async function Ke(){if(!(!t(Ct)||t(Lt)===0)){i(it,!0);try{const e=await jr(t(Ct).id,t(Lt));i(pt,t(pt).map(d=>d.id===e.id?e:d),!0),i(Rt,!1),i(ht,await ee(),!0)}catch(e){i(ut,e instanceof Error?e.message:"Failed to adjust hop amount",!0)}finally{i(it,!1)}}}function ye(e){e?(i(Tt,e,!0),i(B,{yeast_strain_id:e.yeast_strain_id,custom_name:e.custom_name||"",quantity:e.quantity,form:e.form,expiry_date:e.expiry_date?.split("T")[0]||"",storage_location:e.storage_location||"",supplier:e.supplier||"",notes:e.notes||""},!0),e.yeast_strain_id?(i(_t,t(Ot).find(d=>d.id===e.yeast_strain_id)||null,!0),i(ft,t(_t)?`${t(_t).name} (${t(_t).producer})`:"",!0)):(i(_t,null),i(ft,""))):(i(Tt,null),i(B,{yeast_strain_id:void 0,custom_name:"",quantity:1,form:"dry",expiry_date:"",storage_location:"",notes:""},!0),i(_t,null),i(ft,"")),i(zt,!1),i(ct,-1),i(Gt,!0)}function oe(e){i(_t,e,!0),e?(t(B).yeast_strain_id=e.id,i(ft,`${e.name} (${e.producer})`)):(t(B).yeast_strain_id=void 0,i(ft,"")),i(zt,!1),i(ct,-1)}function Qe(e){const d=t(Jt);if(!t(zt)&&e.key!=="Escape"){i(zt,!0);return}switch(e.key){case"ArrowDown":e.preventDefault(),i(ct,Math.min(t(ct)+1,d.length-1),!0);break;case"ArrowUp":e.preventDefault(),i(ct,Math.max(t(ct)-1,-1),!0);break;case"Enter":e.preventDefault(),t(ct)>=0&&t(ct)<d.length&&oe(d[t(ct)]);break;case"Escape":i(zt,!1),i(ct,-1);break;case"Tab":i(zt,!1);break}}function We(){if(i(zt,!0),i(ct,-1),t(_t)){const e=`${t(_t).name} (${t(_t).producer})`;t(ft)!==e&&(i(_t,null),t(B).yeast_strain_id=void 0)}}async function Ge(){if(!t(B).yeast_strain_id&&!t(B).custom_name?.trim()){i(ut,"Select a yeast strain or enter a custom name");return}i(it,!0);try{const e={...t(B),expiry_date:t(B).expiry_date||void 0};if(t(Tt)){const d=await Cr(t(Tt).id,e);i(xt,t(xt).map(s=>s.id===d.id?d:s),!0)}else{const d=await Lr(e);i(xt,[d,...t(xt)],!0)}i(Gt,!1),i(dt,await re(),!0),i(jt,await Fe(30),!0)}catch(e){i(ut,e instanceof Error?e.message:"Failed to save yeast",!0)}finally{i(it,!1)}}async function Oe(e){try{const d=await Hr(e.id,1);i(xt,t(xt).map(s=>s.id===d.id?d:s),!0),i(dt,await re(),!0)}catch(d){i(ut,d instanceof Error?d.message:"Failed to use yeast",!0)}}async function Je(){if(t(U)){i(Xt,!0);try{t(U).type==="equipment"?(await $r(t(U).item.id),i(mt,t(mt).filter(e=>e.id!==t(U).item.id),!0)):t(U).type==="hop"?(await Yr(t(U).item.id),i(pt,t(pt).filter(e=>e.id!==t(U).item.id),!0),i(ht,await ee(),!0)):t(U).type==="yeast"&&(await Mr(t(U).item.id),i(xt,t(xt).filter(e=>e.id!==t(U).item.id),!0),i(dt,await re(),!0)),i(U,null)}catch(e){i(ut,e instanceof Error?e.message:"Failed to delete item",!0)}finally{i(Xt,!1)}}}function he(e){return e?new Date(e).toLocaleDateString():"--"}function se(e){if(!e)return null;const d=new Date(e),s=new Date,z=d.getTime()-s.getTime();return Math.ceil(z/(1e3*60*60*24))}function Re(e){const d=se(e);return d===null?"":d<0?"text-red-500":d<=30?"text-amber-500":"text-green-600"}zr(ge);var we=qa(),le=Yt(we),qe=n(a(le),2);{var Xe=e=>{var d=Fr(),s=a(d),z=n(s);z.__click=()=>i(ut,null),r(d),S(()=>l(s,`${t(ut)??""} `)),v(e,d)};k(qe,e=>{t(ut)&&e(Xe)})}var ce=n(qe,2),Ee=a(ce),Nt=a(Ee);Nt.__click=()=>i(gt,"equipment");var Se=n(a(Nt)),Ze=a(Se,!0);r(Se),r(Nt);var Vt=n(Nt,2);Vt.__click=()=>i(gt,"hops");var De=n(a(Vt)),tr=a(De,!0);r(De),r(Vt);var Zt=n(Vt,2);Zt.__click=()=>i(gt,"yeast");var ve=n(a(Zt)),er=a(ve,!0);r(ve);var rr=n(ve,2);{var ar=e=>{var d=Tr(),s=a(d);r(d),S(()=>l(s,`${t(dt).expiring_soon??""} expiring`)),v(e,d)};k(rr,e=>{t(dt)&&t(dt).expiring_soon>0&&e(ar)})}r(Zt),r(Ee),r(ce);var ir=n(ce,2);{var nr=e=>{var d=Ir();v(e,d)},dr=e=>{var d=la(),s=Yt(d);{var z=_=>{var L=Kr(),$=a(L),P=a($),H=a(P);r(P);var K=n(P,2);K.__click=()=>ne(),r($);var X=n($,2);{var Z=w=>{var x=Nr(),C=n(a(x),2);C.__click=()=>ne(),r(x),v(w,x)},tt=w=>{var x=Pr();Dt(x,21,()=>t(mt),At,(C,f)=>{var F=Ur(),O=a(F),c=a(O),g=a(c),u=a(g,!0);r(g);var A=n(g,2),j=a(A,!0);r(A),r(c);var b=n(c,2),q=a(b,!0);r(b),r(O);var T=n(O,2);{var Y=E=>{var h=Vr(),I=a(h,!0);r(h),S(V=>l(I,V),[()=>[t(f).brand,t(f).model].filter(Boolean).join(" ")]),v(E,h)};k(T,E=>{(t(f).brand||t(f).model)&&E(Y)})}var rt=n(T,2);{var Q=E=>{var h=Br(),I=a(h);r(h),S(()=>l(I,`${t(f).capacity_liters??""}L capacity`)),v(E,h)};k(rt,E=>{t(f).capacity_liters&&E(Q)})}var vt=n(rt,2),o=a(vt);o.__click=()=>ne(t(f));var y=n(o,2);y.__click=()=>i(U,{type:"equipment",item:t(f)},!0),r(vt),r(F),S(E=>{l(u,t(f).name),l(j,E),yt(b,1,`rounded-full px-2 py-0.5 text-xs ${t(f).is_active?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-zinc-100 text-zinc-500 dark:bg-zinc-700 dark:text-zinc-400"}`),l(q,t(f).is_active?"Active":"Inactive")},[()=>me.find(E=>E.value===t(f).type)?.label||t(f).type]),v(C,F)}),r(x),v(w,x)};k(X,w=>{t(mt).length===0?w(Z):w(tt,!1)})}r(L),S(()=>l(H,`${t(mt).length??""} items`)),v(_,L)};k(s,_=>{t(gt)==="equipment"&&_(z)})}var M=n(s,2);{var D=_=>{var L=Jr(),$=a(L);{var P=x=>{var C=Qr(),f=a(C),F=n(a(f),2),O=a(F);r(F),r(f);var c=n(f,2),g=n(a(c),2),u=a(g,!0);r(g),r(c);var A=n(c,2),j=n(a(A),2),b=a(j,!0);r(j),r(A),r(C),S(q=>{l(O,`${q??""} kg`),l(u,t(ht).unique_varieties),l(b,t(ht).total_items)},[()=>(t(ht).total_grams/1e3).toFixed(2)]),v(x,C)};k($,x=>{t(ht)&&x(P)})}var H=n($,2),K=a(H);et(K);var X=n(K,2);X.__click=()=>ke(),r(H);var Z=n(H,2);{var tt=x=>{var C=Wr(),f=a(C),F=a(f,!0);r(f),r(C),S(()=>l(F,t(Ft)?"No hops match your search":"No hops in inventory")),v(x,C)},w=x=>{var C=Or(),f=a(C),F=n(a(f));Dt(F,21,()=>t(fe),At,(O,c)=>{var g=Gr(),u=a(g),A=a(u,!0);r(u);var j=n(u),b=a(j,!0);r(j);var q=n(j),T=a(q,!0);r(q);var Y=n(q),rt=a(Y,!0);r(Y);var Q=n(Y),vt=a(Q,!0);r(Q);var o=n(Q),y=a(o,!0);r(o);var E=n(o),h=a(E);h.__click=()=>Pe(t(c));var I=n(h,4);I.__click=()=>ke(t(c));var V=n(I,4);V.__click=()=>i(U,{type:"hop",item:t(c)},!0),r(E),r(g),S((ot,wt)=>{l(A,t(c).variety),l(b,ot),l(T,wt),l(rt,t(c).form),l(vt,t(c).crop_year||"--"),l(y,t(c).storage_location||"--")},[()=>t(c).amount_grams>=1e3?`${(t(c).amount_grams/1e3).toFixed(2)} kg`:`${t(c).amount_grams.toFixed(0)} g`,()=>t(c).alpha_acid_percent?.toFixed(1)||"--"]),v(O,g)}),r(F),r(f),r(C),v(x,C)};k(Z,x=>{t(fe).length===0?x(tt):x(w,!1)})}r(L),J(K,()=>t(Ft),x=>i(Ft,x)),v(_,L)};k(M,_=>{t(gt)==="hops"&&_(D)})}var R=n(M,2);{var G=_=>{var L=sa(),$=a(L);{var P=c=>{var g=Rr(),u=a(g),A=n(a(u),2),j=a(A,!0);r(A),r(u);var b=n(u,2),q=n(a(b),2),T=a(q,!0);r(q),r(b);var Y=n(b,2),rt=n(a(Y),2),Q=a(rt,!0);r(rt),r(Y);var vt=n(Y,2),o=n(a(vt),2),y=a(o,!0);r(o),r(vt),r(g),S(()=>{l(j,t(dt).total_quantity),l(T,t(dt).total_items),yt(rt,1,`text-2xl font-semibold ${t(dt).expiring_soon>0?"text-amber-600":"text-zinc-900 dark:text-zinc-100"}`),l(Q,t(dt).expiring_soon),yt(o,1,`text-2xl font-semibold ${t(dt).expired>0?"text-red-600":"text-zinc-900 dark:text-zinc-100"}`),l(y,t(dt).expired)}),v(c,g)};k($,c=>{t(dt)&&c(P)})}var H=n($,2);{var K=c=>{var g=ta(),u=n(a(g),2),A=a(u);Dt(A,17,()=>t(jt).slice(0,5),At,(q,T)=>{var Y=Xr(),rt=a(Y);r(Y),S(Q=>l(rt,`${(t(T).yeast_strain?.name||t(T).custom_name)??""} - expires ${Q??""}`),[()=>he(t(T).expiry_date)]),v(q,Y)});var j=n(A,2);{var b=q=>{var T=Zr(),Y=a(T);r(T),S(()=>l(Y,`...and ${t(jt).length-5} more`)),v(q,T)};k(j,q=>{t(jt).length>5&&q(b)})}r(u),r(g),v(c,g)};k(H,c=>{t(jt).length>0&&c(K)})}var X=n(H,2),Z=a(X),tt=a(Z);et(tt);var w=n(tt,2),x=a(w);et(x),x.__change=ge,Ut(),r(w),r(Z);var C=n(Z,2);C.__click=()=>ye(),r(X);var f=n(X,2);{var F=c=>{var g=ea(),u=a(g),A=a(u,!0);r(u),r(g),S(()=>l(A,t(It)?"No yeast matches your search":"No yeast in inventory")),v(c,g)},O=c=>{var g=oa(),u=a(g),A=n(a(u));Dt(A,21,()=>t(ze),At,(j,b)=>{var q=da(),T=a(q),Y=a(T),rt=a(Y,!0);r(Y);var Q=n(Y,2);{var vt=at=>{var nt=ra(),St=a(nt);r(nt),S(()=>l(St,`${t(b).yeast_strain.producer??""} - ${t(b).yeast_strain.product_id??""}`)),v(at,nt)};k(Q,at=>{t(b).yeast_strain?.product_id&&at(vt)})}var o=n(Q,2);{var y=at=>{var nt=aa(),St=a(nt);r(nt),S(()=>l(St,`Gen ${t(b).generation??""} (harvested)`)),v(at,nt)};k(o,at=>{t(b).generation&&at(y)})}r(T);var E=n(T),h=a(E,!0);r(E);var I=n(E),V=a(I,!0);r(I);var ot=n(I),wt=a(ot),Et=n(wt);{var Bt=at=>{var nt=ia(),St=a(nt);r(nt),S(_r=>l(St,`(${_r??""}d)`),[()=>se(t(b).expiry_date)]),v(at,nt)};k(Et,at=>{se(t(b).expiry_date)!==null&&at(Bt)})}r(ot);var ue=n(ot),pr=a(ue,!0);r(ue);var $e=n(ue),Ye=a($e);{var br=at=>{var nt=na(),St=Yt(nt);St.__click=()=>Oe(t(b)),Ut(2),v(at,nt)};k(Ye,at=>{t(b).quantity>0&&at(br)})}var Me=n(Ye,2);Me.__click=()=>ye(t(b));var xr=n(Me,4);xr.__click=()=>i(U,{type:"yeast",item:t(b)},!0),r($e),r(q),S((at,nt)=>{l(rt,t(b).yeast_strain?.name||t(b).custom_name),l(h,t(b).quantity),l(V,t(b).form),yt(ot,1,`py-3 ${at??""}`),l(wt,`${nt??""} `),l(pr,t(b).storage_location||"--")},[()=>Re(t(b).expiry_date),()=>he(t(b).expiry_date)]),v(j,q)}),r(A),r(u),r(g),v(c,g)};k(f,c=>{t(ze).length===0?c(F):c(O,!1)})}r(L),J(tt,()=>t(It),c=>i(It,c)),He(x,()=>t(ie),c=>i(ie,c)),v(_,L)};k(R,_=>{t(gt)==="yeast"&&_(G)})}v(e,d)};k(ir,e=>{t(ae)?e(nr):e(dr,!1)})}r(le);var Ae=n(le,2);{var or=e=>{var d=va(),s=a(d),z=a(s),M=a(z,!0);r(z);var D=n(z,2),R=a(D),G=n(a(R),2);et(G),r(R);var _=n(R,2),L=n(a(_),2);Dt(L,21,()=>me,At,(u,A)=>{var j=ca(),b=a(j,!0);r(j);var q={};S(()=>{l(b,t(A).label),q!==(q=t(A).value)&&(j.value=(j.__value=t(A).value)??"")}),v(u,j)}),r(L),r(_);var $=n(_,2),P=a($),H=n(a(P),2);et(H),r(P);var K=n(P,2),X=n(a(K),2);et(X),r(K),r($);var Z=n($,2),tt=n(a(Z),2);et(tt),r(Z);var w=n(Z,2),x=n(a(w),2);xe(x),r(w);var C=n(w,2),f=a(C);et(f),Ut(2),r(C),r(D);var F=n(D,2),O=a(F);O.__click=()=>i(Pt,!1);var c=n(O,2);c.__click=Ne;var g=a(c,!0);r(c),r(F),r(s),r(d),S(u=>{l(M,t(Mt)?"Edit Equipment":"Add Equipment"),c.disabled=u,l(g,t(it)?"Saving...":"Save")},[()=>t(it)||!t(W).name.trim()]),J(G,()=>t(W).name,u=>t(W).name=u),_e(L,()=>t(W).type,u=>t(W).type=u),J(H,()=>t(W).brand,u=>t(W).brand=u),J(X,()=>t(W).model,u=>t(W).model=u),J(tt,()=>t(W).capacity_liters,u=>t(W).capacity_liters=u),J(x,()=>t(W).notes,u=>t(W).notes=u),He(f,()=>t(W).is_active,u=>t(W).is_active=u),v(e,d)};k(Ae,e=>{t(Pt)&&e(or)})}var je=n(Ae,2);{var sr=e=>{var d=_a(),s=a(d),z=a(s),M=a(z,!0);r(z);var D=n(z,2),R=a(D),G=n(a(R),2),_=a(G);et(_),_.__input=Be,_.__keydown=Ve;var L=n(_,2);{var $=o=>{var y=ua();y.__click=()=>de(null),v(o,y)};k(L,o=>{t(qt)&&o($)})}r(G);var P=n(G,2);{var H=o=>{var y=ba();Dt(y,21,()=>t(Wt),At,(E,h,I)=>{var V=pa();V.__mousedown=()=>de(t(h));var ot=a(V),wt=a(ot,!0);r(ot);var Et=n(ot,2),Bt=a(Et);r(Et),r(V),S(()=>{yt(V,1,`w-full px-3 py-2 text-left text-sm hover:bg-amber-50 dark:hover:bg-zinc-600 ${t(lt)===I?"bg-amber-100 dark:bg-zinc-600":""}`),l(wt,t(h).name),l(Bt,`${t(h).origin??""} â€¢ Alpha: ${t(h).alpha_acid_low??""}-${t(h).alpha_acid_high??""}%`)}),$t("mouseenter",V,()=>i(lt,I,!0)),v(E,V)}),r(y),v(o,y)},K=o=>{var y=pe(),E=Yt(y);{var h=I=>{var V=xa();v(I,V)};k(E,I=>{t(bt)&&t(st).trim()&&t(Wt).length===0&&I(h)},!0)}v(o,y)};k(P,o=>{t(bt)&&t(Wt).length>0?o(H):o(K,!1)})}r(R);var X=n(R,2),Z=a(X),tt=n(a(Z),2);et(tt),r(Z);var w=n(Z,2),x=n(a(w),2);et(x),r(w),r(X);var C=n(X,2),f=a(C),F=n(a(f),2),O=a(F);O.value=O.__value="pellet";var c=n(O);c.value=c.__value="leaf";var g=n(c);g.value=g.__value="plug",r(F),r(f);var u=n(f,2),A=n(a(u),2);et(A),r(u),r(C);var j=n(C,2),b=n(a(j),2);et(b),r(j);var q=n(j,2),T=n(a(q),2);xe(T),r(q),r(D);var Y=n(D,2),rt=a(Y);rt.__click=()=>i(Kt,!1);var Q=n(rt,2);Q.__click=Ue;var vt=a(Q,!0);r(Q),r(Y),r(s),r(d),S(o=>{l(M,t(Ht)?"Edit Hop":"Add Hop"),Q.disabled=o,l(vt,t(it)?"Saving...":"Save")},[()=>t(it)||!t(N).variety.trim()]),$t("focus",_,()=>i(bt,!0)),$t("blur",_,()=>setTimeout(()=>i(bt,!1),200)),J(_,()=>t(st),o=>i(st,o)),J(tt,()=>t(N).amount_grams,o=>t(N).amount_grams=o),J(x,()=>t(N).alpha_acid_percent,o=>t(N).alpha_acid_percent=o),_e(F,()=>t(N).form,o=>t(N).form=o),J(A,()=>t(N).crop_year,o=>t(N).crop_year=o),J(b,()=>t(N).storage_location,o=>t(N).storage_location=o),J(T,()=>t(N).notes,o=>t(N).notes=o),v(e,d)};k(je,e=>{t(Kt)&&e(sr)})}var Ce=n(je,2);{var lr=e=>{var d=ma(),s=a(d),z=a(s),M=a(z);r(z);var D=n(z,2),R=a(D);r(D);var G=n(D,2),_=n(a(G),2);et(_),Ut(2),r(G);var L=n(G,2),$=a(L);$.__click=()=>i(Rt,!1);var P=n($,2);P.__click=Ke;var H=a(P,!0);r(P),r(L),r(s),r(d),S(()=>{l(M,`Adjust ${t(Ct).variety??""}`),l(R,`Current: ${t(Ct).amount_grams??""}g`),P.disabled=t(it)||t(Lt)===0,l(H,t(it)?"Adjusting...":"Adjust")}),J(_,()=>t(Lt),K=>i(Lt,K)),v(e,d)};k(Ce,e=>{t(Rt)&&t(Ct)&&e(lr)})}var Le=n(Ce,2);{var cr=e=>{var d=ha(),s=a(d),z=a(s),M=a(z,!0);r(z);var D=n(z,2),R=a(D),G=n(a(R),2),_=a(G);et(_),_.__input=We,_.__keydown=Qe;var L=n(_,2);{var $=o=>{var y=fa();y.__click=()=>oe(null),v(o,y)};k(L,o=>{t(_t)&&o($)})}r(G);var P=n(G,2);{var H=o=>{var y=ga();Dt(y,21,()=>t(Jt),At,(E,h,I)=>{var V=za();V.__mousedown=()=>oe(t(h));var ot=a(V),wt=a(ot,!0);r(ot);var Et=n(ot,2),Bt=a(Et);r(Et),r(V),S(()=>{yt(V,1,`w-full px-3 py-2 text-left text-sm hover:bg-amber-50 dark:hover:bg-zinc-600 ${t(ct)===I?"bg-amber-100 dark:bg-zinc-600":""}`),l(wt,t(h).name),l(Bt,`${t(h).producer??""} ${t(h).product_id?`- ${t(h).product_id}`:""}`)}),$t("mouseenter",V,()=>i(ct,I,!0)),v(E,V)}),r(y),v(o,y)},K=o=>{var y=pe(),E=Yt(y);{var h=I=>{var V=ka();v(I,V)};k(E,I=>{t(zt)&&t(ft).trim()&&t(Jt).length===0&&I(h)},!0)}v(o,y)};k(P,o=>{t(zt)&&t(Jt).length>0?o(H):o(K,!1)})}r(R);var X=n(R,2);{var Z=o=>{var y=ya(),E=n(a(y),2);et(E),r(y),J(E,()=>t(B).custom_name,h=>t(B).custom_name=h),v(o,y)};k(X,o=>{t(B).yeast_strain_id||o(Z)})}var tt=n(X,2),w=a(tt),x=n(a(w),2);et(x),r(w);var C=n(w,2),f=n(a(C),2),F=a(f);F.value=F.__value="dry";var O=n(F);O.value=O.__value="liquid";var c=n(O);c.value=c.__value="slant";var g=n(c);g.value=g.__value="harvested",r(f),r(C),r(tt);var u=n(tt,2),A=n(a(u),2);et(A),r(u);var j=n(u,2),b=n(a(j),2);et(b),r(j);var q=n(j,2),T=n(a(q),2);xe(T),r(q),r(D);var Y=n(D,2),rt=a(Y);rt.__click=()=>i(Gt,!1);var Q=n(rt,2);Q.__click=Ge;var vt=a(Q,!0);r(Q),r(Y),r(s),r(d),S(()=>{l(M,t(Tt)?"Edit Yeast":"Add Yeast"),Q.disabled=t(it),l(vt,t(it)?"Saving...":"Save")}),$t("focus",_,()=>i(zt,!0)),$t("blur",_,()=>setTimeout(()=>i(zt,!1),200)),J(_,()=>t(ft),o=>i(ft,o)),J(x,()=>t(B).quantity,o=>t(B).quantity=o),_e(f,()=>t(B).form,o=>t(B).form=o),J(A,()=>t(B).expiry_date,o=>t(B).expiry_date=o),J(b,()=>t(B).storage_location,o=>t(B).storage_location=o),J(T,()=>t(B).notes,o=>t(B).notes=o),v(e,d)};k(Le,e=>{t(Gt)&&e(cr)})}var vr=n(Le,2);{var ur=e=>{var d=wa(),s=a(d),z=n(a(s),2),M=n(a(z)),D=a(M);{var R=H=>{var K=be();S(()=>l(K,t(U).item.name)),v(H,K)},G=H=>{var K=pe(),X=Yt(K);{var Z=w=>{var x=be();S(()=>l(x,t(U).item.variety)),v(w,x)},tt=w=>{var x=be();S(()=>l(x,t(U).item.yeast_strain?.name||t(U).item.custom_name)),v(w,x)};k(X,w=>{t(U).type==="hop"?w(Z):w(tt,!1)},!0)}v(H,K)};k(D,H=>{t(U).type==="equipment"?H(R):H(G,!1)})}r(M),Ut(),r(z);var _=n(z,2),L=a(_);L.__click=()=>i(U,null);var $=n(L,2);$.__click=Je;var P=a($,!0);r($),r(_),r(s),r(d),S(()=>{$.disabled=t(Xt),l(P,t(Xt)?"Deleting...":"Delete")}),v(e,d)};k(vr,e=>{t(U)&&e(ur)})}S(()=>{yt(Nt,1,`border-b-2 px-1 py-4 text-sm font-medium transition-colors ${t(gt)==="equipment"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-zinc-500 hover:border-zinc-300 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-300"}`),l(Ze,t(mt).length),yt(Vt,1,`border-b-2 px-1 py-4 text-sm font-medium transition-colors ${t(gt)==="hops"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-zinc-500 hover:border-zinc-300 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-300"}`),l(tr,t(pt).length),yt(Zt,1,`border-b-2 px-1 py-4 text-sm font-medium transition-colors ${t(gt)==="yeast"?"border-amber-500 text-amber-600 dark:text-amber-400":"border-transparent text-zinc-500 hover:border-zinc-300 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-300"}`),l(er,t(xt).length)}),v(Te,we),gr()}mr(["click","change","input","keydown","mousedown"]);export{Ma as component};
